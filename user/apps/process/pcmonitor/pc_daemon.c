/*监控进程:	主要目的是防止业务进程异常退出。pc_daemon进程为主监控进程，pc_monitor为监控脚本，pc_daemon通过调用监控脚本(pc_monitor)进行监控。目前监控pppoe、httpd、rc(通过监控httpd实现)、pc_daemon等进程，可扩展监控其它进程。监控进程pc_monitor与rc进程互相监控，防止监控进程pc_monitor异常退出。创建/日期:	谢奕勇/2013-03-02*/#include <stdio.h>#include <stdlib.h>#include <sys/types.h>#include <unistd.h>#include <sys/types.h>#include <sys/stat.h>#include <sys/types.h>#include <sys/stat.h>#include <fcntl.h>#include <time.h>#include <sys/time.h>#include <signal.h>#include "pc_daemon.h" //管理需要监控的进程int pc_monitor(void){    system("/sbin/pc_monitor httpd");}//监控进程int main(void){    pid_t pid = -1;    int   ret = -1;     pid = fork();    if(0 < pid)    {        //printf("parent: pid=%d ppid=%d\n", getpid(), getppid());        exit(0);    }     if(0 == pid)    {		        while(1)        {            //printf("\n\nmonitor...\n");			pc_monitor();              sleep(2);        }    }	    return ret;}