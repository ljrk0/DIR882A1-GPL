<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3c.org/1999/xhtml">
  
  <head>
    <title>
      D-LINK
    </title>
    <meta http-equiv="X-UA-Compatible" content="IE=9">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="Content-Type" content="text/css">
    <link href="css/jquery.selectbox.css" type="text/css" rel="stylesheet"
    />
    <script type="text/javascript" charset="utf-8" src="/js/initialJQ.js">
    </script>
    <script type="text/javascript" charset="utf-8" src="/js/initialJS.js">
    </script>
    <script type="text/javascript" charset="utf-8" src="/js/initialCSS.js">
    </script>
    <script type="text/javascript" charset="utf-8" src="/js/initialValidate1.js">
    </script>
    <script type="text/javascript">
      var HNAP = new HNAP_XML();
      var HNAP_WLanRadioSettings;
      var HNAP_WLanRadioSecurity;
      var GuestZone_24GHz_SSID = "";
      var GuestZone_5GHz_SSID = "";
      var qos_24GHz = false;
      var qos_5GHz = false;
      var secondaryChannel_24GHz = 0;
      var secondaryChannel_5GHz = 0;
      var _ReciprocalNumber = 25;
      var supportmode_24 = new Array();
      var supportmode_5 = new Array();
      var supportmode_count_24 = 0;
      var supportmode_count_5 = 0;
      var currentmode = new Array(2);
      var currentbw = new Array(2);
      var initoptionlist = new Array(false, false);
      var selected_wlmode;
      var selected_ssid;
      var selected_security;
      var ssid_list = new Array();
      var ssid_num;
      var xml_GetDeviceFeature = HNAP.GetXML("GetDeviceFeatureAlpha");
      var xml_GetOperationMode = HNAP.GetXML("GetOperationMode");
      var WifiVerify = false;
      var wep24g_supportMode = WEPMode_24GHz.split(/[\s,]+/);
      var wpa24g_supportMode = WPAMode_24GHz.split(/[\s,]+/);
      var wep5g_supportMode = WEPMode_5GHz.split(/[\s,]+/);
      var wpa5g_supportMode = WPAMode_5GHz.split(/[\s,]+/);
      var wep5g_support11acMode = Support11acMode_WEP.split(/[\s,]+/);
      var wpa5g_support11acMode = Support11acMode_WPA.split(/[\s,]+/);
      var feature_turbomode = xml_GetDeviceFeature.Get("GetDeviceFeatureAlphaResponse/FeatureTurboMode");
      var feature_highest = xml_GetDeviceFeature.Get("GetDeviceFeatureAlphaResponse/FeatureHighest");
      var device_layout = xml_GetOperationMode.Get("GetOperationModeResponse/OperationModeList/CurrentOPMode");
      var feature_dualband = false;
      var feature_guestzone = false;
      var support_apclient = false;
      var support_repeater = false;
      if (IsSupport5GHz == 1) {
        feature_dualband = true
      } else {
        feature_dualband = false
      }
      if (IsSupportGuestZone == 1) {
        feature_guestzone = true
      } else {
        feature_guestzone = false
      }
      if (IsSupportAPClient == 1 && device_layout == "WirelessBridge") {
        support_apclient = true
      } else {
        support_apclient = false
      }
      if (IsSupportRepeater == 1 && device_layout == "WirelessBridge") {
        support_repeater = true
      } else {
        support_repeater = false
      }
      function BandToIndex(a) {
        if (a == 24) {
          return 0
        } else {
          if (a == 5) {
            return 1
          } else {
            return "Error Band"
          }
        }
      }
      function Load_HTML() {
        $("#header").load("header.html")
      }
      function Initial() {
        initialMenu();
        initialDetectRouterConnection()
      }
      function AddSelectOpt(c, a, b) {
        $(c).append('<option value="' + a + '">' + b + "</option>")
      }
      function SupportMode(f, e, d, c) {
        var b = 0;
        if (d == "24") {
          if (c == "WEP-SHARED") {
            for (var a = 0; a < wep24g_supportMode.length; a++) {
              if (e == wep24g_supportMode[a]) {
                b = 1
              }


            }
          } else {
            for (var a = 0; a < wpa24g_supportMode.length; a++) {
              if (e == wpa24g_supportMode[a]) {
                b = 1
              }
            }
          }
        } else {
          if (d == "5") {
            if (c == "WEP-SHARED") {
              if (IsSupport11ac_5GHz == 1) {
                for (var a = 0; a < wep5g_support11acMode.length; a++) {
                  if (e == wep5g_support11acMode[a]) {
                    b = 1
                  }
                }
              } else {
                for (var a = 0; a < wep5g_supportMode.length; a++) {
                  if (e == wep5g_supportMode[a]) {
                    b = 1
                  }
                }
              }
            } else {
              if (IsSupport11ac_5GHz == 1) {
                for (var a = 0; a < wpa5g_support11acMode.length; a++) {
                  if (e == wpa5g_support11acMode[a]) {
                    b = 1
                  }
                }
              } else {
                for (var a = 0; a < wpa5g_supportMode.length; a++) {
                  if (e == wpa5g_supportMode[a]) {
                    b = 1
                  }
                }
              }
            }
          }
        }
        if (b != 1) {
          return
        }
        switch (e) {
        case "a":
          AddSelectOpt(f, e, "802.11a only");
          break;
        case "b":
          AddSelectOpt(f, e, "802.11b only");
          break;
        case "g":
          AddSelectOpt(f, e, "802.11g only");
          break;
        case "n":
          AddSelectOpt(f, e, "802.11n only");
          break;
        case "bg":
          AddSelectOpt(f, e, "Mixed 802.11b/g");
          break;
        case "gn":
          AddSelectOpt(f, e, "Mixed 802.11g/n");
          break;
        case "bgn":
          AddSelectOpt(f, e, "Mixed 802.11b/g/n");
          break;
        case "an":
          AddSelectOpt(f, e, "Mixed 802.11a/n");
          break;
        case "ac":
          AddSelectOpt(f, e, "802.11ac only");
          break;
        case "nac":
          AddSelectOpt(f, e, "Mixed 802.11n/ac");
          break;
        case "anac":
          AddSelectOpt(f, e, "Mixed 802.11a/n/ac");
          break
        }
      }
      function GetXML() {
        HNAP.GetXMLAsync("GetMultipleHNAPs", null, "GetXML",
        function(a) {
          GetResult(a)
        })
      }
      function GetResult(a) {
        if (a != null) {
          a.Set("GetMultipleHNAPs/GetScheduleSettings");
          a.Set("GetMultipleHNAPs/GetWLanRadios");
          a.Set("GetMultipleHNAPs/GetWLanRadioSettings:1/RadioID", "RADIO_2.4GHz");
          a.Set("GetMultipleHNAPs/GetWLanRadioSecurity:1/RadioID", "RADIO_2.4GHz");
          a.Set("GetMultipleHNAPs/GetWLanRadioSettings:2/RadioID", "RADIO_5GHz");
          a.Set("GetMultipleHNAPs/GetWLanRadioSecurity:2/RadioID", "RADIO_5GHz");
          a.Set("GetMultipleHNAPs/GetWLanRadioSettings:3/RadioID", "RADIO_2.4G_Guest");
          a.Set("GetMultipleHNAPs/GetWLanRadioSettings:4/RadioID", "RADIO_5G_Guest");
          a.Set("GetMultipleHNAPs/GetAPClientSettings");
          a.Set("GetMultipleHNAPs/GetWiFiVerifyAlpha");
          HNAP.SetXMLAsync("GetWLanSettings", a,
          function(b) {
            InitWLAN(b)
          })
        } else {
          if (DebugMode == 1) {
            alert("[!!GetXML Error!!] Function: GetResult")
          }
        }
      }
      function InitWLAN(b) {
        var a = b.Get("GetMultipleHNAPsResponse/GetMultipleHNAPsResult");
        if (a == "OK") {
          InitSupportInfo(b);
          if (feature_guestzone) {
            document.getElementById("FUNC_Guest").style.display = "block"
          } else {
            document.getElementById("FUNC_Guest").style.display = "none"
          }
          if (support_apclient) {
            document.getElementById("WIFI_STA").style.display = "block";
            document.getElementById("separated_line").style.display = "none";
            document.getElementById("RADIO_2GHz").style.display = "none";
            document.getElementById("RADIO_5GHz").style.display = "none";
            document.getElementById("FUNC_Guest").style.display = "none";
            InitWIFISTA(b)
          } else {
            if (support_repeater) {
              document.getElementById("WIFI_STA").style.display = "block";
              document.getElementById("separated_line").style.display = "block";
              document.getElementById("RADIO_2GHz").style.display = "block";
              InitWIFISTA(b);
              InitWLanValue(b, "1", "24");
              GuestZone_24GHz_SSID = b.Get("GetMultipleHNAPsResponse/GetWLanRadioSettingsResponse:3/SSID");
              if (feature_dualband) {
                document.getElementById("RADIO_5GHz").style.display = "block";
                InitWLanValue(b, "2", "5");
                GuestZone_5GHz_SSID = b.Get("GetMultipleHNAPsResponse/GetWLanRadioSettingsResponse:4/SSID")
              }
            } else {
              document.getElementById("WIFI_STA").style.display = "none";
              document.getElementById("separated_line").style.display = "none";
              document.getElementById("RADIO_2GHz").style.display = "block";
              InitWLanValue(b, "1", "24");
              GuestZone_24GHz_SSID = b.Get("GetMultipleHNAPsResponse/GetWLanRadioSettingsResponse:3/SSID");
              if (feature_dualband) {
                document.getElementById("RADIO_5GHz").style.display = "block";
                InitWLanValue(b, "2", "5");
                GuestZone_5GHz_SSID = b.Get("GetMultipleHNAPsResponse/GetWLanRadioSettingsResponse:4/SSID")
              }
            }
          }
        } else {
          if (DebugMode == 1) {
            alert("[!!GetXML Error!!] Function: InitWLANResult")
          }
        }
      }
      function InitSupportInfo(d) {
        var m = document.getElementById("channel_24");
        var l = document.getElementById("channel_5");
        var u = document.getElementById("security_24");
        var e = document.getElementById("security_5");
        var k = document.getElementById("schedule_24");
        var c = document.getElementById("schedule_5");
        var q = "";
        var t = d.Get("GetMultipleHNAPsResponse/GetWLanRadiosResponse/RadioInfos/RadioInfo#");
        for (var p = 1; p <= t; p++) {
          var g = d.Get("GetMultipleHNAPsResponse/GetWLanRadiosResponse/RadioInfos/RadioInfo:" + p + "/RadioID");
          var s = d.Get("GetMultipleHNAPsResponse/GetWLanRadiosResponse/RadioInfos/RadioInfo:" + p + "/SupportedSecurity/SecurityInfo#");
          for (var n = 1; n <= s; n++) {
            var b = d.Get("GetMultipleHNAPsResponse/GetWLanRadiosResponse/RadioInfos/RadioInfo:" + p + "/SupportedSecurity/SecurityInfo:" + n + "/SecurityType");
            if (b == "WEP-SHARED") {
              q = "WEP"
            } else {
              if (b == "WEP-AUTO") {
                q = "WEP"
              } else {
                if (b == "WPAORWPA2-PSK") {
                  q = I18N("j", "WPA/WPA2-Personal")
                } else {
                  if (b == "WPA2-AES") {
                    q = I18N("j", "WPA2-Personal")
                  } else {
                    continue
                  }
                }
              }
            }
            if (g == "RADIO_2.4GHz") {
              u.options.add(new Option(q, b))
            } else {
              if (g == "RADIO_5GHz") {
                e.options.add(new Option(q, b))
              }
            }
          }
          var h = d.Get("GetMultipleHNAPsResponse/GetWLanRadiosResponse/RadioInfos/RadioInfo:" + p + "/Channels/int#");
          for (var n = 1; n <= h; n++) {
            var v = d.Get("GetMultipleHNAPsResponse/GetWLanRadiosResponse/RadioInfos/RadioInfo:" + p + "/Channels/int:" + n);
            if (v == "0") {
              continue
            }
            if (g == "RADIO_2.4GHz") {

              m.options.add(new Option(v, v))
            } else {
              if (g == "RADIO_5GHz") {
                l.options.add(new Option(v, v))
              }
            }
          }
          var o = d.Get("GetMultipleHNAPsResponse/GetScheduleSettingsResponse/ScheduleInfoLists#");
          for (var n = 1; n <= o; n++) {
            var r = decode_char_text(d.Get("GetMultipleHNAPsResponse/GetScheduleSettingsResponse/ScheduleInfoLists:" + n + "/ScheduleName"));
            if (g == "RADIO_2.4GHz") {
              k.options.add(new Option(r, r))
            } else {
              if (g == "RADIO_5GHz") {
                c.options.add(new Option(r, r))
              }
            }
          }
        }
        var f = d.Get("GetMultipleHNAPsResponse/GetWiFiVerifyAlphaResponse/WPS/Enable");
        var a = d.Get("GetMultipleHNAPsResponse/GetWiFiVerifyAlphaResponse/WPS/Configured");
        if (d.Get("GetMultipleHNAPsResponse/GetWiFiVerifyAlphaResponse/Wifiverify") == 1) {
          WifiVerify = true;
          document.getElementById("wpspage").style.display = "block"
        }
        if (f == "Disable") {
          document.getElementById("pbc_button").disabled = true;
          document.getElementById("pin_button").disabled = true;
          document.getElementById("pin_num").disabled = true
        } else {
          document.getElementById("pbc_button").disabled = false;
          document.getElementById("pin_button").disabled = false;
          document.getElementById("pin_num").disabled = false
        }
        if (a == "Unconfigured") {
          document.getElementById("ResetWPS").disabled = true
        } else {
          document.getElementById("ResetWPS").disabled = false
        }
        document.getElementById("dev_pin").value = d.Get("GetMultipleHNAPsResponse/GetWiFiVerifyAlphaResponse/WPS/PIN");
        document.getElementById("wps_status").innerHTML = f + "/" + a
      }
      function InitWLanValue(e, h, q) {
        var l = e.Get("GetMultipleHNAPsResponse/GetWLanRadioSettingsResponse:" + h + "/SSID");
        document.getElementById("wifiName_" + q).value = l;
        var E = e.Get("GetMultipleHNAPsResponse/GetWLanRadioSettingsResponse:" + h + "/Channel");
        var x = document.getElementById("channel_" + q);
        COMM_SetSelectValue(x, E);
        var g = e.Get("GetMultipleHNAPsResponse/GetWLanRadioSettingsResponse:" + h + "/SSIDBroadcast");
        var A = document.getElementById("visibilityStatus_" + q);
        COMM_SetSelectValue(A, g);
        var u = e.Get("GetMultipleHNAPsResponse/GetWLanRadioSettingsResponse:" + h + "/TXPower");
        var o = document.getElementById("transmissionPower_" + q);
        if (feature_highest == "true") {
          var k = e.Get("GetMultipleHNAPsResponse/GetWLanRadioSettingsResponse:" + h + "/TurboMode");
          if (k == "true") {
            u = 0
          }
        } else {
          document.getElementById("transmissionPower_" + q).options.remove(0)
        }
        COMM_SetSelectValue(o, u);
        if (feature_turbomode == "true") {
          var k = e.Get("GetMultipleHNAPsResponse/GetWLanRadioSettingsResponse:" + h + "/TurboMode");
          InitTurboMode(true, q, k)
        } else {
          InitTurboMode(false, q, false)
        }
        var y = decode_char_text(e.Get("GetMultipleHNAPsResponse/GetWLanRadioSettingsResponse:" + h + "/ScheduleName"));
        var j = document.getElementById("schedule_" + q);
        COMM_SetSelectValue(j, y);
        var s = e.Get("GetMultipleHNAPsResponse/GetWLanRadioSettingsResponse:" + h + "/SecondaryChannel");
        var z = e.Get("GetMultipleHNAPsResponse/GetWLanRadioSettingsResponse:" + h + "/QoS");
        if (q == "24") {
          secondaryChannel_24GHz = s;
          qos_24GHz = z
        } else {
          secondaryChannel_5GHz = s;
          qos_5GHz = z
        }
        var n = e.Get("GetMultipleHNAPsResponse/GetWLanRadioSecurityResponse:" + h + "/Enabled");
        var d = e.Get("GetMultipleHNAPsResponse/GetWLanRadioSecurityResponse:" + h + "/Type");
        var r = e.Get("GetMultipleHNAPsResponse/GetWLanRadioSecurityResponse:" + h + "/Encryption");
        var b = "";
        var t = document.getElementById("security_" + q);
        if (n != "false") {
          var a = e.Get("GetMultipleHNAPsResponse/GetWLanRadioSecurityResponse:" + h + "/Key");
          var B = 0;
          for (var v = 0; v < t.options.length; v++) {
            if (t.options[v].value == "WPAORWPA2-PSK" || t.options[v].value == "WEP-SHARED") {
              B = 1
            }
          }
          if (B) {
            if (d == "WPA-PSK" || d == "WPA2-PSK" || d == "WPAORWPA2-PSK") {
              b = "WPAORWPA2-PSK"
            } else {
              b = "WEP-SHARED"
            }
          } else {
            b = d;
            if (d == "WPA-PSK") {
              b = "WPA"
            } else {
              if (d == "WPA2-PSK") {
                b = "WPA2"
              } else {
                if (d == "WPAORWPA2-PSK") {
                  b = "WPA+WPA2"
                }
              }
            }
            if (r == "TKIP") {
              b = b + "-TKIP"
            } else {
              if (r == "AES") {
                b = b + "-AES"
              } else {
                if (r == "TKIPORAES") {
                  b = b + "-TKIP+AES"
                }
              }
            }
          }
          document.getElementById("password_" + q).disabled = false;
          document.getElementById("password_" + q).value = a
        } else {
          b = "None";
          document.getElementById("password_" + q).disabled = true
        }
        COMM_SetSelectValue(t, b);
        var w = e.Get("GetMultipleHNAPsResponse/GetWLanRadioSettingsResponse:" + h + "/Mode");
        var D = w.split("802.11");
        var p = D[1];
        var f = document.getElementById("80211Mode_" + q);
        currentmode[BandToIndex(q)] = p;
        var m = e.Get("GetMultipleHNAPsResponse/GetWLanRadioSettingsResponse:" + h + "/ChannelWidth");
        var c = document.getElementById("channelWidth_" + q);
        currentbw[BandToIndex(q)] = m;
        ChangeSupportModeList(b, q);
        initoptionlist[BandToIndex(q)] = true;
        $("#security_" + q).selectbox();
        $("#80211Mode_" + q).selectbox("detach");
        $("#80211Mode_" + q).selectbox();
        $("#channel_" + q).selectbox();
        $("#transmissionPower_" + q).selectbox();
        $("#channelWidth_" + q).selectbox("detach");
        $("#channelWidth_" + q).selectbox();
        $("#visibilityStatus_" + q).selectbox();
        $("#schedule_" + q).selectbox();
        CheckTurboMode(q);
        var n = e.Get("GetMultipleHNAPsResponse/GetWLanRadioSettingsResponse:" + h + "/Enabled");
        if (n == "true") {
          SetCheckBoxEnable("status_" + q, true, true);
          DisableSettings(q, false)
        } else {
          SetCheckBoxEnable("status_" + q, true, false);
          DisableSettings(q, true)
        }
        CheckNetworkStatus();
        document.getElementById("main").style.display = "inline";
        if (q == 24) {
          var C = e.Get("GetMultipleHNAPsResponse/GetWLanRadioSettingsResponse:" + h + "/Coexistence");
          if (C == "true") {
            SetCheckBoxEnable("coexistence_" + q, true, true)
          } else {
            SetCheckBoxEnable("coexistence_" + q, true, false)
          }
          changeChannelWidth()
        }
      }
      function InitWIFISTA(e) {
        var d = e.Get("GetMultipleHNAPsResponse/GetAPClientSettingsResponse/SSID");
        document.getElementById("apclient_ssid").value = d;
        var c = document.getElementById("apclient_security");
        var h = e.Get("GetMultipleHNAPsResponse/GetAPClientSettingsResponse/SupportedSecurity/SecurityInfo/SecurityType");
        var g;
        if (h.indexOf("WPA") >= 0) {
          g = "WPA+2PSK"
        } else {
          if (h.indexOf("WEP") >= 0) {
            g = "WEP"
          } else {
            g = "NONE"
          }
        }
        COMM_SetSelectValue(c, g);
        ChangeSecurity(g);
        if (g != "NONE") {
          var i = e.Get("GetMultipleHNAPsResponse/GetAPClientSettingsResponse/Key");
          document.getElementById("apclient_passwd").value = i;
          if (g == "WEP") {
            var b = i.length;
            var f = document.getElementById("apclient_wep_passlen");
            var a;
            if (i.length == 10) {
              a = "64Hex"
            } else {
              if (i.length == 5) {
                a = "64ASCII"
              } else {
                if (i.length == 26) {
                  a = "128Hex"
                } else {
                  if (i.length == 13) {
                    a = "128ASCII"
                  }
                }
              }
            }
            COMM_SetSelectValue(f, a)
          }
        }
        $("#apclient_security").selectbox();
        $("#apclient_wep_passlen").selectbox()
      }
      function CheckConnectionStatus() {
        $.ajax({
          cache: false,
          url: "./js/CheckConnection",
          timeout: 2000,
          type: "GET",
          success: function(a) {
            SetXML()
          },
          error: function() {
            document.getElementById("DetectRouterConnection").style.display = "inline"
          }
        })
      }
var json_SetWLanRadioSettings = {};
var json_SetWLanRadioSettings_5 = {};	    
      function SaveWLanValue(f, b, m) {
        //f.Set("SetWLanRadioSettings/RadioID", b);
		json_SetWLanRadioSettings["RadioID"] = b;
        var g = document.getElementById("status_" + m + "_ck").checked;
        if (g == "1") {
         // f.Set("SetWLanRadioSettings/Enabled", "true")
		  json_SetWLanRadioSettings["Enabled"] = "true";
        } else {
          //f.Set("SetWLanRadioSettings/Enabled", "false")
		  json_SetWLanRadioSettings["Enabled"] = "true";
        }
        var o = document.getElementById("wifiName_" + m).value;
       // f.Set("SetWLanRadioSettings/SSID", o);
		json_SetWLanRadioSettings["SSID"] = o;
        var e = document.getElementById("80211Mode_" + m).value;
       // f.Set("SetWLanRadioSettings/Mode", "802.11" + e);
	   json_SetWLanRadioSettings["Mode"] = "802.11"+e;
        var j = document.getElementById("channel_" + m).value;
       // f.Set("SetWLanRadioSettings/Channel", j);
		json_SetWLanRadioSettings["Channel"] = j;
        var d = secondaryChannel_24GHz;
        var n = qos_24GHz;
        if (m == "5") {
          var d = secondaryChannel_5GHz;
          var n = qos_5GHz
        }
       // f.Set("SetWLanRadioSettings/SecondaryChannel", d);
       // f.Set("SetWLanRadioSettings/QoS", n);
		json_SetWLanRadioSettings["SecondaryChannel"] = d;
		json_SetWLanRadioSettings["QoS"] = n;
        var k = document.getElementById("transmissionPower_" + m).value;
        var l = document.getElementById("turbomode_" + m + "_ck").checked;
        if (feature_highest == "true") {
          if (k == "0") {
            k = "100";
            l = "true"
          } else {
            l = "false"
          }
        }
       // f.Set("SetWLanRadioSettings/TXPower", k);
       // f.Set("SetWLanRadioSettings/TurboMode", l);
		json_SetWLanRadioSettings["TXPower"] = k;
		json_SetWLanRadioSettings["TurboMode"] = l;
        var a = document.getElementById("channelWidth_" + m).value;
        //f.Set("SetWLanRadioSettings/ChannelWidth", a);
		json_SetWLanRadioSettings["ChannelWidth"] = a;
        var i = document.getElementById("visibilityStatus_" + m).value;
        //f.Set("SetWLanRadioSettings/SSIDBroadcast", i);
		json_SetWLanRadioSettings["SSIDBroadcast"] = i;
        var h = document.getElementById("schedule_" + m).value;
       // f.Set("SetWLanRadioSettings/ScheduleName", encode_char_text(h));
	   json_SetWLanRadioSettings["ScheduleName"] = encode_char_text(h);
        if (m == 24) {
          var c = $("#coexistence_" + m + "_ck").prop("checked");
          if (a == "20") {
            c = false
          }
          if (c) {
            c = "true"
          } else {
            c = "false"
          }
         // f.Set("SetWLanRadioSettings/Coexistence", c)
		 json_SetWLanRadioSettings["Coexistence"] = c;
        }
      }
	  
   function SaveWLanValue_5(f, b, m) {
        //f.Set("SetWLanRadioSettings/RadioID", b);
		json_SetWLanRadioSettings_5["RadioID"] = b;
        var g = document.getElementById("status_" + m + "_ck").checked;
        if (g == "1") {
         // f.Set("SetWLanRadioSettings/Enabled", "true")
		  json_SetWLanRadioSettings_5["Enabled"] = "true";
        } else {
          //f.Set("SetWLanRadioSettings/Enabled", "false")
		  json_SetWLanRadioSettings_5["Enabled"] = "true";
        }
        var o = document.getElementById("wifiName_" + m).value;
       // f.Set("SetWLanRadioSettings/SSID", o);
		json_SetWLanRadioSettings_5["SSID"] = o;
        var e = document.getElementById("80211Mode_" + m).value;
       // f.Set("SetWLanRadioSettings/Mode", "802.11" + e);
	   json_SetWLanRadioSettings_5["Mode"] = "802.11"+e;
        var j = document.getElementById("channel_" + m).value;
       // f.Set("SetWLanRadioSettings/Channel", j);
		json_SetWLanRadioSettings_5["Channel"] = j;
        var d = secondaryChannel_24GHz;
        var n = qos_24GHz;
        if (m == "5") {
          var d = secondaryChannel_5GHz;
          var n = qos_5GHz
        }
       // f.Set("SetWLanRadioSettings/SecondaryChannel", d);
       // f.Set("SetWLanRadioSettings/QoS", n);
		json_SetWLanRadioSettings_5["SecondaryChannel"] = d;
		json_SetWLanRadioSettings_5["QoS"] = n;
        var k = document.getElementById("transmissionPower_" + m).value;
        var l = document.getElementById("turbomode_" + m + "_ck").checked;
        if (feature_highest == "true") {
          if (k == "0") {
            k = "100";
            l = "true"
          } else {
            l = "false"
          }
        }
       // f.Set("SetWLanRadioSettings/TXPower", k);
       // f.Set("SetWLanRadioSettings/TurboMode", l);
		json_SetWLanRadioSettings_5["TXPower"] = k;
		json_SetWLanRadioSettings_5["TurboMode"] = l;
        var a = document.getElementById("channelWidth_" + m).value;
        //f.Set("SetWLanRadioSettings/ChannelWidth", a);
		json_SetWLanRadioSettings_5["ChannelWidth"] = a;
        var i = document.getElementById("visibilityStatus_" + m).value;
        //f.Set("SetWLanRadioSettings/SSIDBroadcast", i);
		json_SetWLanRadioSettings_5["SSIDBroadcast"] = i;
        var h = document.getElementById("schedule_" + m).value;
       // f.Set("SetWLanRadioSettings/ScheduleName", encode_char_text(h));
	   json_SetWLanRadioSettings_5["ScheduleName"] = encode_char_text(h);
        if (m == 24) {
          var c = $("#coexistence_" + m + "_ck").prop("checked");
          if (a == "20") {
            c = false
          }
          if (c) {
            c = "true"
          } else {
            c = "false"
          }
         // f.Set("SetWLanRadioSettings/Coexistence", c)
		 json_SetWLanRadioSettings_5["Coexistence"] = c;
        }
      }	  
	  
	    var json_WLanRadioSecurity_2={};
		var json_WLanRadioSecurity_5={};
      function SetWLanSecurity_2(c, g, f) {
        //c.Set("SetWLanRadioSecurity/RadioID", g);
		json_WLanRadioSecurity_2["RadioID"] = g;
        var e = document.getElementById("security_" + f).value;
        var b = document.getElementById("password_" + f).value;
        var a;
        if (b.length == 5 || b.length == 10) {
          a = "WEP-64"
        } else {
          if (b.length == 13 || b.length == 26) {
            a = "WEP-128"
          }
        }
        if (f == "24") {
          var d = document.getElementById("RADIO_2GHz_adv").style.display
        } else {
          if (f == "5") {
            var d = document.getElementById("RADIO_5GHz_adv").style.display
          }
        }
        if ((e == "None") || (d == "none" && (b == "" || b == null))) {
         // c.Set("SetWLanRadioSecurity/Enabled", "false")
		 json_WLanRadioSecurity_2["Enabled"] = "false";
        } else {
         // c.Set("SetWLanRadioSecurity/Enabled", "true");
		 json_WLanRadioSecurity_2["Enabled"] = "true";
          switch (e) {
          case "WEP-SHARED":
          //  c.Set("SetWLanRadioSecurity/Type", "WEP-SHARED");
           // c.Set("SetWLanRadioSecurity/Encryption", a);
		   json_WLanRadioSecurity_2["Type"] = "WEP-SHARED";
		   json_WLanRadioSecurity_2["Encryption"] = a;
            break;
          case "WEP-AUTO":
           // c.Set("SetWLanRadioSecurity/Type", "WEP-AUTO");
           // c.Set("SetWLanRadioSecurity/Encryption", a);
		    json_WLanRadioSecurity_2["Type"] = "WEP-AUTO";
			 json_WLanRadioSecurity_2["Encryption"] = a;
            break;
          case "WPA-TKIP":
          //  c.Set("SetWLanRadioSecurity/Type", "WPA-PSK");
           // c.Set("SetWLanRadioSecurity/Encryption", "TKIP");
		    json_WLanRadioSecurity_2["Type"] = "WPA-PSK";
			 json_WLanRadioSecurity_2["Encryption"] = "TKIP";
            break;
          case "WPA-AES":
          //  c.Set("SetWLanRadioSecurity/Type", "WPA-PSK");
          //  c.Set("SetWLanRadioSecurity/Encryption", "AES");
			 json_WLanRadioSecurity_2["Type"] = "WPA-PSK";
			  json_WLanRadioSecurity_2["Encryption"] = "AES";
            break;
          case "WPA-TKIP+AES":
          //  c.Set("SetWLanRadioSecurity/Type", "WPA-PSK");
          //  c.Set("SetWLanRadioSecurity/Encryption", "TKIPORAES");
			 json_WLanRadioSecurity_2["Type"] = "WPA-PSK";
			  json_WLanRadioSecurity_2["Encryption"] = "TKIPORAES";
            break;
          case "WPA2-TKIP":
          //  c.Set("SetWLanRadioSecurity/Type", "WPA2-PSK");
          //  c.Set("SetWLanRadioSecurity/Encryption", "TKIP");
			 json_WLanRadioSecurity_2["Type"] = "WPA2-PSK";
			  json_WLanRadioSecurity_2["Encryption"] = "TKIP";
            break;
          case "WPA2-AES":
          //  c.Set("SetWLanRadioSecurity/Type", "WPA2-PSK");
          //  c.Set("SetWLanRadioSecurity/Encryption", "AES");
			 json_WLanRadioSecurity_2["Type"] = "WPA2-PSK";
			  json_WLanRadioSecurity_2["Encryption"] = "AES";
            break;
          case "WPA2-TKIP+AES":
           // c.Set("SetWLanRadioSecurity/Type", "WPA2-PSK");
           // c.Set("SetWLanRadioSecurity/Encryption", "TKIPORAES");
			 json_WLanRadioSecurity_2["Type"] = "WPA2-PSK";
			  json_WLanRadioSecurity_2["Encryption"] = "TKIPORAES";
            break;
          case "WPA+WPA2-TKIP":
          //  c.Set("SetWLanRadioSecurity/Type", "WPAORWPA2-PSK");
          //  c.Set("SetWLanRadioSecurity/Encryption", "TKIP");
			 json_WLanRadioSecurity_2["Type"] = "WPAORWPA2-PSK";
			  json_WLanRadioSecurity_2["Encryption"] = "TKIP";
            break;
          case "WPA+WPA2-AES":
          //  c.Set("SetWLanRadioSecurity/Type", "WPAORWPA2-PSK");
          //  c.Set("SetWLanRadioSecurity/Encryption", "AES");
			 json_WLanRadioSecurity_2["Type"] = "WPAORWPA2-PSK";
			  json_WLanRadioSecurity_2["Encryption"] = "AES";
            break;
          case "WPA+WPA2-TKIP+AES":
          case "WPAORWPA2-PSK":
          //  c.Set("SetWLanRadioSecurity/Type", "WPAORWPA2-PSK");
           // c.Set("SetWLanRadioSecurity/Encryption", "TKIPORAES");
			 json_WLanRadioSecurity_2["Type"] = "WPAORWPA2-PSK";
			  json_WLanRadioSecurity_2["Encryption"] = "TKIPORAES";
            break
          }
          //c.Set("SetWLanRadioSecurity/Key", b);
          //c.Set("SetWLanRadioSecurity/KeyRenewal", "3600")
		   json_WLanRadioSecurity_2["Key"] = b;
		    json_WLanRadioSecurity_2["KeyRenewal"] = "3600";
        }
      }
	  
      function SetWLanSecurity_5(c, g, f) {
        //c.Set("SetWLanRadioSecurity/RadioID", g);
		json_WLanRadioSecurity_5["RadioID"] = g;
        var e = document.getElementById("security_" + f).value;
        var b = document.getElementById("password_" + f).value;
        var a;
        if (b.length == 5 || b.length == 10) {
          a = "WEP-64"
        } else {
          if (b.length == 13 || b.length == 26) {
            a = "WEP-128"
          }
        }
        if (f == "24") {
          var d = document.getElementById("RADIO_2GHz_adv").style.display
        } else {
          if (f == "5") {
            var d = document.getElementById("RADIO_5GHz_adv").style.display
          }
        }
        if ((e == "None") || (d == "none" && (b == "" || b == null))) {
         // c.Set("SetWLanRadioSecurity/Enabled", "false")
		 json_WLanRadioSecurity_5["Enabled"] = "false";
        } else {
         // c.Set("SetWLanRadioSecurity/Enabled", "true");
		 json_WLanRadioSecurity_5["Enabled"] = "true";
          switch (e) {
          case "WEP-SHARED":
          //  c.Set("SetWLanRadioSecurity/Type", "WEP-SHARED");
           // c.Set("SetWLanRadioSecurity/Encryption", a);
		   json_WLanRadioSecurity_5["Type"] = "WEP-SHARED";
		   json_WLanRadioSecurity_5["Encryption"] = a;
            break;
          case "WEP-AUTO":
           // c.Set("SetWLanRadioSecurity/Type", "WEP-AUTO");
           // c.Set("SetWLanRadioSecurity/Encryption", a);
		    json_WLanRadioSecurity_5["Type"] = "WEP-AUTO";
			 json_WLanRadioSecurity_5["Encryption"] = a;
            break;
          case "WPA-TKIP":
          //  c.Set("SetWLanRadioSecurity/Type", "WPA-PSK");
           // c.Set("SetWLanRadioSecurity/Encryption", "TKIP");
		    json_WLanRadioSecurity_5["Type"] = "WPA-PSK";
			 json_WLanRadioSecurity_5["Encryption"] = "TKIP";
            break;
          case "WPA-AES":
          //  c.Set("SetWLanRadioSecurity/Type", "WPA-PSK");
          //  c.Set("SetWLanRadioSecurity/Encryption", "AES");
			 json_WLanRadioSecurity_5["Type"] = "WPA-PSK";
			  json_WLanRadioSecurity_5["Encryption"] = "AES";
            break;
          case "WPA-TKIP+AES":
          //  c.Set("SetWLanRadioSecurity/Type", "WPA-PSK");
          //  c.Set("SetWLanRadioSecurity/Encryption", "TKIPORAES");
			 json_WLanRadioSecurity_5["Type"] = "WPA-PSK";
			  json_WLanRadioSecurity_5["Encryption"] = "TKIPORAES";
            break;
          case "WPA2-TKIP":
          //  c.Set("SetWLanRadioSecurity/Type", "WPA2-PSK");
          //  c.Set("SetWLanRadioSecurity/Encryption", "TKIP");
			 json_WLanRadioSecurity_5["Type"] = "WPA2-PSK";
			  json_WLanRadioSecurity_5["Encryption"] = "TKIP";
            break;
          case "WPA2-AES":
          //  c.Set("SetWLanRadioSecurity/Type", "WPA2-PSK");
          //  c.Set("SetWLanRadioSecurity/Encryption", "AES");
			 json_WLanRadioSecurity_5["Type"] = "WPA2-PSK";
			  json_WLanRadioSecurity_5["Encryption"] = "AES";
            break;
          case "WPA2-TKIP+AES":
           // c.Set("SetWLanRadioSecurity/Type", "WPA2-PSK");
           // c.Set("SetWLanRadioSecurity/Encryption", "TKIPORAES");
			 json_WLanRadioSecurity_5["Type"] = "WPA2-PSK";
			  json_WLanRadioSecurity_5["Encryption"] = "TKIPORAES";
            break;
          case "WPA+WPA2-TKIP":
          //  c.Set("SetWLanRadioSecurity/Type", "WPAORWPA2-PSK");
          //  c.Set("SetWLanRadioSecurity/Encryption", "TKIP");
			 json_WLanRadioSecurity_5["Type"] = "WPAORWPA2-PSK";
			  json_WLanRadioSecurity_5["Encryption"] = "TKIP";
            break;
          case "WPA+WPA2-AES":
          //  c.Set("SetWLanRadioSecurity/Type", "WPAORWPA2-PSK");
          //  c.Set("SetWLanRadioSecurity/Encryption", "AES");
			 json_WLanRadioSecurity_5["Type"] = "WPAORWPA2-PSK";
			  json_WLanRadioSecurity_5["Encryption"] = "AES";
            break;
          case "WPA+WPA2-TKIP+AES":
          case "WPAORWPA2-PSK":
          //  c.Set("SetWLanRadioSecurity/Type", "WPAORWPA2-PSK");
           // c.Set("SetWLanRadioSecurity/Encryption", "TKIPORAES");
			 json_WLanRadioSecurity_5["Type"] = "WPAORWPA2-PSK";
			  json_WLanRadioSecurity_5["Encryption"] = "TKIPORAES";
            break
          }
          //c.Set("SetWLanRadioSecurity/Key", b);
          //c.Set("SetWLanRadioSecurity/KeyRenewal", "3600")
		   json_WLanRadioSecurity_5["Key"] = b;
		    json_WLanRadioSecurity_5["KeyRenewal"] = "3600";
        }
      }
      function SetXML() {
        if ((!checkwarning("24") || !checkwarning("5")) && WifiVerify) {
          alert("This page won't be saved.");
          return
        }
        document.getElementById("CreatePopAlertMessage").style.display = "inline";
        document.getElementById("waitSettingFinish").style.display = "inline";
        if (support_apclient) {
          HNAP.GetXMLAsync("SetAPClientSettings", null, "GetXML", function(a) { SaveAPClientValue(a)  })
        } else {
          if (support_repeater) {} else {
            HNAP.GetXMLAsync("SetWLanRadioSettings", null, "GetXML",  function(a) {   SetResult_1st(a)
            })
          }
        }
      }
      function SetResult_1st(a) {
        HNAP_WLanRadioSettings = a;
        if (a != null) {
          SaveWLanValue(a, "RADIO_2.4GHz", "24");
         // HNAP.SetXMLAsync("SetWLanRadioSettings", a, function(b) { SetResult_2nd(b) })
		  HNAP.SetJSONAsync("SetWLanRadioSettings", a, json_SetWLanRadioSettings, function(b)	{	SetResult_2nd(b);	});
        } else {
          if (DebugMode == 1) {
            alert("[!!SetXML Error!!] Function: SetResult_1st")
          }
          window.location.reload()
        }
      }
      function SetResult_2nd(b) {
        var a = b.Get("SetWLanRadioSettingsResponse/SetWLanRadioSettingsResult");
        if (a == "OK") {
          HNAP.GetXMLAsync("SetWLanRadioSecurity", null, "GetXML", function(c) { SetResult_3rd(c)  })
        }
        if (a == "ERROR") {
          if (DebugMode == 1) {
            alert("[!!SetXML Error!!] Function: SetResult_2nd")
          }
          window.location.reload()
        }
      }
	
      function SetResult_3rd(a) {
        HNAP_WLanRadioSecurity = a;
        if (a != null) {
         // SetWLanSecurity(a, "RADIO_2.4GHz", "24");
		 SetWLanSecurity_2(a, "RADIO_2.4GHz", "24");
          //HNAP.SetXMLAsync("SetWLanRadioSecurity", a,  function(b) { SetResult_4th(b)  })
		  HNAP.SetJSONAsync("SetWLanRadioSecurity", a, json_WLanRadioSecurity_2, function(b)	{	SetResult_4th(b);	});
        } else {
          if (DebugMode == 1) {
            alert("[!!SetXML Error!!] Function: SetResult_3rd")
          }
          window.location.reload()
        }
      }
      function SetResult_4th(b) {
        var a = b.Get("SetWLanRadioSecurityResponse/SetWLanRadioSecurityResult");
        if (a == "OK") {
          HNAP.GetXMLAsync("SetWLanRadioSettings", null, "GetXML", function(c) {SetResult_5th(c) })
        }
        if (a == "ERROR") {
          if (DebugMode == 1) {
            alert("[!!SetXML Error!!] Function: SetResult_4th")
          }
          window.location.reload()
        }
      }
      function SetResult_5th(a) {
        if (a != null) {
          SaveWLanValue_5(a, "RADIO_5GHz", "5");
          //HNAP.SetXMLAsync("SetWLanRadioSettings", a, function(b) { SetResult_6th(b) });
		   HNAP.SetJSONAsync("SetWLanRadioSettings", a, json_SetWLanRadioSettings_5, function(b)	{	SetResult_6th(b);	});
		  
        } else {
          if (DebugMode == 1) {
            alert("[!!SetXML Error!!] Function: SetResult_5th")
          }
          window.location.reload()
        }
      }
      function SetResult_6th(b) {
        var a = b.Get("SetWLanRadioSettingsResponse/SetWLanRadioSettingsResult");
        if (a == "OK") {
          HNAP.GetXMLAsync("SetWLanRadioSecurity", null, "GetXML", function(c) {  SetResult_7th(c) })
        }
        if (a == "ERROR") {
          if (DebugMode == 1) {
            alert("[!!SetXML Error!!] Function: SetResult_6th")
          }
          window.location.reload()
        }
      }
      function SetResult_7th(a) {
        if (a != null) {
          SetWLanSecurity_5(a, "RADIO_5GHz", "5");
         // HNAP.SetXMLAsync("SetWLanRadioSecurity", a, function(b) {  SetResult_8th(b)  })
		   HNAP.SetJSONAsync("SetWLanRadioSecurity", a, json_WLanRadioSecurity_5, function(b)	{	SetResult_8th(b);	});
        } else {
          if (DebugMode == 1) {
            alert("[!!SetXML Error!!] Function: SetResult_7th")
          }
          window.location.reload()
        }
      }
      function SetResult_8th(a) {
        var b = a.Get("SetWLanRadioSecurityResponse/SetWLanRadioSecurityResult");
        if (b == "OK") {
			var json_data = {};
          if (document.getElementById("status_24_ck").checked == "0") {
            HNAP_WLanRadioSettings.Set("SetWLanRadioSettings/RadioID", "RADIO_2.4G_Guest");
           HNAP_WLanRadioSettings.Set("SetWLanRadioSettings/Enabled", "false");
            HNAP_WLanRadioSettings.Set("SetWLanRadioSettings/SSID", GuestZone_24GHz_SSID);
            HNAP_WLanRadioSettings.Set("SetWLanRadioSettings/Mode", "802.11bgn");
            HNAP_WLanRadioSettings.Set("SetWLanRadioSettings/Channel", "0");
            HNAP_WLanRadioSettings.Set("SetWLanRadioSettings/ChannelWidth", "0");
            HNAP_WLanRadioSettings.Set("SetWLanRadioSettings/SSIDBroadcast", "true");
           HNAP_WLanRadioSettings.Set("SetWLanRadioSettings/SecondaryChannel", "0");
			json_data["RadioID"] = "RADIO_2.4G_Guest";
			json_data["Enabled"] = "false";
			json_data["SSID"] = GuestZone_24GHz_SSID;
			json_data["Mode"] = "802.11bgn";
			json_data["Channel"] = "0";
			json_data["ChannelWidth"] = "0";
			json_data["SSIDBroadcast"] = "true";
			json_data["SecondaryChannel"] = "0";
           // HNAP.SetXMLAsync("SetWLanRadioSettings", HNAP_WLanRadioSettings, function(c) { SetResult_9th(c) });
			HNAP.SetJSONAsync("SetWLanRadioSettings", HNAP_WLanRadioSettings, json_data, function(c)	{	SetResult_9th(c);	});
          } else {
            SetResult_9th_A()
          }
        }
        if (b == "ERROR") {
          if (DebugMode == 1) {
            alert("[!!SetXML Error!!] Function: SetResult_8th")
          }
          window.location.reload()
        }
      }
      function SetResult_9th_A() {
	 	 var json_data = {};
        if (document.getElementById("status_5_ck").checked == "0") {
          HNAP_WLanRadioSettings.Set("SetWLanRadioSettings/RadioID", "RADIO_5G_Guest");
          HNAP_WLanRadioSettings.Set("SetWLanRadioSettings/Enabled", "false");
          HNAP_WLanRadioSettings.Set("SetWLanRadioSettings/SSID", GuestZone_5GHz_SSID);
		  json_data["RadioID"] = "RADIO_5G_Guest";
		  json_data["Enabled"] = "false";
		  json_data["SSID"] = GuestZone_5GHz_SSID;
          if (IsSupport11ac_5GHz != "1") {
            HNAP_WLanRadioSettings.Set("SetWLanRadioSettings/Mode", "802.11an");
			json_data["Mode"] = "802.11an";
          } else {
            HNAP_WLanRadioSettings.Set("SetWLanRadioSettings/Mode", "802.11acna");
			json_data["Mode"] = "802.11acna";
          }
          HNAP_WLanRadioSettings.Set("SetWLanRadioSettings/Channel", "0");
          HNAP_WLanRadioSettings.Set("SetWLanRadioSettings/ChannelWidth", "0");
          HNAP_WLanRadioSettings.Set("SetWLanRadioSettings/SSIDBroadcast", "true");
          HNAP_WLanRadioSettings.Set("SetWLanRadioSettings/SecondaryChannel", "0");
		  json_data["Channel"] = "0";
		  json_data["ChannelWidth"] = "0";
		  json_data["SSIDBroadcast"] = "true";
		  json_data["SecondaryChannel"] = "0";
        //  HNAP.SetXMLAsync("SetWLanRadioSettings", HNAP_WLanRadioSettings, function(a) { SetResult_10th(a) });
		  HNAP.SetJSONAsync("SetWLanRadioSettings", HNAP_WLanRadioSettings, json_data, function(a)	{	SetResult_10th(a);	});
        } else {
          document.getElementById("result_Message").innerHTML = I18N("j", "Your changes are being saved. When reconnecting to this device, please use the new Wi-Fi name and password you created.");
          Start_reciprocal_Number_RestoreConfiguration()
        }
      }
      function SetResult_9th(b) {
        var a = b.Get("SetWLanRadioSettingsResponse/SetWLanRadioSettingsResult");
        if (a == "OK") {
		 var json_data = {};
          HNAP_WLanRadioSettings.Set("SetWLanRadioSettings/RadioID", "RADIO_5G_Guest");
          HNAP_WLanRadioSettings.Set("SetWLanRadioSettings/Enabled", "false");
          HNAP_WLanRadioSettings.Set("SetWLanRadioSettings/SSID", GuestZone_5GHz_SSID);
		  json_data["RadioID"] = "RADIO_5G_Guest";
		  json_data["Enabled"] = "false";
		  json_data["SSID"] = GuestZone_5GHz_SSID;
          if (IsSupport11ac_5GHz != "1") {
            HNAP_WLanRadioSettings.Set("SetWLanRadioSettings/Mode", "802.11an")
			 json_data["Mode"] = "802.11an";
          } else {
            HNAP_WLanRadioSettings.Set("SetWLanRadioSettings/Mode", "802.11acna")
			 json_data["Mode"] = "802.11acna";
          }
          HNAP_WLanRadioSettings.Set("SetWLanRadioSettings/Channel", "0");
          HNAP_WLanRadioSettings.Set("SetWLanRadioSettings/ChannelWidth", "0");
          HNAP_WLanRadioSettings.Set("SetWLanRadioSettings/SSIDBroadcast", "true");
          HNAP_WLanRadioSettings.Set("SetWLanRadioSettings/SecondaryChannel", "0");
		   json_data["Channel"] = "0";
		    json_data["ChannelWidth"] = "0";
			 json_data["SSIDBroadcast"] = "true";
			  json_data["SecondaryChannel"] = "0";
         // HNAP.SetXMLAsync("SetWLanRadioSettings", HNAP_WLanRadioSettings, function(c) {  SetResult_10th(c)  });
		   HNAP.SetJSONAsync("SetWLanRadioSettings", HNAP_WLanRadioSettings, json_data, function(c)	{	SetResult_10th(c);	});
        } else {
          if (DebugMode == 1) {
            alert("[!!SetXML Error!!] Function: SetResult_9th")
          }
          window.location.reload()
        }
      }
      function SetResult_10th(a) {
        var b = a.Get("SetWLanRadioSettingsResponse/SetWLanRadioSettingsResult");
        if (b == "OK") {
          document.getElementById("result_Message").innerHTML = I18N("j", "Your changes are being saved. When reconnecting to this device, please use the new Wi-Fi name and password you created.");
          Start_reciprocal_Number_RestoreConfiguration()
        }
        if (b == "ERROR") {
          if (DebugMode == 1) {
            alert("[!!SetXML Error!!] Function: SetResult_10th")
          }
          window.location.reload()
        }
      }
      function checkwarning(c) {
        var a = document.getElementById("security_" + c).value;
        if (c == "5" && !feature_dualband) {
          return true
        } else {
          var b = true;
          if (a == "None" && WifiVerify) {
            if (c == "24") {
              c = "2.4"
            }
            b = confirm("Warning ! By selecting None in Security Mode will make your " + c + "GHz wifi connection vulnerable. Proceed ?")
          }
          return b
        }
      }
      function CheckSupportN(d) {
        var a;
        var b = document.getElementById("security_" + d).value;
        var c = document.getElementById("80211Mode_" + d).value;
        if (b == "WEP" || b == "WEP-OPEN" || b == "WEP-SHARED" || b == "WEP-AUTO" || b == "WPA-TKIP" || b == "WPA2-TKIP" || b == "WPA+WPA2-TKIP") {
          a = false
        } else {
          if (c == "a" || c == "b" || c == "g") {
            a = false
          } else {
            a = true
          }
        }
        return a
      }
      function CheckSupportBW(d, a) {
        var c;
        var b = document.getElementById("security_" + d).value;
        if (!CheckSupportN(d) || a == 12 || a == 13 || a == 140 || a == 165) {
          c = "20"
        } else {
          if (a == 132 || a == 136) {
            c = "40"
          } else {
            c = "80"
          }
        }
        return c
      }
      function ChangeSupportModeList(b, c) {
        var a = document.getElementById("80211Mode_" + c);
        if (initoptionlist[BandToIndex(c)]) {
          currentmode[BandToIndex(c)] = a.value
        }
        $("#80211Mode_" + c).selectbox("detach");
        $("#80211Mode_" + c).children().remove();
        if (b == "None") {
          document.getElementById("password_" + c).disabled = true
        } else {
          document.getElementById("password_" + c).disabled = false
        }
        switch (c) {
        case "24":
          SupportMode("#80211Mode_" + c, "bgn", c, b);
          SupportMode("#80211Mode_" + c, "gn", c, b);
          if (CheckSupportN(c)) {
            SupportMode("#80211Mode_" + c, "n", c, b)
          }
          SupportMode("#80211Mode_" + c, "bg", c, b);
          SupportMode("#80211Mode_" + c, "b", c, b);
          SupportMode("#80211Mode_" + c, "g", c, b);
          break;
        case "5":
          if (CheckSupportN(c)) {
            SupportMode("#80211Mode_" + c, "anac", c, b);
            SupportMode("#80211Mode_" + c, "nac", c, b);
            SupportMode("#80211Mode_" + c, "an", c, b);
            SupportMode("#80211Mode_" + c, "ac", c, b);
            SupportMode("#80211Mode_" + c, "a", c, b);
            SupportMode("#80211Mode_" + c, "n", c, b)
          } else {
            SupportMode("#80211Mode_" + c, "anac", c, b);
            SupportMode("#80211Mode_" + c, "an", c, b);
            SupportMode("#80211Mode_" + c, "a", c, b)
          }
          break
        }
        COMM_SetSelectValue(a, currentmode[BandToIndex(c)]);
        $("#80211Mode_" + c).selectbox("attach");
        ChangeWidthList(c)
      }
      function ChangeWidthList(e) {
        var a = document.getElementById("channelWidth_" + e);
        if (initoptionlist[BandToIndex(e)]) {
          currentbw[BandToIndex(e)] = a.value
        }
        $("#channelWidth_" + e).selectbox("detach");
        $("#channelWidth_" + e).children().remove();
        var c = document.getElementById("security_" + e).value;
        var d = document.getElementById("80211Mode_" + e).value;
        var b = document.getElementById("channel_" + e).value;
        if (e == "24" || (e == "5" && CheckSupportBW(e, b) == "20")) {
          AddSelectOpt("#channelWidth_" + e, "20", "20 MHz")
        }
        if ((/ac/.test(d) || /n/.test(d)) && (CheckSupportBW(e, b) != "20")) {
          AddSelectOpt("#channelWidth_" + e, "0", "Auto 20/40 MHz")
        }
        if (/ac/.test(d) && (CheckSupportBW(e, b) == "80")) {
          AddSelectOpt("#channelWidth_" + e, "1", "Auto 20/40/80 MHz")
        }
        COMM_SetSelectValue(a, currentbw[BandToIndex(e)]);
        $("#channelWidth_" + e).selectbox("attach")
      }
      function DisableSettings(d, b) {
        document.getElementById("wifiName_" + d).disabled = b;
        var c = document.getElementById("security_" + d).value;
        if (c == "None") {
          document.getElementById("password_" + d).disabled = true
        } else {
          document.getElementById("password_" + d).disabled = b
        }
        var a;
        if (b) {
          a = "disable";
          if (d == "24") {
            $("#coexistence_24_tr").hide()
          }
        } else {
          a = "enable";
          changeChannelWidth()
        }
        $("#security_" + d).selectbox(a);
        $("#80211Mode_" + d).selectbox(a);
        $("#channel_" + d).selectbox(a);
        $("#transmissionPower_" + d).selectbox(a);
        $("#channelWidth_" + d).selectbox(a);
        $("#visibilityStatus_" + d).selectbox(a);
        $("#schedule_" + d).selectbox(a);
        if (!b) {
          CheckTurboMode(d)
        }
      }
      function ChangeBandStatus(d) {
        var e = "status_" + d;
        var b = "status_" + d + "_ck";
        SetCheckBoxEnable(e);
        var a = document.getElementById("status_" + d + "_ck").checked;
        if (a) {
          DisableSettings(d, false)
        } else {
          DisableSettings(d, true)
        }
        var c = document.getElementById("security_" + d).value;
        if (c == "None") {
          document.getElementById("password_" + d).disabled = true
        }
      }
      function changeChannelWidth() {
        if ($("#channelWidth_24").val() == 20) {
          $("#coexistence_24_tr").hide()
        } else {
          $("#coexistence_24_tr").show()
        }
      }
      function AddSiteSurveyLists(a) {
        var b = HNAP.GetXML("GetSiteSurvey", new Array("RadioID", a));
        var d = b.Get("GetSiteSurveyResponse/APStatInfoLists/APStatInfo#");
        for (var c = 1; c <= d; c++) {
          var f = b.Get("GetSiteSurveyResponse/APStatInfoLists/APStatInfo:" + c + "/SignalStrength");
          var j = b.Get("GetSiteSurveyResponse/APStatInfoLists/APStatInfo:" + c + "/SupportedSecurity/SecurityInfo/SecurityType");
          var h = "";
          var g = "";
          var e = "";
          if (a == "RADIO_5GHz") {
            e = "5"
          } else {
            if (a == "RADIO_2.4GHz") {
              e = "24"
            }
          }
          if (j != "NONE") {
            h = '<img src="image/wisp_security.png" width="12" height="21"/>'
          } else {
            h = ""
          }
          if (parseInt(f) <= 35) {
            g = '<img src="image/wisp_strength_low.png" width="25" height="20"/>'
          } else {
            if (parseInt(f) <= 70 && parseInt(f) > 35) {
              g = '<img src="image/wisp_strength_medium.png" width="25" height="20"/>'
            } else {
              if (parseInt(f) <= 100 && parseInt(f) > 70) {
                g = '<img src="image/wisp_strength_high.png" width="25" height="20"/>'
              }
            }
          }
          ssid_list[ssid_num] = {
            ssid: b.Get("GetSiteSurveyResponse/APStatInfoLists/APStatInfo:" + c + "/SSID"),
            rssi_img: g,
            sec_img: h,
            sec_type: j,
            rssi_value: parseInt(f),
            wl_mode: e
          };
          ssid_num++
        }
      }
      function SortSiteSurveyList() {
        function a(d, c) {
          if (d.rssi_value < c.rssi_value) {
            return 1
          }
          if (d.rssi_value > c.rssi_value) {
            return - 1
          }
          return 0
        }
        ssid_list.sort(a)
      }
      function ChangeBgcolor(a, c) {
        var e = document.getElementById(a).getElementsByTagName("tr");
        for (var b = 0; b < e.length; b++) {
          var d = e[b].getAttribute("id");
          if (d == c) {
            document.getElementById(c).style.backgroundColor = "#CCC"
          } else {
            document.getElementById(d).style.backgroundColor = "#FFF"
          }
        }
      }
      function InjectTable(d, e, b, g) {
        var k = document.getElementById(d).getElementsByTagName("tr");
        var a = null;
        var h = null;
        var c;
        var f;
        var j = false;
        selected_wlmode = null;
        selected_ssid = null;
        selected_security = null;
        for (c = 0; ! j && c < k.length; c++) {
          if (k[c].id == e) {
            j = true
          }
        }
        if (j) {
          for (c = 0; c < b.length; c++) {
            h = document.getElementById(e + "_" + c);
            switch (g[c]) {
            case "text":
              f = b[c];
              if (typeof(h.innerText) !== "undefined") {
                h.innerText = f
              } else {
                if (typeof(h.textContent) !== "undefined") {
                  h.textContent = f
                } else {
                  h.innerHTML = f
                }
              }
              break;
            default:
              f = b[c];
              h.innerHTML = f;
              break
            }
          }
          return
        }
        a = document.getElementById(d).insertRow(k.length);
        a.id = e;
        a.onclick = function(i) {
          selected_wlmode = b[4];
          selected_ssid = b[0];
          if (b[3] == "NONE") {
            selected_security = "NONE"
          } else {
            if (b[3].indexOf("WEP") == 0) {
              selected_security = "WEP"
            } else {
              selected_security = "WPA+2PSK"
            }
          }
          ChangeBgcolor(d, e)
        };
        for (c = 0; c < b.length - 2; c++) {
          h = a.insertCell(c);
          h.id = e + "_" + c;
          h.className = "content";
          switch (g[c]) {
          case "text":
            f = b[c];
            if (typeof(h.innerText) !== "undefined") {
              h.innerText = f
            } else {
              if (typeof(h.textContent) !== "undefined") {
                h.textContent = f
              } else {
                h.innerHTML = f
              }
            }
            break;
          default:
            f = b[c];
            h.innerHTML = f;
            break
          }
        }
      }
      function DrawSiteSurveyList() {
        var h = Math.floor((Math.random() * 10) + 1);
        SortSiteSurveyList();
        for (var d = 0; d < ssid_list.length; d++) {
          var a = ssid_list[d].ssid;
          var g = ssid_list[d].rssi_img;
          var b = ssid_list[d].sec_img;
          var j = ssid_list[d].sec_type;
          var e = ssid_list[d].wl_mode;
          var c = [a, g, b, j, e];
          var f = ["text", "img", "img", "text", "text"];
          InjectTable("content_tb", "hotspot" + h + "-" + d, c, f)
        }
        document.getElementById("scan_wifi_list_block").style.display = "block";
        document.getElementById("scan_waiting").style.display = "none";
        document.getElementById("scan_list").style.display = "block"
      }
      function CleanTable(a) {
        table = document.getElementById(a);
        var b = table.getElementsByTagName("tr");
        while (b.length > 0) {
          table.deleteRow(b.length - 1)
        }
      }
      function ShowSiteSurveyLists(a, b) {
        CleanTable("content_tb");
        ssid_num = 0;
        if (a == "OK") {
          AddSiteSurveyLists("RADIO_5GHz");
          AddSiteSurveyLists("RADIO_2.4GHz");
          DrawSiteSurveyList()
        } else {
          setTimeout("EventSiteSurvey()", b * 1000)
        }
      }
      function EventSiteSurvey() {
        var b = HNAP.GetXML("SetTriggerWirelessSiteSurvey");
        b.Set("SetTriggerWirelessSiteSurvey/RadioID", "RADIO_2.4GHz");
        var a = HNAP.SetXML("SetTriggerWirelessSiteSurvey", b);
        var c = a.Get("SetTriggerWirelessSiteSurveyResponse/WaitTime");
        var d = a.Get("SetTriggerWirelessSiteSurveyResponse/SetTriggerWirelessSiteSurveyResult");
        setTimeout('ShowSiteSurveyLists("' + d + '", ' + c + ")", c * 1000)
      }
      function TriggerSiteSurvey() {
        document.getElementById("scan_wifi_list_block").style.display = "block";
        document.getElementById("scan_waiting").style.display = "block";
        document.getElementById("scan_list").style.display = "none";
        EventSiteSurvey()
      }
      function OnClickSelect() {
        if (selected_ssid == "" || selected_ssid == null) {
          alert(I18N("j", "Please select a wireless station."))
        } else {
          CloseSiteSurveyList();
          document.getElementById("apclient_ssid").value = selected_ssid;
          var a = document.getElementById("apclient_security");
          var b;
          if (selected_security.indexOf("WPA") >= 0) {
            b = "WPA+2PSK"
          } else {
            if (selected_security.indexOf("WEP") >= 0) {
              b = "WEP"
            } else {
              b = "NONE"
            }
          }
          $("#apclient_security").selectbox("detach");
          COMM_SetSelectValue(a, b);
          $("#apclient_security").selectbox();
          ChangeSecurity(selected_security)
        }
      }
      function CloseSiteSurveyList() {
        document.getElementById("scan_wifi_list_block").style.display = "none";
        document.getElementById("scan_waiting").style.display = "none";
        document.getElementById("scan_list").style.display = "none"
      }
      function ChangeSecurity(a) {
        switch (a) {
        case "NONE":
          document.getElementById("apclient_wep_passlen_tr").style.display = "none";
          document.getElementById("apclient_passwd_tr").style.display = "none";
          break;
        case "WEP":
          document.getElementById("apclient_wep_passlen_tr").style.display = "table-row";
          document.getElementById("apclient_passwd_tr").style.display = "table-row";
          break;
        case "WPA+2PSK":
          document.getElementById("apclient_wep_passlen_tr").style.display = "none";
          document.getElementById("apclient_passwd_tr").style.display = "table-row";
          break
        }
      }
      function SaveAPClientValue(a) {
        HNAP_WLanRadioSettings = a;
		var json_data = {};
        if (a != null) {
          if (selected_wlmode == "24") {
            //a.Set("SetAPClientSettings/RadioID", "RADIO_2.4GHz")
			json_data["RadioID"] = "RADIO_2.4GHz";
          } else {
            if (selected_wlmode == "5") {
             // a.Set("SetAPClientSettings/RadioID", "RADIO_5GHz")
			 json_data["RadioID"] = "RADIO_5GHz";
            } else {
             // a.Set("SetAPClientSettings/RadioID", "RADIO_MANUAL")
			 json_data["RadioID"] = "RADIO_MANUAL";
            }
          }
          if (support_apclient) {
           // a.Set("SetAPClientSettings/Enabled", "true")
		    json_data["Enabled"] = "true";
          } else {
           // a.Set("SetAPClientSettings/Enabled", "false")
			  json_data["Enabled"] = "false";
          }
          var d = document.getElementById("apclient_ssid").value;
         // a.Set("SetAPClientSettings/SSID", d);
		 json_data["SSID"] = d;
          var c = document.getElementById("apclient_security").value;
          var b = document.getElementById("apclient_passwd").value;
          switch (c) {
          case "NONE":
           // a.Set("SetAPClientSettings/SupportedSecurity/SecurityInfo/SecurityType", c);
           // a.Set("SetAPClientSettings/SupportedSecurity/SecurityInfo/Encryptions/string", "NONE");
			 json_data["SecurityType"] = c;
			 json_data["Encryptions"] = "NONE";
            break;
          case "WEP":
           // a.Set("SetAPClientSettings/SupportedSecurity/SecurityInfo/SecurityType", c);
           // a.Set("SetAPClientSettings/SupportedSecurity/SecurityInfo/Encryptions/string", "WEPAUTO");
          //  a.Set("SetAPClientSettings/Key", b);
			 json_data["SecurityType"] = c;
			 json_data["Encryptions"] = "WEPAUTO";
			  json_data["Key"] = b;
            break;
          case "WPA+2PSK":
           // a.Set("SetAPClientSettings/SupportedSecurity/SecurityInfo/SecurityType", c);
           // a.Set("SetAPClientSettings/SupportedSecurity/SecurityInfo/Encryptions/string", "TKIP+AES");
           // a.Set("SetAPClientSettings/Key", b);
			json_data["SecurityType"] = c;
			json_data["Encryptions"] = "TKIP+AES";
			json_data["Key"] = b;
            break
          }
         // HNAP.SetXMLAsync("SetAPClientSettings", a, function(e) { SaveAPClientValue_2nd(e) })
		 HNAP.SetJSONAsync("SetAPClientSettings", a, json_data, function(e)	{	SaveAPClientValue_2nd(e);	});
        } else {
          if (DebugMode == 1) {
            alert("[!!SetXML Error!!] Function: SaveAPClientValue")
          }
          window.location.reload()
        }
      }
      function SaveAPClientValue_2nd() {
        var a = result_xml.Get("SetAPClientSettingsResponse/SetAPClientSettingsResult");
        if (a == "OK") {
          document.getElementById("result_Message").innerHTML = I18N("j", "Your changes are being saved. When reconnecting to this device, please use the new Wi-Fi name and password you created.");
          Start_reciprocal_Number_RestoreConfiguration()
        }
        if (a == "ERROR") {
          if (DebugMode == 1) {
            alert("[!!SetXML Error!!] Function: SaveAPClientValue_2nd")
          }
          window.location.reload()
        }
      }
      function AutoWLanMode() {
        selected_wlmode = "manual"
      }
      function Start_reciprocal_Number_RestoreConfiguration() {
        if (_ReciprocalNumber >= 0) {
          document.getElementById("reciprocal_Number").innerHTML = _ReciprocalNumber + " " + I18N("j", "Sec");
          _ReciprocalNumber--;
          setTimeout("Start_reciprocal_Number_RestoreConfiguration()", 1000)
        } else {
          document.getElementById("waitSettingFinish").style.display = "none";
          document.getElementById("SuccessSettings").style.display = "inline"
        }
      }
      function returnToHome() {
        window.location.reload()
      }
      function Regenerate_PIN() {
        var a = "";
        var d = 0;
        var c = 0;
        var e = 0;
        for (var b = 0; b < 7; b++) {
          e = (Math.floor(Math.random() * 9));
          a += e;
          d += parseInt(e, [10]) * (((b % 2) == 0) ? 3 : 1)
        }
        c = (10 - (d % 10)) % 10;
        a += c;
        document.getElementById("dev_pin").value = a
      }
      function Save_Dev_Pin() {
        var a = HNAP.GetXML("SetWiFiVerifyAlpha");
        a.Set("SetWiFiVerifyAlpha/WPS/DEV_PIN", document.getElementById("dev_pin").value);
        var b = HNAP.SetXML("SetWiFiVerifyAlpha", a);
        location.reload()
      }
      function CheckPIN(e) {
        if (e.length == 4 && /^[0-9]*$/.test(e)) {
          return e
        } else {
          if ((e.length == 9 && /[0-9]{4}(\-|\s)[0-9]{4}/.test(e)) || (e.length == 8 && /^[0-9]*$/.test(e))) {
            if (e[4] == "-") {
              var a = e.split("-");
              e = a[0] + a[1]
            } else {
              if (e[4] == " ") {
                var a = e.split(" ");
                e = a[0] + a[1]
              }
            }
            var c = 0;
            var d = 3;
            for (var b = 0; b < 8; b++) {
              c = d * e.charAt(b) + c;
              if (d == 3) {
                d = 1
              } else {
                d = 3
              }
            }
            if ((c % 10) == 0) {
              return e
            } else {
              return false
            }
          } else {
            return false
          }
        }
      }
      function Conn_PIN_Client() {
        var c = CheckPIN(document.getElementById("pin_num").value);
        if (c) {
          var a = HNAP.GetXML("SetWiFiVerifyAlpha");
          a.Set("SetWiFiVerifyAlpha/WPS/WPSPIN", c);
          var b = HNAP.SetXML("SetWiFiVerifyAlpha", a)
        } else {
          alert("Invalid PIN code!")
        }
      }
      function Conn_PBC() {
        var a = HNAP.GetXML("SetWiFiVerifyAlpha");
        a.Set("SetWiFiVerifyAlpha/WPS/WPSPBC", "1");
        var b = HNAP.SetXML("SetWiFiVerifyAlpha", a)
      }
      function ResetToUnconfigured() {
        var a = HNAP.GetXML("SetWiFiVerifyAlpha");
        a.Set("SetWiFiVerifyAlpha/WPS/ResetToUnconfigured", "1");
        var b = HNAP.SetXML("SetWiFiVerifyAlpha", a)
      }
      function CheckNetworkStatus() {
        var a = sessionStorage.getItem("networkStatus");
        if ((a == 1) && (currentDevice.helpVer != "")) {
          document.getElementById("Get_Help").style.display = "inline"
        } else {
          document.getElementById("Get_Help").style.display = "none"
        }
      }
      function InitTurboMode(c, b, a) {
        if (c) {
          $("#turbomode_" + b + "_tr").show();
          if (a == "true") {
            SetCheckBoxEnable("turbomode_" + b, true, true);
            DisableTransmissionPower(b, true)
          } else {
            SetCheckBoxEnable("turbomode_" + b, true, false);
            DisableTransmissionPower(b, false)
          }
        } else {
          SetCheckBoxEnable("turbomode_" + b, true, false);
          $("#turbomode_" + b + "_tr").hide()
        }
      }
      function DisableTransmissionPower(c, a) {
        if (a) {
          boxstatus = "disable"
        } else {
          boxstatus = "enable"
        }
        if (a) {
          var b = document.getElementById("transmissionPower_" + c);
          COMM_SetSelectValue(b, 100);
          $("#transmissionPower_" + c).selectbox("detach");
          $("#transmissionPower_" + c).selectbox()
        }
        $("#transmissionPower_" + c).selectbox(boxstatus)
      }
      function CheckTurboMode(b) {
        var a = document.getElementById("turbomode_" + b + "_ck").checked;
        if (a) {
          DisableTransmissionPower(b, true)
        } else {
          DisableTransmissionPower(b, false)
        }
      };
    </script>
    <script language="JavaScript">
      $(function() {
        $("button").click(function() {
          save_button_changed()
        });
        $("input, textarea, select").change(function() {
          save_button_changed()
        });
        $("input, textarea").keypress(function() {
          save_button_changed()
        })
      });
    </script>
    <style>
      .btn_radius{font-family:Arial,Helvetica,sens-serif;border-radius:5px;border:solid
      1px #4394a7;COLOR:#fff;background-color:#4394a7;width:80px;height:30px;text-align:center}.btn_radius2{font-family:Arial,Helvetica,sens-serif;border-radius:5px;background-color:#007086;border:solid
      1px #FFF;color:#fff;width:80px;height:25px;text-align:center}.PopAlertBlackBg{position:fixed;z-index:101;top:0;left:0;width:100%;height:100%;background:url(../image/black_bg.png);text-align:center}.scanPopBox{position:relative;top:100px;width:331px;height:auto;margin:0
      auto}.waitScanBox{position:relative;text-align:center;top:100px;left:80px;width:222px;height:206px;background:url(../image/wisp_loading.png)
      left top repeat-y}.scanListBox{border-radius:10px;position:relative;top:100px;background-color:#007086;border:solid
      1px #FFF;color:#FFF;padding:10px;width:331px;height:auto;text-align:left}.list_content_div{color:#333;background-color:#FFF;width:100%;height:250px;overflow:auto}.content{border-bottom:solid
      1px #ccc}div.emptyline{height:12px}
    </style>
  </head>
  
  <body>
    <form name="wifi_form" id="wifi_form" method="POST" action="">
      <div id="wrapper">
        <div id="header">
        </div>
        <div id="menu">
        </div>
        <div id="menu_edge">
        </div>
        <div id="content">
          <div id="info">
            <div id="FunctionName">
              <script>
                I18N("h", "Wireless(Wi-Fi)");
              </script>
            </div>
            <div id="wallimage">
              <img src="image/wifi_24.png" alt="" width="195" height="119" />
            </div>
            <div id="directions">
              <script>
                I18N("h", "Use this section to configure the wireless settings for your D-Link Router. Please note that changes made on this section may also need to be duplicated on your Wireless Client.");
              </script>
              <label id="Get_Help" onClick="showOnlineHelp('Wireless (Router Mode)');"
              style="cursor:pointer;display:none;text-Decoration:underline">
                <script>
                  I18N("h", "Click here for help.");
                </script>
              </label>
            </div>
          </div>
          <div id="funcBar">
            <div id="pagePath">
              &nbsp;
              <script>
                I18N("h", "Settings");
              </script>
              >>
              <script>
                I18N("h", "Wireless(Wi-Fi)");
              </script>
            </div>
            <ul id="rightFunc">
              <li style="display:block">
                <div id="Save_btn" onclick="document.getElementById('sumbit_CheckData').click();changeTimeoutAction();"
                style="cursor:pointer; display:none">
                  <script>
                    I18N("h", "Save");
                  </script>
                </div>
              </li>
              <li style="display:block">
                <div id="Save_Disable_btn">
                  <script>
                    I18N("h", "Save");
                  </script>
                </div>
              </li>
              <input id="sumbit_CheckData" class="submit" type="submit" value="Submit" style="display:none" />

              <li id="FUNC_Guest" style="display:block">
                <a href="javascript:CheckHTMLStatus('GuestZone');" style="text-decoration:none;"
                onclick="return confirmExit()">
                  <div id="page_btn" class="linkstyle_1">
                    <script>
                      I18N("h", "Guest Zone");
                    </script>
                  </div>
                </a>
              </li>
            </ul>
          </div>
          <div id="main" style="display:none">
            <div id="WIFI_STA" style="display:none;">
              <table class="block">
                <tbody>
                  <tr>
                    <td>
                      <div class="title">
                        <script>
                          I18N("h", "Station");
                        </script>
                      </div>
                    </td>
                    <td>
                    </td>
                  </tr>
                  <tr>
                    <th>
                      <script>
                        I18N("h", "Wireless Network Name");
                      </script>
                      :
                    </th>
                    <td width="220px">
                      <input class="styled-text" type="text" id="apclient_ssid" name="apclient_ssid"
                      size="30" maxlength="32" onChange="AutoWLanMode()" />
                    </td>
                    <td>
                      <button id="apclient_scan_btn" type="button" class="btn_radius" onClick="TriggerSiteSurvey()"
                      style="cursor:pointer" />
                      <script>
                        I18N("h", "Scan");
                      </script>
                    </td>
                  </tr>
                  <tr>
                    <th>
                      <script>
                        I18N("h", "Security");
                      </script>
                      :
                    </th>
                    <td>
                      <div class="styled-select">
                        <select id="apclient_security" onChange="ChangeSecurity(this.value)">
                          <option value="NONE">
                            None
                          </option>
                          <option value="WEP">
                            WEP
                          </option>
                          <option value="WPA+2PSK">
                            WPA/WPA2-Personal
                          </option>
                        </select>
                      </div>
                    </td>
                    <td>
                    </td>
                  </tr>
                  <tr id="apclient_wep_passlen_tr" style="display:none;">
                    <th>
                      <script>
                        I18N("h", "Password Length");
                      </script>
                      :
                    </th>
                    <td>
                      <div class="styled-select">
                        <select id="apclient_wep_passlen">
                          <option value="64Hex">
                            64 bit(10 hex digits)
                          </option>
                          <option value="64ASCII">
                            64 bit(5 ascii characters)
                          </option>
                          <option value="128Hex">
                            128 bit(26 hex digits)
                          </option>
                          <option value="128ASCII">
                            128 bit(13 ascii characters)
                          </option>
                        </select>
                      </div>
                    </td>
                    <td>
                    </td>
                  </tr>
                  <tr id="apclient_passwd_tr" style="display:none;">
                    <th>
                      <script>
                        I18N("h", "Password");
                      </script>
                      :
                    </th>
                    <td>
                      <input id="apclient_passwd" name="apclient_passwd" class="styled-text"
                      type="text" size="27" autocomplete="off">
                    </td>
                    <td>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div id="separated_line" style="display:none">
              <hr/>
            </div>
            <div id="RADIO_2GHz" style="display:none">
              <table class="block" border="0" cellspacing="0" style="margin: 10px 0 0 0;">
                <tbody>
                  <tr>
                    <td>
                      <div class="title">
                        2.4GHz
                      </div>
                    </td>
                    <td>
                    </td>
                  </tr>
                  <tr>
                    <th>
                      <script>
                        I18N("h", "Status");
                      </script>
                      :
                    </th>
                    <td>
                      <div id="status_24" class="checkbox_on" onclick="ChangeBandStatus('24')">
                        <input type="checkbox" id="status_24_ck" name="status_24_ck" checked>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <th>
                      <script>
                        I18N("h", "Wi-Fi Name (SSID)");
                      </script>
                      :
                    </th>
                    <td>
                      <input class="styled-text" type="text" name="wifiName_24" maxlength="32"
                      size="30" id="wifiName_24">
                    </td>
                  </tr>
                  <tr>
                    <th>
                      <script>
                        I18N("h", "Password");
                      </script>
                      :
                    </th>
                    <td>
                      <input class="styled-text" type="text" name="password_24" size="30" id="password_24">
                    </td>
                  </tr>
                </tbody>
              </table>
              <div class="advButton" onclick="showAdv('RADIO_2GHz_adv');CheckTurboMode('24');">
                <script>
                  I18N("h", "Advanced Settings");
                </script>
                ...
              </div>
              <hr/>
              <div id="RADIO_2GHz_adv" style="display:none">
                <table class="block">
                  <tbody>
                    <tr>
                      <th>
                        <script>
                          I18N("h", "Security Mode");
                        </script>
                        :
                      </th>
                      <td>
                        <div class="styled-select">
                          <select name="security_24" id="security_24" onChange="ChangeSupportModeList(this.value, '24')">
                            <option value="None">
                              None
                            </option>
                          </select>
                        </div>
                      </td>
                    </tr>
                    <tr id="show_80211Mode_24G">
                      <th>
                        <script>
                          I18N("h", "802.11 Mode");
                        </script>
                        :
                      </th>
                      <td>
                        <div class="styled-select">
                          <select name="80211Mode_24" id="80211Mode_24" onChange="ChangeWidthList('24')">
                          </select>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <th>
                        <script>
                          I18N("h", "Wi-Fi Channel");
                        </script>
                        :
                      </th>
                      <td>
                        <div class="styled-select">
                          <select name="channel_24" id="channel_24" onChange="ChangeWidthList('24')">
                            <option value="0">
                              Auto
                            </option>
                          </select>
                        </div>
                      </td>
                    </tr>
                    <tr id="turbomode_24_tr">
                      <th>
                        <script>
                          I18N("h", "Turbo mode");
                        </script>
                        :
                      </th>
                      <td>
                        <div id="turbomode_24" class="checkbox_on" onclick="SetCheckBoxEnable('turbomode_24');CheckTurboMode('24');">
                          <input type="checkbox" id="turbomode_24_ck" name="turbomode_24_ck">
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <th>
                        <script>
                          I18N("h", "Transmission Power");
                        </script>
                        :
                      </th>
                      <td>
                        <div class="styled-select">
                          <select name="transmissionPower_24" id="transmissionPower_24">
                            <option value="0">
                              Highest
                            </option>
                            <option value="100" selected>
                              High
                            </option>
                            <option value="50">
                              Medium
                            </option>
                            <option value="25">
                              Low
                            </option>
                          </select>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <th>
                        <script>
                          I18N("h", "Channel Width");
                        </script>
                        :
                      </th>
                      <td>
                        <div class="styled-select">
                          <select name="channelWidth_24" id="channelWidth_24" onChange="changeChannelWidth()">
                            <option value="20">
                              20 MHz
                            </option>
                            <option value="0">
                              Auto 20/40 MHz
                            </option>
                          </select>
                        </div>
                      </td>
                    </tr>
                    <tr id="coexistence_24_tr">
                      <th>
                        <script>
                          I18N("h", "coexistence");
                        </script>
                        :
                      </th>
                      <td>
                        <div id="coexistence_24" class="checkbox_on" onclick="SetCheckBoxEnable('coexistence_24')">
                          <input type="checkbox" id="coexistence_24_ck" name="coexistence_24_ck"
                          checked>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <th>
                        <script>
                          I18N("h", "Visibility Status");
                        </script>
                        :
                      </th>
                      <td>
                        <div class="styled-select">
                          <select name="visibilityStatus_24" id="visibilityStatus_24">
                            <option value="true">
                              Visible
                            </option>
                            <option value="false">
                              Invisible
                            </option>
                          </select>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <th class="linkstyle_1">
                        <a href="Schedule.html">
                          <script>
                            I18N("h", "Schedule");
                          </script>
                        </a>
                        :
                      </th>
                      <td>
                        <div class="styled-select">
                          <select name="schedule_24" id="schedule_24">
                            <option value="Always" selected>
                              Always
                            </option>
                          </select>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <hr/>
              </div>
            </div>
            <div id="RADIO_5GHz" style="display:none">
              <table class="block" style="margin: 10px 0 0 0;">
                <tbody>
                  <tr>
                    <td>
                      <div class="title">
                        5GHz
                      </div>
                    </td>
                    <td>
                    </td>
                  </tr>
                  <tr>
                    <th>
                      <script>
                        I18N("h", "Status");
                      </script>
                      :
                    </th>
                    <td>
                      <div id="status_5" class="checkbox_on" onclick="ChangeBandStatus('5')">
                        <input type="checkbox" id="status_5_ck" name="status_5_ck" checked>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <th>
                      <script>
                        I18N("h", "Wi-Fi Name (SSID)");
                      </script>
                      :
                    </th>
                    <td>
                      <input class="styled-text" type="text" name="wifiName_5" size="30" maxlength="32"
                      id="wifiName_5">
                    </td>
                  </tr>
                  <tr>
                    <th>
                      <script>
                        I18N("h", "Password");
                      </script>
                      :
                    </th>
                    <td>
                      <input class="styled-text" type="text" name="password_5" size="30" id="password_5">
                    </td>
                  </tr>
                </tbody>
              </table>
              <div class="advButton" onclick="showAdv('RADIO_5GHz_adv');CheckTurboMode('5');">
                <script>
                  I18N("h", "Advanced Settings");
                </script>
                ...
              </div>
              <hr style="height: 1px;" />
              <div id="RADIO_5GHz_adv" style="display:none">
                <table class="block" border="0">
                  <tbody>
                    <tr>
                      <th>
                        <script>
                          I18N("h", "Security Mode");
                        </script>
                        :
                      </th>
                      <td>
                        <div class="styled-select">
                          <select name="security_5" id="security_5" onChange="ChangeSupportModeList(this.value, '5')">
                            <option value="None">
                              None
                            </option>
                          </select>
                        </div>
                      </td>
                    </tr>
                    <tr id="show_80211Mode_5G">
                      <th>
                        <script>
                          I18N("h", "802.11 Mode");
                        </script>
                        :
                      </th>
                      <td>
                        <div class="styled-select">
                          <select name="80211Mode_5" id="80211Mode_5" onChange="ChangeWidthList('5')">
                          </select>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <th>
                        <script>
                          I18N("h", "Wi-Fi Channel");
                        </script>
                        :
                      </th>
                      <td>
                        <div class="styled-select">
                          <select name="channel_5" id="channel_5" onChange="ChangeWidthList('5')">
                            <option value="0">
                              Auto
                            </option>
                          </select>
                        </div>
                      </td>
                    </tr>
                    <tr id="turbomode_5_tr">
                      <th>
                        <script>
                          I18N("h", "Turbo mode");
                        </script>
                        :
                      </th>
                      <td>
                        <div id="turbomode_5" class="checkbox_on" onclick="SetCheckBoxEnable('turbomode_5');CheckTurboMode('5');">
                          <input type="checkbox" id="turbomode_5_ck" name="turbomode_5_ck">
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <th>
                        <script>
                          I18N("h", "Transmission Power");
                        </script>
                        :
                      </th>
                      <td>
                        <div class="styled-select">
                          <select name="transmissionPower_5" id="transmissionPower_5">
                            <option value="0">
                              Highest
                            </option>
                            <option value="100" selected>
                              High
                            </option>
                            <option value="50">
                              Medium
                            </option>
                            <option value="25">
                              Low
                            </option>
                          </select>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <th>
                        <script>
                          I18N("h", "Channel Width");
                        </script>
                        :
                      </th>
                      <td>
                        <div class="styled-select">
                          <select name="channelWidth_5" id="channelWidth_5">
                            <option value="0">
                              Auto 20/40 MHz
                            </option>
                            <option value="1">
                              Auto 20/40/80 MHz
                            </option>
                          </select>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <th>
                        <script>
                          I18N("h", "Visibility Status");
                        </script>
                        :
                      </th>
                      <td>
                        <div class="styled-select">
                          <select name="visibilityStatus_5" id="visibilityStatus_5">
                            <option value="true">
                              Visible
                            </option>
                            <option value="false">
                              Invisible
                            </option>
                          </select>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <th class="linkstyle_1">
                        <a href="Schedule.html">
                          <script>
                            I18N("h", "Schedule");
                          </script>
                        </a>
                        :
                      </th>
                      <td>
                        <div class="styled-select">
                          <select name="schedule_5" id="schedule_5">
                            <option value="Always" selected>
                              Always
                            </option>
                          </select>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div id="wpspage" style="display:none">
              <table class="block" border="0">
                <tbody>
                  <tr>
                    <td>
                      <div class="title">
                        <script>
                          I18N("h", "WI-FI PROTECTED SETUP");
                        </script>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <th>
                      <script>
                        I18N("h", "WPS status");
                      </script>
                      :
                    </th>
                    <td>
                      <span name="wps_status" id="wps_status">
                      </span>
                    </td>
                  </tr>
                  <tr>
                    <th>
                      <script>
                        I18N("h", "Device PIN");
                      </script>
                      :
                    </th>
                    <td>
                      <input class="styled-text" type="text" name="dev_pin" size="15" maxlength="16"
                      id="dev_pin" disabled="1">
                      <button type="button" class="button_pin" onClick="Regenerate_PIN()" style="cursor:pointer"
                      />
                      <script>
                        I18N("h", "Generate New PIN");
                      </script>
                    </td>
                  </tr>
                  <tr>
                    <th>
                    </th>
                    <td>
                      <button type="button" class="button_pin" onClick="Save_Dev_Pin()" style="cursor:pointer"
                      />
                      <script>
                        I18N("h", "Save Device PIN");
                      </script>
                      <button type="button" class="button_pin" id="ResetWPS" onClick="ResetToUnconfigured()"
                      style="cursor:pointer" />
                      <script>
                        I18N("h", "Reset to Unconfigured");
                      </script>
                    </td>
                  </tr>
                </tbody>
              </table>
              <hr/>
              <table class="block" style="margin: 10px 0 0 0;">
                <tbody>
                  <tr>
                    <th>
                      Connet to Device
                    </th>
                  </tr>
                  <tr>
                    <th>
                      <script>
                        I18N("h", "PBC");
                      </script>
                      :
                    </th>
                    <td>
                      <button type="button" class="button_pbc" id="pbc_button" onClick="Conn_PBC()"
                      style="cursor:pointer" />
                      <script>
                        I18N("h", "PBC Start");
                      </script>
                    </td>
                  </tr>
                  <tr>
                    <th>
                      <script>
                        I18N("h", "PIN");
                      </script>
                      :
                    </th>
                    <td>
                      <input class="styled-text" type="text" name="pin_num" size="30" maxlength="32"
                      id="pin_num">
                      <button type="button" class="button_pin" id="pin_button" onClick="Conn_PIN_Client()"
                      style="cursor:pointer" />
                      <script>
                        I18N("h", "PIN Start");
                      </script>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div id="CreatePopAlertMessage" style="display:none">
              <div id="AlertPopRect">
                <div id="AlertPopBody">
                  <table class="myAlertPop_table_b" id="waitSettingFinish" border="0" cellspacing="0"
                  style="display:none">
                    <tbody>
                      <tr>
                        <td>
                          <center>
                            <div id="Loading_pop_image">
                            </div>
                          </center>
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <label id="reciprocal_Number">
                          </label>
                        </td>
                      </tr>
                      <tr>
                        <td id="dialog_msg_black">
                          <label id="result_Message">
                            <script>
                              I18N("h", "Your changes are being saved.");
                            </script>
                          </label>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <table class="myAlertPop_table_b" id="SuccessSettings" border="0" cellspacing="0"
                  style="display:none">
                    <tbody>
                      <tr>
                        <td>
                          <center>
                            <div id="Information_pop_image">
                            </div>
                          </center>
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <div id="dialog_msg_black">
                            <script>
                              I18N("h", "The new settings have been saved.");
                            </script>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <center>
                            <div id="Confirm_btn" onclick="returnToHome()" style="cursor:pointer">
                              <script>
                                I18N("h", "OK");
                              </script>
                            </div>
                          </center>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
            <div id="scan_wifi_list_block" class="PopAlertBlackBg" style="display:none">
              <div class="scanPopBox">
                <div id="scan_waiting" class="waitScanBox" style="display:none">
                  <br/>
                  <br/>
                  <br/>
                  <center>
                    <img src="image/loading.gif" border="0">
                  </center>
                  <div>
                    <span>
                      <script>
                        I18N("h", "Scanning...");
                      </script>
                    </span>
                  </div>
                  <br/>
                </div>
                <div id="scan_list" class="scanListBox" style="display:none">
                  <div id="scan_list_title">
                    <table width="100%" cellspacing="0" cellpadding="0" border="0">
                      <tbody>
                        <tr>
                          <td>
                            <b>
                              <script>
                                I18N("h", "Available hotspot networks");
                              </script>
                            </b>
                          </td>
                          <td style="text-align: right;">
                            <a href="javascript:TriggerSiteSurvey()">
                              <img src="image/wisp_reload.gif" border="0">
                            </a>
                            <a href="javascript:CloseSiteSurveyList()">
                              <img src="image/wisp_close.gif" width="24" height="25" border="0">
                            </a>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div class="emptyline">
                  </div>
                  <div id="scan_list_content">
                    <div class="list_content_div">
                      <table id="content_tb" width="100%" cellspacing="0" cellpadding="5" border="0"
                      style="cursor:pointer">
                      </table>
                    </div>
                  </div>
                  <div class="emptyline">
                  </div>
                  <div id="scan_list_slb">
                    <center>
                      <div id="apclient_select_btn" onclick="OnClickSelect()" class="btn_radius2"
                      style="cursor:pointer">
                        <script>
                          I18N("h", "Select");
                        </script>
                      </div>
                    </center>
                  </div>
                  <div class="emptyline">
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div id="DetectRouterConnection" style="display:none">
          </div>
          <div id="footer">
            <div id="copyright">
              <script>
                I18N("h", "COPYRIGHT");
              </script>
            </div>
          </div>
        </div>
      </div>
    </form>
    <script type="text/javascript" charset="utf-8">
      $(document).ready(function() {
        $.validator.addMethod("checkSetValues",
        function(h, f) {
          var b = f.id;
          var e = "";
          if (b.indexOf("wifiName") >= 0) {
            if (h == "" || h == null) {
              e = I18N("j", "Please enter a Wi-Fi Name(SSID).")
            }
          }
          if (b.indexOf("password") >= 0) {
            var d = b.split("_");
            var i = d[1];
            var c = document.getElementById("security_" + i).value;
            if (i == "24") {
              var g = document.getElementById("RADIO_2GHz_adv").style.display
            } else {
              if (i == "5") {
                var g = document.getElementById("RADIO_5GHz_adv").style.display
              }
            }
            if (c != "None") {
              if (h != "") {
                if (c.match("WEP") == "WEP") {
                  if (c == "WEP") {
                    if (h.length != 13) {
                      e = I18N("j", "Your password must be 13 characters length")
                    }
                  } else {
                    if (h.length == 10 || h.length == 26) {
                      if (! (/^[0-9a-fA-F]*$/.test(h))) {
                        e = I18N("j", "WEP password length is 10 or 26, password type must be Hexadecimal.")
                      }
                    } else {
                      if (h.length != 5 && h.length != 13) {
                        e = I18N("j", "Your password must be 5 or 10 or 13 or 26 length.")
                      }
                    }
                  }
                } else {
                  if (c.match("WPA") == "WPA") {
                    if (c == "WPAORWPA2-PSK") {
                      if (h.length > 63 || h.length < 8) {
                        e = I18N("j", "Your password must be between 8-63 characters length")
                      }
                    } else {
                      if (h.length == 64) {
                        if (! (/^[0-9a-fA-F]*$/.test(h))) {
                          e = I18N("j", "WPA password length is 64, password type must be Hexadecimal.")
                        }
                      } else {
                        if (h.length > 64 || h.length < 8) {
                          e = I18N("j", "Your password must be between 8-63 characters length")
                        }
                      }
                    }
                  }
                }
              } else {
                if (g == "block") {
                  e = I18N("j", "Please enter a password.")
                }
              }
            }
          }
          return e
        },
        "");
        $("#wifi_form").validate({
          submitHandler: function(b) {
            CheckConnectionStatus()
          }
        });
        var a = $("#wifiName_24, #password_24, #wifiName_5, #password_5");
        $.each(a,
        function(c, b) {
          $(this).rules("add", {
            checkSetValues: true
          })
        })
      });
    </script>
  </body>
  <script type="text/javascript">
    Load_HTML();
    Initial();
    setMenu("menu_Settings");
    GetXML();
    checkTimeout();
  </script>

</html>
