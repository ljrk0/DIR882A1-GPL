<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns= "http://www.w3c.org/1999/xhtml">

<head>
<title>D-LINK</title>
<!-- for browser tab logo -->
<link rel="icon" href="/image/dlink-favicon.ico">
<link rel="shortcut icon" href="/image/favicon.ico" type="image/x-icon" /> 
<meta http-equiv="X-UA-Compatible" content="IE=9">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="Content-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="css/jquery-ui.min.css" media="all" />

<link href="/js/bootstrap/css/bootstrap.min.css" rel="stylesheet">
<link href="css/jquery.selectbox.css" type="text/css" rel="stylesheet" />
<link rel="stylesheet" type="text/css" href="/css/style_h.css" media="all" />
<script type="text/javascript" charset="utf-8" src="/js/initialJQ.js"></script>
<script type="text/javascript" charset="utf-8" src="/js/jquery-ui.custom.min.js"></script>
<script type="text/javascript" charset="utf-8" src="/js/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" charset="utf-8" src="/js/initialJS.js"></script>
<script type="text/javascript" charset="utf-8" src="/js/initialValidate.js"></script>
<script type="text/javascript" charset="utf-8" src="/js/ConnectedClients.js"></script>
<script type="text/javascript" charset="utf-8" src="/js/SOAP/SOAPWanSettings.js"></script>
<script type="text/javascript" charset="utf-8" src="/js/SOAP/SOAPIPv6.js"></script>
<script type="text/javascript" charset="utf-8" src="/js/SOAP/SOAPClientInfo.js"></script>
<script type="text/javascript" charset="utf-8" src="/js/SOAP/SOAPWLanRadio.js"></script>
<script type="text/javascript" charset="utf-8" src="/js/SOAP/SOAPNetworkSettings.js"></script>
<script type="text/javascript" charset="utf-8" src="/js/SOAP/SOAPUSB.js"></script>
<script type="text/javascript" charset="utf-8" src="/js/SOAP/SOAPTimeMachine.js"></script>
<script type="text/javascript" charset="utf-8" src="/js/SOAP/SOAPCovr.js"></script>
<script type="text/javascript" charset="utf-8" src="/js/homeUSB.js"></script>

	
<script>
//xframeoption
if(top!=self){top.location=self.location;}

//session
if (sessionStorage.getItem('PrivateKey') === null){
	window.location.replace('../info/Login.html');
}

	$(document).ready(function()	{
		//#ifdef featureUPNPAV
		if(currentDevice.featureUPNPAV == false)
		{
			$("#usb_2").hide();
		}
		//#endif

		// if supports share port, jump to SharePort page. if not, jump to USB Sharing page
		// if supports share port, the USB Device Info part's height: 410px, USB Sharing: 300px
		if (currentDevice.featureSharePort == false) {
			document.getElementById('settings_SharePort').href = "UsbSharing.html";
			document.getElementById('usb_left').style.minHeight = "350px";
		}
		else {
			document.getElementById('usb_left').style.minHeight = "410px";
		}

		$("#header").load("header.html");
		initialMenu();
		initialDetectRouterConnection("Home");
		setMenu("menu_Home");
		startTimeout();
		var getInternetInformationDeffered = GetInternetInformation(true);
		showModelName();
		GetUSB_Status();
		Get_ClientInfo();
		GetSchedule_List();
		GetRouterInformation();
		getInternetInformationDeffered.done(function(){
		renewWanStatus(true);
		});
		setInterval("renewWanStatus(false)",5000);
		setInterval("Get_ClientInfo()",1000);
		iniList();
		showList("internetInfo");
		$(document).tooltip();
		LoadMACList();
		setEvents();
		setClientValidate();

		$("select").change(function () {	buttonStyleChange();	});
		$("input").keydown(function () {	changeTimeoutAction();	});
		$("#client_form  input").keyup(function(){
			buttonStyleChange();
		});

		//manual
		if (currentDevice.helpVer != "")
		{
			createManualLink();
		}

	});
</script>
<script type="text/javascript">
var HNAP = new HNAP_XML();
var soapAction = new SOAPAction();
var currentState;
var Time_GetConnectionUpTime;
var Time_GetConnectionUpTime_IPv6;
var ipv4_connTime = 0;
var ipv6_connTime = 0;
var Time_GetUSBInformation;
var valueChanged = 0;
var getInternetStatusDeffered = null;
var Time_ResetButton;
var usbDataList = new USBDatalist();

//remaining
var Remainingnumber=24;

//HNAP data
var wanStatus = new SOAPGetWanStatusResponse();
var currentInternetStatus = null;
var ipv6Status = new SOAPGetIPv6StatusResponse();
var wanSettings_cache = new SOAPGetWanSettingsResponse();	//for wan static data cache only

//LAN info
var getRouterLanSettingsResponse = new SOAPGetRouterLanSettingsResponse();

//DHCP info
var getNetworkSettings = new SOAPGetNetworkSettingsResponse();

function iniList()
{
	//#ifdef featureSharePort
	//if(currentDevice.featureSharePort)
	if(currentDevice.featureUsbPort == true)
	{
		$("#usbIcon").delay(500).fadeIn(1000);
		$("#line_ethernet,#line_usb").delay(700).fadeIn(1000);
		if (document.getElementById("Total_Extenders").innerHTML != "0") {
			$("#line_wifi").delay(700).fadeIn(1000);
			document.getElementById("line_wifi_img").width = 400;
			$("#extenderIcon").delay(500).fadeIn(1000);
		}
	}
	else
	{
		if (document.getElementById("Total_Extenders").innerHTML != "0") {
			$("#line_ethernet,#line_usb").delay(700).fadeIn(1000);
			$("#extenderIcon").css({"top":"260px","left":"635px"});
			$("#extenderIcon").delay(500).fadeIn(1000);
		} else {
			$("#line_wifi").delay(700).fadeIn(1000);
			$("#clientIcon").css('top', '148px');
			document.getElementById("line_wifi_img").width = 250;
		}
	}

	$("#internetIcon,#routerIcon,#clientIcon").delay(500).fadeIn(1000);
	$("#line_wan").delay(700).fadeIn(1000);
	$("#map_info").delay(500).fadeIn(1000);
}

function showList(element)
{
	var oldState = currentState;
	currentState = element;
	if (oldState != currentState)
	{
		$("#internetInfo,#routerInfo,#clientInfo,#usbInfo,#extenderInfo").hide();
		document.getElementById(currentState).style.display = 'block';

		switch(currentState)
		{
			case "internetInfo":
				GetInternetInformation(false);
				gotoIPv4Info_WAN();
				break;
			case "clientInfo":
				getClientList('Host');
				break;
			case "usbInfo":
				GetSharePortInformation();
				break;
			case "extenderInfo":
				getExtenderList();
				break;
		}
	}

	$(".btn_bg2").attr("class", "btn_bg");
	$("#"+currentState+'_circle').attr("class", "btn_bg2");

	click_Statuschanged();
}

function mouseUnderLine(obj)	{	obj.style.textDecoration = "underline";	}
function mouseUnderLineN(obj)	{	obj.style.textDecoration = "none";	}

function renewWanStatus(init)
{
	var oldWanStatus = wanStatus.Status;
	ipv6Status = new SOAPGetIPv6StatusResponse();
	wanStatus = new SOAPGetWanStatusResponse();
	var v6_query = soapAction.sendSOAPAction("GetIPv6Status", null, ipv6Status);
	var wan_query = soapAction.sendSOAPAction("GetWanStatus", null, wanStatus);
	$.when(v6_query, wan_query).done(function(obj)
	{
		//if(init)
		//{
		//	GetInternetInformation(true);
		//}

		//show topology
		switch (wanStatus.Status)
		{
			case "CONNECTED":
				//for better user experience
				// if(init)
				// {
				// 	/*
				// 	if(wanSettings_cache.IPAddress != "")
				// 	{
				// 		showTopologyConnected();
				// 	}
				// 	else
				// 	{
				// 		showTopologyDisconnected(wanStatus.Status);
				// 	}
				// 	*/
				// 	showTopologyConnected();
					
				// 	showRuntimeWanInfo(wanSettings_cache);

				// 	//if(wanSettings_cache.IPAddress != ""){
				// 	GetConnectionUpTime(false);
				// 	//}else{
				// 	//	GetConnectionUpTime(true);
				// 	//}
				// 	if(ipv6Status.IPv6_Network_Status.toLowerCase() == "connected"){
				// 		GetConnectionUpTime(true);
				// 	}

				// }
				if(getInternetStatusDeffered == null)	//don't double trigger
				{
						getInternetStatusDeffered = getInternetStatus(true);
						getInternetStatusDeffered.done(function(connStatus){
						var oldConnStatus = currentInternetStatus;
						currentInternetStatus = connStatus;
						/*
						if (connStatus =="OK_CONNECTED")
						{
							showTopologyConnected();
						}
						else
						{
							showTopologyDisconnected(wanStatus.Status);
						}
						*/
						showTopologyConnected();
						//trigger
						//if((wanStatus.Status != oldWanStatus)||(currentInternetStatus != oldConnStatus))
						//{
							renewWanSettings(wanStatus.Status);
						//}

						if(ipv6Status.IPv6_Network_Status.toLowerCase() == "connected"){
							GetConnectionUpTime(true);
						}
						
						getInternetStatusDeffered = null;
					});
				}
				break;
			case "CONNECTING":
			case "LIMITED_CONNECTION":
			case "DISCONNECTED":
			/*
				if(ipv6Status.IPv6_Network_Status == "Connected")	//if Internet IPv6 ready
				{
					showTopologyConnected();
				}
				else
				{
					showTopologyDisconnected();
				}
			*/
				//trigger
				if(wanStatus.Status != oldWanStatus)
				{
					renewWanSettings(wanStatus.Status);
				}

				if(ipv6Status.IPv6_Network_Status.toLowerCase() == "connected"){
					GetConnectionUpTime(true);
					if(ipv6Status.IPv6_ConnectionType.toLowerCase() == "ipv6_static" || ipv6Status.IPv6_ConnectionType.toLowerCase() == "ipv6_pppoe" || ipv6Status.IPv6_ConnectionType.toLowerCase() == "ipv6_autodetection" || ipv6Status.IPv6_ConnectionType.toLowerCase() == "ipv6_autoconfiguration"){
						showTopologyConnected();
					}else{
						showTopologyDisconnected();
					}
				}else{
					showTopologyDisconnected();

					//ipv6
					ipv6_connTime = 0;
					clearInterval(Time_GetConnectionUpTime_IPv6);
					runConnUpTime(true);
				}

				break;
		}

		//GetConnectionUpTime(true);
		if(init)
		{
			iniList();
			//IPv6
			//showStaticIPv6Info(ipv6Status);
		}
		showStaticIPv6Info(ipv6Status);
		showRuntimeIPv6Info(ipv6Status);
	}).fail(function()
	{
		if(init)
		{
			iniList();
			showTopologyDisconnected();
		}
	});

}

function renewWanSettings(status)
{
	clearTimeout(Time_ResetButton);

	switch (status)
	{
		case "CONNECTED":
			//if(wanSettings_cache.IPAddress != ""){
			GetConnectionUpTime(false);
			//}else{
			//	GetConnectionUpTime(true);
			//}
			GetInternetInformation(false);			
			
			CheckNewFirmware();
			break;
		case "CONNECTING":
		case "LIMITED_CONNECTION":
		case "DISCONNECTED":
			var wanSettings = new SOAPGetWanSettingsResponse();	//clean all
			wanSettings.Type = wanSettings_cache.Type;
			showRuntimeWanInfo(wanSettings);

			//ipv4
			ipv4_connTime = 0;
			clearInterval(Time_GetConnectionUpTime);
			runConnUpTime(false);

			break;
	}
}

function getInternetStatus(trigger)
{
	var dtd = $.Deferred();
	var getCurrentInternetStatus = new SOAPGetCurrentInternetStatus();
	getCurrentInternetStatus.InternetStatus = trigger;
	soapAction.sendSOAPAction("GetCurrentInternetStatus", getCurrentInternetStatus, null).done(function(obj)
	{
		var result = obj.GetCurrentInternetStatusResult;

		if (result =="OK_CONNECTED")
		{
			dtd.resolve(result);
		}
		else if(result.indexOf("OK_DETECTING_") >= 0)
		{
			var sec = parseInt(result.substr(13))*1000;
			sleep(sec).done(function(){
				getInternetStatus(false).done(function(str){
					dtd.resolve(str);
				});
			})
		}
		else	//not connected
		{
			dtd.resolve(result);
		}
	});

	return dtd.promise();	//wait job done
}

function GetInternetInformation(init)
{
	var dtd = $.Deferred();
	var wanSettings = new SOAPGetWanSettingsResponse();
	var result = soapAction.sendSOAPAction("GetWanSettings", null, wanSettings);
	result.done(function(obj)
	{
		if(wanSettings.Type == "StaticPPTP" || wanSettings.Type == "DynamicPPTP" || wanSettings.Type == "StaticL2TP" || wanSettings.Type == "DynamicL2TP")
		{
			wanSettings.IPAddress = wanSettings.VPNLocalIPAddress;
			wanSettings.SubnetMask = wanSettings.VPNLocalSubnetMask;
			wanSettings.Gateway = wanSettings.VPNLocalGateway;
		}
		soapAction.copyObject(wanSettings_cache, wanSettings);	//keep wan type and mac

		//static info
		// if(init)
		// {
			$("#index_ShowWanMacAddress").html(wanSettings.MacAddress.toUpperCase());
			$("#index_ShowConnectionType").html(I18N("j", wanSettings.Type));
			// dtd.resolve();
		// }
		// else
		// {
			showRuntimeWanInfo(wanSettings);
			dtd.resolve();
		// }
	});

	return dtd.promise();	//wait job done
}

function showRuntimeWanInfo(wanSettings)
{
	var status = wanStatus.Status;
	var getIPAddress = wanSettings.IPAddress;
	if (getIPAddress == "")
	{
		getIPAddress = I18N("j", "Not Available");
	}
	document.getElementById("index_ShowIPAddress").innerHTML = getIPAddress;

	var getSubnetmask = wanSettings.SubnetMask;
	if (getSubnetmask == "")
	{
		getSubnetmask = I18N("j", "Not Available");
	}
	document.getElementById("index_ShowSubnetMask").innerHTML = getSubnetmask;

	var getDefaultgateway = wanSettings.Gateway;
	if (getDefaultgateway == "")
	{
		getDefaultgateway = I18N("j", "Not Available");
	}
	document.getElementById("index_ShowDefaultGateway").innerHTML = getDefaultgateway;


	var getPridns = wanSettings.RuntimeDNS.Primary;
	if (getPridns == "")
	{
		getPridns = I18N("j", "Not Available");
	}
	document.getElementById("index_ShowPrimaryDNS").innerHTML = getPridns;

	var getSecdns = wanSettings.RuntimeDNS.Secondary;
	if (getSecdns == "")
	{
		getSecdns = I18N("j", "Not Available");
	}
	document.getElementById("index_ShowSecondaryDNS").innerHTML = getSecdns;


	//dslite
	var DsLite_B4IPv4Address = wanSettings.DsLite_B4IPv4Address;
	if(DsLite_B4IPv4Address == ""){
		DsLite_B4IPv4Address = I18N("j", "Not Available");
	}
	document.getElementById("index_AftrAddress").innerHTML = DsLite_B4IPv4Address;

	var DsliteDhcpv6Option = wanSettings.DsLite_Configuration;
	if(DsliteDhcpv6Option == "Dhcpv6Option"){
		DsliteDhcpv6Option = I18N("j", "Enabled");
	}else{
		DsliteDhcpv6Option = I18N("j", "Disabled");
	}
	document.getElementById("index_DsliteDhcpv6Option").innerHTML = DsliteDhcpv6Option;

	if(wanSettings.Type == "DsLite"){
		$('#index_ShowIPAddress_tr').hide();
		$('#index_AftrAddress_tr').show();
		$('#index_DsliteDhcpv6Option_tr').show();
	}else{
		$('#index_ShowIPAddress_tr').show();
		$('#index_AftrAddress_tr').hide();
		$('#index_DsliteDhcpv6Option_tr').hide();
	}


	//for compatibility
	if((status == "CONNECTED")&&(wanSettings.IPAddress == ""))
	{
		status = "LIMITED_CONNECTION";
	}

	//connect, disconnect button
	var btn = $("#RenewRelease_btn");
	switch (status)
	{
		case "CONNECTED":
			document.getElementById("index_ShowCableStatus").innerHTML = I18N("j", "Connected");
			if(currentInternetStatus =="OK_CONNECTED")
			{
				document.getElementById("index_ShowNetworkStatus").innerHTML = I18N("j", "Connected");
			}
			else if(currentInternetStatus == "OK_NOTCONNECTED")
			{
				document.getElementById("index_ShowNetworkStatus").innerHTML = I18N("j", "Limited Connection");
			}
			else	//detecting, show first
			{
				document.getElementById("index_ShowNetworkStatus").innerHTML = I18N("j", "Connected");
			}
			switch (wanSettings.Type)
			{
				case "DHCP":
					btn.html(I18N("j", "Release IP Address")).css("display", "inline");
					break;
				case "DHCPPPPoE":
				case "StaticPPPoE":
				case "DynamicPPTP":
				case "StaticPPTP":
				case "DynamicL2TP":
				case "StaticL2TP":
					if (wanSettings.AutoReconnect == "true")	{
						btn.hide();
					}else{
						btn.html(I18N("j", "Disconnect")).css("display", "inline");
					}
					break;
				case "Static":
				case "DsLite":
					btn.hide();
					break;
			}

			btn.attr("class", "styled_button_s").prop("disabled", false)
			.off("click").click(function(){
				WANConnectionDisconnect(wanSettings.Type);
			});
			break;
		case "CONNECTING":
			document.getElementById("index_ShowCableStatus").innerHTML = I18N("j", "Connected");
			document.getElementById("index_ShowNetworkStatus").innerHTML = I18N("j", "Connecting");
			if (wanSettings.AutoReconnect == "true"){
				btn.hide();
			}else{
				btn.attr("class", "styled_button_dis").css("display", "inline").prop("disabled", true);
				btn.html(I18N("j", "Connecting"));
			}
			break;
		case "DISCONNECTED":
			document.getElementById("index_ShowCableStatus").innerHTML = I18N("j", "Disconnected");
			document.getElementById("index_ShowNetworkStatus").innerHTML = I18N("j", "Disconnected");
			btn.hide();
			break;
		case "LIMITED_CONNECTION":

			document.getElementById("index_ShowCableStatus").innerHTML = I18N("j", "Connected");
			document.getElementById("index_ShowNetworkStatus").innerHTML = I18N("j", "Disconnected");

			switch(wanSettings.Type)
			{
				case "DHCP":
					btn.html(I18N("j", "Renew IP Address")).css("display", "inline");
					break;
				case "DHCPPPPoE":
				case "StaticPPPoE":
				case "DynamicPPTP":
				case "StaticPPTP":
				case "DynamicL2TP":
				case "StaticL2TP":
					if (wanSettings.AutoReconnect == "true")
					{
						btn.hide();
					}else{
						btn.html(I18N("j", "Connect")).css("display", "inline");
					}
					break;
				default:	//static, dslite
					btn.hide();
					break;
			}
			btn.attr("class", "styled_button_s").prop("disabled", false)
			.off("click").click(function(){
				WANConnectionConnect(wanSettings.Type);
			});
			break;
	}
}

function GetConnectionUpTime(ipv6)
{
	if(ipv6 == false)
	{
		var connUpTime = new SOAPGetInternetConnUpTimeResponse();
		soapAction.sendSOAPAction("GetInternetConnUpTime", null, connUpTime).done(function(obj)
		{
			ipv4_connTime = parseInt(connUpTime.UpTime, 10);
			clearInterval(Time_GetConnectionUpTime);
			Time_GetConnectionUpTime = setInterval("runConnUpTime(false)", 1000);
		});
	}
	else
	{
		ipv6_connTime = parseInt(ipv6Status.IPv6_ConnectionTime, 10);
		clearInterval(Time_GetConnectionUpTime_IPv6);
		Time_GetConnectionUpTime_IPv6 = setInterval("runConnUpTime(true)", 1000);
	}
}

function runConnUpTime(ipv6)
{
	var sec = 0;
	var min = 0;
	var hour = 0;
	var day = 0;
	var upTime;

	if(ipv6)
	{
		upTime = ipv6_connTime;
	}
	else
	{
		upTime = ipv4_connTime;
	}

	if (upTime > 0)
	{
		sec = upTime % 60;
		min = Math.floor(upTime / 60) % 60;
		hour = Math.floor(upTime / 3600) % 24;
		day = Math.floor(upTime / 86400);
		upTime++;
	}
	var timeString = day + " " + I18N("j", "Day") + " " + hour + " " + I18N("j", "Hour") + " " + min + " " + I18N("j", "Min") + " " + sec + " " + I18N("j", "Sec");

	if(ipv6)
	{
		$("#index_ShowConnectionUpTime_IPv6").html(timeString);
		ipv6_connTime = upTime;
	}
	else
	{
		$("#index_ShowConnectionUpTime").html(timeString);
		ipv4_connTime = upTime;
	}
}

function showTopologyConnected()
{
	sessionStorage.setItem('networkStatus', '1');
	$("#wan_connstat").show();
	document.getElementById("map_status").className = "map_status_on";
	document.getElementById("map_title").innerHTML = I18N("j", "Internet Connected");
	document.getElementById("this_wz").style.display = "none";
	document.getElementById("goto_Wizard_table").style.display = "none";

	document.getElementById("internet_image").src = "/image/internet_.png";
	document.getElementById("wan_Light").src = "/image/connected.png";
	document.getElementById("wan_Light").onclick = "";
	document.getElementById("map_title").onclick = "";
	document.getElementById("map_title").onmouseover = "";
	document.getElementById("map_title").onmouseout = "";
	document.getElementById("wan_Light").style.cursor = "default";
	document.getElementById("map_title").style.cursor = "default";

	document.getElementById("index_ShowPrimaryDNS").style.color = "#333333";
	document.getElementById("index_ShowSecondaryDNS").style.color = "#333333";

	showManual(true);
}

function showTopologyDisconnected(status)
{
	sessionStorage.setItem('networkStatus', '0');
	$("#wan_connstat").show();
	document.getElementById("map_fw_info").style.display = "none";
	document.getElementById("map_status").className = "map_status_off";
	document.getElementById("map_title").innerHTML = I18N("j", "Internet Disconnected");
	document.getElementById("this_wz").style.display = "table-row";
	document.getElementById("goto_Wizard_table").style.display = "inline-table";
	document.getElementById("internet_image").src = "/image/internet.png";
	//document.getElementById("wan_connstat").style.display = "inline";
	document.getElementById("wan_Light").src = "/image/disconnected.png";
	document.getElementById("wan_Light").onclick = function()	{	self.location.href = "Wizard_Manual.html";	};
	document.getElementById("map_title").onclick = function()	{	self.location.href = "Wizard_Manual.html";	};
	document.getElementById("map_title").onmouseover = function ()	{	mouseUnderLine(this)	};
	document.getElementById("map_title").onmouseout = function ()	{	mouseUnderLineN(this)	};
	document.getElementById("wan_Light").style.cursor = "pointer";
	document.getElementById("map_title").style.cursor = "pointer";

	if(status == "DISCONNECTED")
	{
		document.getElementById("index_ShowPrimaryDNS").style.color = "#333333";
		document.getElementById("index_ShowSecondaryDNS").style.color = "#333333";
	}
	else
	{
		document.getElementById("index_ShowIPAddress").innerHTML = I18N("j", "Not Available");
	}

	showManual(false);
}

function GetSchedule_List()
{
	var xml_GetScheduleList = HNAP.GetXML("GetScheduleSettings");
	tmpXML_ScheduleList = xml_GetScheduleList;
	var schedule = document.getElementById("schedule");
	var schedule_cnt = xml_GetScheduleList.Get("GetScheduleSettingsResponse/ScheduleInfoLists#");
	tmpXML_ScheduleCnt = schedule_cnt;
	for (var j = 1; j <= schedule_cnt; j++)
	{
		var list = xml_GetScheduleList.Get("GetScheduleSettingsResponse/ScheduleInfoLists:" + j + "/ScheduleName");
		//schedule.options.add(new Option(list, list));
		$("#schedule").append('<option value="'+list+'">'+ AllEncode(decode_char_text(list)) +'</option>');
	}
	$("#schedule").selectbox();
}

function GetXML_ClientList()
{
	if (currentState != "clientInfo")
	{
		HNAP.GetXMLAsync("GetClientInfo", null, "GetValue", function(xml)	{	GetResult_GCI(xml)	});
	}
}
function GetResult_GCI(result_xml)
{
	var GetResult_GCI = result_xml.Get("GetClientInfoResponse/GetClientInfoResult");
	if (GetResult_GCI == "OK")
	{
		var ClientNumber = result_xml.Get("GetClientInfoResponse/ClientInfoLists/ClientInfo#");
		document.getElementById("Total_ConnectedClients").innerHTML = ClientNumber;
	}
	else	{	/* ignore */	}
}

function showModelName()
{
	var modelInfo = JSON.parse(sessionStorage.getItem('modelInfomation'));
	document.getElementById("modelName").innerHTML = modelInfo.modelName;
	document.getElementById("modelName2").innerHTML = modelInfo.modelName;
}

function CheckNewFirmware()
{
	var CurrentFW = sessionStorage.getItem('currentFWVersion');
	var NewFW = sessionStorage.getItem('newFWVersion');
	if (parseFloat(NewFW) > parseFloat(CurrentFW))
	{
		if (wanStatus.Status == "CONNECTED")
		{
			$("#map_fw_info").html(I18N("j", "New firmware available") + "!");
			$("#map_fw_info").click(function(){
				self.location.href = "UpdateFirmware.html"
			});

			if (sessionStorage.getItem('hasNewFirmware') != "ignore")
			{
				document.getElementById("CreatePopAlertMessage2").style.display = "inline";
			}
		}
		else
		{
			document.getElementById("map_fw_info").style.display = "none";
		}
	}
}

function ignore_UpgradeFW()
{
	document.getElementById("CreatePopAlertMessage2").style.display = "none";
	sessionStorage.setItem('hasNewFirmware', 'ignore');
}

function goto_UpgradeFW()
{
	sessionStorage.setItem('hasNewFirmware', 'true');
	self.location.href = "UpdateFirmware.html";
}

function GetRouterInformation()
{
	var get_5g = true;
	var get_5g_2 = false;
	var result_smartconnect = null;
	var result_covr = null;

	//router lan info
	soapAction.sendSOAPAction("GetRouterLanSettings", null, getRouterLanSettingsResponse)
	.done(function(obj){
		showRouterInfo(getRouterLanSettingsResponse);
	});


	//DHCP info
	soapAction.sendSOAPAction("GetNetworkSettings", null, getNetworkSettings);

	//wireless
	//#ifdef featureSmartConnect
	if(currentDevice.featureSmartConnect)
	{
		var getSmartconnectSettingsResponse = new SOAPGetSmartconnectSettingsResponse();
		result_smartconnect = soapAction.sendSOAPAction("GetSmartconnectSettings", null, getSmartconnectSettingsResponse);
	}

	$.when(result_smartconnect).done(function(obj){
		//#ifdef featureSmartConnect

		if(currentDevice.featureSmartConnect)
		{
			if(obj.Enabled == "true")	//get 2.4GHz only
			{
				get_5g = false;
				$("#Wi-Fi_5, #Wi-Fi_5_2").hide();
				$("#Wi-Fi_24_show").html(I18N("j", "Wi-Fi"));
				$("#Wi-Fi_24_Guest_show").html(I18N("j", "Guest Zone"));
			}
			else
			{
				if(currentDevice.feature2nd5GHz){
					get_5g_2 = true;
					$("#Wi-Fi_5, #Wi-Fi_5_2").show();
				}else{
					$("#Wi-Fi_5").show();
					$("#Wi-Fi_5_2").hide();
				}

			}
		}

		//for DIR880L bug
		$.when(get_wireless("RADIO_2.4GHz"))
		.then(function(){
			return $.when(get_wireless("RADIO_2.4GHz_Guest"));
		})
		.then(function(){
			if(get_5g)
				return $.when(get_wireless("RADIO_5GHz"));
		})
		.then(function(){
			if(get_5g)
				return $.when(get_wireless("RADIO_5GHz_Guest"));
		})
		.then(function(){
			if(get_5g_2)
				return $.when(get_wireless("RADIO_5GHz_2"));
		})
		.then(function(){
			if(get_5g_2)
				return $.when(get_wireless("RADIO_5GHz_2_Guest"));
		});
		/*
		get_wireless("RADIO_2.4GHz");
		get_wireless("RADIO_2.4GHz_Guest");

		if(get_5g)
		{
			get_wireless("RADIO_5GHz");
			get_wireless("RADIO_5GHz_Guest");
		}
		if(get_5g_2)
		{
			get_wireless("RADIO_5GHz_2");
			get_wireless("RADIO_5GHz_2_Guest");
		}
		*/
	});

	if (currentDevice.featureCovrWIFI) {
            var getCovrconnectSettings = new SOAPGetWiFiSONSettings();
            result_covr = soapAction.sendSOAPAction("GetWiFiSONSettings", null, getCovrconnectSettings);
	}

	$.when(result_covr).done(function(obj){
		//#ifdef featureCovrWIFI

		if(currentDevice.featureCovrWIFI)
		{
			if(obj.WiFiSONEnabled == "true")	//get 2.4GHz only
			{
				get_5g = false;
				$("#Wi-Fi_5, #Wi-Fi_5_2").hide();
				$("#Wi-Fi_24_show").html(I18N("j", "Wi-Fi"));
				$("#Wi-Fi_24_Guest_show").html(I18N("j", "Guest Zone"));
			}
			else
			{
				if(currentDevice.feature2nd5GHz){
					get_5g_2 = true;
					$("#Wi-Fi_5, #Wi-Fi_5_2").show();
				}else{
					$("#Wi-Fi_5").show();
					$("#Wi-Fi_5_2").hide();
				}

			}
		}

		//for DIR880L bug
		$.when(get_wireless("RADIO_2.4GHz"))
		.then(function(){
			return $.when(get_wireless("RADIO_2.4GHz_Guest"));
		})
		.then(function(){
			if(get_5g)
				return $.when(get_wireless("RADIO_5GHz"));
		})
		.then(function(){
			if(get_5g)
				return $.when(get_wireless("RADIO_5GHz_Guest"));
		})
		.then(function(){
			if(get_5g_2)
				return $.when(get_wireless("RADIO_5GHz_2"));
		})
		.then(function(){
			if(get_5g_2)
				return $.when(get_wireless("RADIO_5GHz_2_Guest"));
		});
	});
}

function get_wireless(radioID)
{
	var getWLanRadioSettings = new SOAPGetWLanRadioSettings();
	var getWLanRadioSecurity = new SOAPGetWLanRadioSecurity();
	var setting = new SOAPGetWLanRadioSettingsResponse();
	var security = new SOAPGetWLanRadioSecurityResponse();
	var radioStr;

	switch(radioID)
	{
		case "RADIO_2.4GHz":
			radioStr = "24G";
			break;
		case "RADIO_5GHz":
			radioStr = "5G";
			break;
		case "RADIO_5GHz_2":
			radioStr = "5G_2";
			break;
		case "RADIO_2.4GHz_Guest":
			radioStr = "24G_Guest";
			break;
		case "RADIO_5GHz_Guest":
			radioStr = "5G_Guest";
			break;
		case "RADIO_5GHz_2_Guest":
			radioStr = "5G_2_Guest";
			break;
	}

	getWLanRadioSettings.RadioID = radioID;
	var result = soapAction.sendSOAPAction("GetWLanRadioSettings", getWLanRadioSettings, setting);

	getWLanRadioSecurity.RadioID = radioID;
	var result_security = soapAction.sendSOAPAction("GetWLanRadioSecurity", getWLanRadioSecurity, security);

	var deferred = $.Deferred();
	$.when(result, result_security)
	.done(function(obj){
		deferred.resolve();

		show_wireless_info(radioStr, setting, security);
	})
	.fail(function(obj){
		deferred.resolve();
	});
	return deferred.promise();
}

function show_wireless_info(radioID, settingObj, securityObj)
{
	var status;
	if((settingObj.Enabled == "false")||(settingObj.RadioEnabled == "false"))
	{
		status = I18N("j", "Disabled");

		if(settingObj.Enabled == "false")
		{
			$("#index_ShowStatus_" + radioID).html(status);
			$("#index_ShowSSID_" + radioID).html(I18N("j", "Not Available"));
			$("#index_ShowPassword_" + radioID).html(I18N("j", "Not Available"));
			return;
		}
	}
	else
	{
		status = I18N("j", "Enabled");

		if(radioID.indexOf("Guest") > 0)
		{
			$("#Wi-Fi_"+radioID).css("display", "block");
			$("#table_GuestZone").show();
			showClientTypeBtn("guest", true);
		}
	}

	$("#index_ShowStatus_" + radioID).html(status);
	$("#index_ShowSSID_" + radioID).html(HTMLEncode(settingObj.SSID));
	$("#index_ShowPassword_" + radioID).html(HTMLEncode(securityObj.Key));

	if (securityObj.Enabled == "false")
	{
		$("#index_ShowPassword_" + radioID).html('"' + I18N("j", "Unsecured") + '"')
		.attr("class", "alertInfo_label")
		.click(function(){

			if(radioID.indexOf("Guest")<0){
				self.location.href = "WiFi.html";
			}
			else{
				self.location.href = "GuestZone.html";
			}

		});
		$("#alert_Info_"+radioID).css("display", "inline");
	}
	else
	{
		$("#index_ShowPassword_" + radioID).html(HTMLEncode(securityObj.Key));
	}

}

function showRouterInfo(routerInfo)
{
	$("#index_ShowRouterIPAddress").html(routerInfo.RouterIPAddress);
	$("#index_Show_MacAddress").html(routerInfo.RouterMACAddress.toUpperCase());
	$("#index_Show_SubnetMask").html(routerInfo.RouterSubnetMask);
}

function showClientTypeBtn(type, enable)
{
	var hostBtn = $("#v4_v6_client_btn .client_type_host");
	var guestBtn = $("#v4_v6_client_btn .client_type_guest");
	var blockBtn = $("#v4_v6_client_btn .client_type_blocked");
	var css = "none";

	if(enable)
	{
		css = "block";
	}

	if(type == "guest")
	{
		guestBtn.css("display", css);
	}
	else if(type == "block")
	{
		blockBtn.css("display", css);
	}

	//host
	if((blockBtn.css("display") != "none")||(guestBtn.css("display") != "none"))
	{
		hostBtn.css("display", "block");
	}
	else
	{
		hostBtn.css("display", "none");
	}
}

function gotoIPv4Info_WAN()
{
	document.getElementById("internet_left").style.display = "block";
	document.getElementById("internet_right").style.display = "block";
	document.getElementById("goto_internet_v4").style.display = "block";
	document.getElementById("goto_internet_v6").style.display = "none";
	document.getElementById("internet_v6_left").style.display = "none";
	document.getElementById("internet_v6_right").style.display = "none";
	$("#v4_btn_WAN").attr("class", "v4v6_linkstyle_1");
	$("#v6_btn_WAN").attr("class", "v4v6_linkstyle_2");
}

function WANConnectionDisconnect(type)
{
	$("#RenewRelease_btn").attr("class", "styled_button_dis").prop("disabled", true);
	click_Statuschanged();
	var renewType = "";
	var renewWanConnection = new SOAPRenewWanConnection();
	var soapAction2 = new SOAPAction();
	soapAction2.timeout = 5000;
	switch (type)
	{
		case "DHCP":
			renewType = "DHCPRelease";
			break;
		case "DHCPPPPoE":
		case "StaticPPPoE":
			renewType = "PPPoEDisconnect";
			break;
		case "DynamicPPTP":
		case "StaticPPTP":
			renewType = "PPTPDisconnect";
			break;
		case "DynamicL2TP":
		case "StaticL2TP":
			renewType = "L2TPDisconnect";
			break;
	}
	renewWanConnection.Action = renewType;
	var result = soapAction2.sendSOAPAction("RenewWanConnection", renewWanConnection, null);
	result.done(function(obj)
	{
		Time_ResetButton = setTimeout("resetRenewReleaseBtn()", 10000);
	})
	.fail(function()
	{
		$("#RenewRelease_btn").attr("class", "styled_button_s").prop("disabled", false);
	});
}

function WANConnectionConnect(type)
{
	$("#RenewRelease_btn").attr("class", "styled_button_dis").prop("disabled", true);
	var renewType = "";
	click_Statuschanged();
	var renewWanConnection = new SOAPRenewWanConnection();
	var soapAction2 = new SOAPAction();
	soapAction2.timeout = 5000;

	switch (type)
	{
		case "DHCP":
			renewType = "DHCPRenew";
			break;
		case "DHCPPPPoE":
		case "StaticPPPoE":
			renewType = "PPPoEConnect";
			break;
		case "DynamicPPTP":
		case "StaticPPTP":
			renewType = "PPTPConnect";
			break;
		case "DynamicL2TP":
		case "StaticL2TP":
			renewType = "L2TPConnect";
			break;
	}
	renewWanConnection.Action = renewType;
	var result = soapAction2.sendSOAPAction("RenewWanConnection", renewWanConnection, null);
	result.done(function(obj)
	{
		Time_ResetButton = setTimeout("resetRenewReleaseBtn()", 10000);
	})
	.fail(function()
	{
		$("#RenewRelease_btn").attr("class", "styled_button_s").prop("disabled", false);
	});
}

//reset button if DUT is no response or no successful action
function resetRenewReleaseBtn()
{
	wanStatus = new SOAPGetWanStatusResponse();
}

function GetSharePortInformation()
{
	var getDLNAResponse = new SOAPGetDLNAResponse();
	var getUSBStorageSettings = new SOAPGetUSBStorageSettingsResponse();
	var getSMBStatus = new SOAPGetSMBStatusResponse();
	var getTimeMachineStatus = new SOAPGetTimeMachineSettings();
	var getFTPStatus = new SOAPGetFTPSettings();

	//#ifdef featureUPNPAV
	// DLNA media server
	if(currentDevice.featureUPNPAV) {
		soapAction.sendSOAPAction("GetDLNA", null, getDLNAResponse).done(function(obj)
		{
			$("#dlna_ServiceName").html(HTMLEncode(obj.DeviceName));

			if(COMM_ToBOOL(obj.Enabled))
			{
				$("#dlna_Status").html(I18N("j", "Enabled"));
			}
			else
			{
				$("#dlna_Status").html(I18N("j", "Disabled"));
			}
		});
	} else {
		$('#dlna_label_tr, #dlna_Status_tr, #dlna_ServiceName_tr').hide();
	}
	//#endif

	// SharePort
	//console.log("currentDevice.featureSharePort: " + currentDevice.featureSharePort);
	if(currentDevice.featureSharePort) {
		$("#sharePort_label, #sharePort_status").show();
		soapAction.sendSOAPAction("GetUSBStorageSettings", null, getUSBStorageSettings).done(function(obj)
		{
			if(COMM_ToBOOL(obj.Enabled))
			{
				$("#shareport_Status").html(I18N("j", "Enabled"));
			}
			else
			{
				$("#shareport_Status").html(I18N("j", "Disabled"));
			}
		});
	}
	else {
		$("#sharePort_label, #sharePort_status").hide();
	}

	// Windows File Sharing
	soapAction.sendSOAPAction("GetSMBStatus", null, getSMBStatus).done(function(obj)
	{
		if(COMM_ToBOOL(obj.Enabled))
		{
			$("#samba_Status").html(I18N("j", "Enabled"));
		}
		else
		{
			$("#samba_Status").html(I18N("j", "Disabled"));
		}
	});

	// Time Machine
	if(currentDevice.featureTimeMachine) {
		soapAction.sendSOAPAction("GetTimeMachineSettings ", null, getTimeMachineStatus).done(function(obj)
		{
			// if(COMM_ToBOOL(obj.Enabled))
			if(COMM_ToBOOL(obj.Status))
			{
				$("#timeMachine_Status").html(I18N("j", "Enabled"));
			}
			else
			{
				$("#timeMachine_Status").html(I18N("j", "Disabled"));
			}
		});
	} else {
		$("#timeMachine_label_tr, #timeMachine_Status_tr").hide();
	}

	// FTP
	soapAction.sendSOAPAction("GetFTPSettings", null, getFTPStatus).done(function(obj)
	{
		if(COMM_ToBOOL(obj.Enabled))
		{
			$("#ftp_Status").html(I18N("j", "Enabled"));
		}
		else
		{
			$("#ftp_Status").html(I18N("j", "Disabled"));
		}
	});
}

function GetUSB_Status()
{
	//#ifdef featureSharePort
	//if(currentDevice.featureSharePort == false)
	if(currentDevice.featureUsbPort == false)
	{
		return;
	}

	var getUSBDevice = new SOAPGetUSBDeviceResponse();
	soapAction.sendSOAPAction("GetUSBDevice", null, getUSBDevice).done(function(obj)
	{
		var deviceList = getUSBDevice.USBDeviceInfoLists.USBDevice;
		var usbWarning = false;
		if (deviceList.length > 0)
		{
			var status = "CONNECTED";
			$("#usb_image").attr("src", "/image/usb.png");

			$("#no_usb").hide();
			$("#usb_list").show();

		}
		else
		{
			var status = "DISCONNECTED";
			$("#usb_image").attr("src", "/image/usb_.png");

			$("#no_usb").show();
			$("#usb_list").hide();
			usbWarning = true;
		}



		usbDataList.prepareUpdate();
		for(var num in deviceList)
		{
			var device = deviceList[num];
			usbDataList.updateData(device);
			if(device.SmartStatus.indexOf("ERROR") >= 0)
			{
				usbWarning = true;
			}
		}
		usbDataList.clean();

		if(usbWarning)
		{
			$("#usb_image_warning").show();
		}
		else
		{
			$("#usb_image_warning").hide();
		}

		setTimeout("GetUSB_Status()",6000);
	}).fail(function(){
		setTimeout("GetUSB_Status()",6000);
	});
}

function gotoIPv6Info_WAN()
{
	document.getElementById("internet_left").style.display = "none";
	document.getElementById("internet_right").style.display = "none";
	document.getElementById("goto_internet_v4").style.display = "none";
	document.getElementById("goto_internet_v6").style.display = "block";
	document.getElementById("internet_v6_left").style.display = "block";
	document.getElementById("internet_v6_right").style.display = "block";
	$("#v4_btn_WAN").attr("class", "v4v6_linkstyle_2");
	$("#v6_btn_WAN").attr("class", "v4v6_linkstyle_1");
}

function showStaticIPv6Info(ipv6Status)
{
	var wanType_element = $("#Connection_Type_IPv6");

	//wan
	switch (ipv6Status.IPv6_ConnectionType.toUpperCase())
	{
		case "IPV6_AUTODETECTION":
			wanType_element.html(I18N("j", "Auto Detection"));
			break;
		case "IPV6_STATIC":
			wanType_element.html(I18N("j", "Static IPv6"));
			break;
		case "IPV6_AUTOCONFIGURATION":
			wanType_element.html(I18N("j", "Auto Configuration (SLAAC/DHCPv6)"));
			break;
		case "IPV6_PPPOE":
			wanType_element.html(I18N("j", "PPPoE"));
			break;
		case "IPV6_IPV6INIPV4TUNNEL":
			wanType_element.html(I18N("j", "IPv6 in IPv4 Tunnel"));
			break;
		case "IPV6_6TO4":
			wanType_element.html(I18N("j", "6to4"));
			break;
		case "IPV6_6RD":
			wanType_element.html(I18N("j", "6rd"));
			break;
		case "IPV6_LINKLOCALONLY":
			wanType_element.html(I18N("j", "Local Connectivity Only"));
			break;
	}

	//lan
	var ipv6_LanLinkLocalAddress = ipv6Status.IPv6_LanLinkLocalAddress.toUpperCase();
	ipv6_LanLinkLocalAddress = ipv6_LanLinkLocalAddress.replace("/64", "");
	$("#lan_IPv6_Link_Local_Address").html(ipv6_LanLinkLocalAddress);
}

function showRuntimeIPv6Info(ipv6Status)
{
	var ipv6_type = ipv6Status.IPv6_ConnectionType.toUpperCase();
	var ipv6_NetworkStatus = ipv6Status.IPv6_Network_Status.toUpperCase();
	var wanip_element = $("#wan_IPv6_Address");
	var gateway_element = $("#wan_IPv6_DefaultGateway");
	var pri_dns_element = $("#primary_IPv6_Dns_Server");
	var sec_dns_element = $("#secondary_IPv6_Dns_Server");
	var btn = $("#RenewReleaseIPv6_btn");

	document.getElementById("IPv6_NetworkStatus").innerHTML = I18N("j", ipv6Status.IPv6_Network_Status);

	switch(ipv6_NetworkStatus)
	{
		case "CONNECTED":
			if(ipv6_type == "IPV6_LINKLOCALONLY")
			{
				wanip_element.html(I18N("j", "Not Available"));
				gateway_element.html(I18N("j", "Not Available"));
				pri_dns_element.html(I18N("j", "Not Available"));
				sec_dns_element.html(I18N("j", "Not Available"));
				break;
			}

			var ipv6_WanAddress = ipv6Status.IPv6_WanAddress[0];
			if ((typeof(ipv6_WanAddress) == "undefined")||(ipv6_WanAddress == ""))
			{
				if((ipv6_type == "IPV6_6RD")||(ipv6_type == "IPV6_AUTODETECTION"))
				{
					wanip_element.html(I18N("j", "None"));
				}
				else
				{
					wanip_element.html(I18N("j", "Not Available"));
				}
			}
			else
			{
				ipv6_WanAddress = ipv6_WanAddress.toUpperCase();
				wanip_element.html(ipv6_WanAddress);
			}

			var ipv6_Gateway = ipv6Status.IPv6_DefaultGateway;
			if ((ipv6_Gateway == "")||(ipv6_Gateway == "0:0:0:0:0:0:0:0"))
			{
				gateway_element.html(I18N("j", "Not Available"));
			}
			else
			{
				ipv6_Gateway = ipv6_Gateway.toUpperCase();
				gateway_element.html(ipv6_Gateway);
			}

			var ipv6_PrimaryDNSServer = ipv6Status.IPv6_PrimaryDNS;
			if ((ipv6_PrimaryDNSServer == "")||(ipv6_PrimaryDNSServer == "0:0:0:0:0:0:0:0"))
			{
				pri_dns_element.html(I18N("j", "Not Available"));
			}
			else
			{
				ipv6_PrimaryDNSServer = ipv6_PrimaryDNSServer.toUpperCase();
				pri_dns_element.html(ipv6_PrimaryDNSServer);
			}

			var ipv6_SecondaryDNSServer = ipv6Status.IPv6_SecondaryDNS;
			if ((ipv6_SecondaryDNSServer == "")||(ipv6_SecondaryDNSServer == "0:0:0:0:0:0:0:0"))
			{
				sec_dns_element.html(I18N("j", "Not Available"));
			}
			else
			{
				ipv6_SecondaryDNSServer = ipv6_SecondaryDNSServer.toUpperCase();
				sec_dns_element.html(ipv6_SecondaryDNSServer);
			}

			//button
			switch (ipv6_type)
			{
				case "IPV6_AUTOCONFIGURATION":
					btn.show().html(I18N("j", "Release"));
					break;
				case "IPV6_PPPOE":
					btn.show().html(I18N("j", "Disconnect"));
					break;
				default:
					btn.hide();
					break;
			}
			btn.attr("class", "styled_button_s").prop("disabled", false)
			.off("click").click(function(){
				WANConnectionDisconnectIPv6(ipv6_type);
			});

			break;
		case "CONNECTING":
			btn.attr("class", "styled_button_dis").prop("disabled", true);
			break;
		case "DISCONNECTED":
			wanip_element.html(I18N("j", "Not Available"));
			gateway_element.html(I18N("j", "Not Available"));
			pri_dns_element.html(I18N("j", "Not Available"));
			sec_dns_element.html(I18N("j", "Not Available"));

			//button
			switch (ipv6_type)
			{
				case "IPV6_AUTOCONFIGURATION":
					btn.show().html(I18N("j", "Renew"));
					break;
				case "IPV6_PPPOE":
					btn.show().html(I18N("j", "Connect"));
					break;
				default:
					btn.hide();
					break;
			}
			btn.attr("class", "styled_button_s").prop("disabled", false)
			.off("click").click(function(){
				WANConnectionConnectIPv6(ipv6_type);
			});
			break;
	}
	//lan
	switch (ipv6_type)
	{
		case "IPV6_STATIC":
		case "IPV6_6TO4":
		case "IPV6_LINKLOCALONLY":
			$("#pd_enable").hide();
			$("#inabdp").hide();
			break;
		default:
			$("#pd_enable").show();
			if(ipv6Status.IPv6_DhcpPd.toLowerCase() == "enable")
			{
				$("#dhcp_Pd").html(I18N("j", "Enabled"));
				$("#inabdp").show();
				//#ifdef featureSmartConnect
				if(currentDevice.featureSmartConnect == false)
				{
					$("#lan_goto").css("top", "-30px");	//adjust layout
				}
			}
			else
			{
				$("#dhcp_Pd").html(I18N("j", "Disabled"));
				$("#inabdp").hide();
			}

			var ipv6_pdPrefix = ipv6Status.IPv6_DhcpPdPrefix[0];
			if((typeof(ipv6_pdPrefix) == "undefined")|| (ipv6_pdPrefix == ""))
			{
				$("#dhcp_Pd_IP").html(I18N("j", "Not Available"));
			}
			else
			{
				ipv6_pdPrefix = ipv6_pdPrefix.toUpperCase();
				$("#dhcp_Pd_IP").html(ipv6_pdPrefix);
			}
			break;
	};
	var ipv6_lanAddress = ipv6Status.IPv6_LanAddress[0];
	if ((typeof(ipv6_lanAddress) == "undefined")|| (ipv6_lanAddress == ""))
	{
		$("#lan_IPv6_Address").html(I18N("j", "Not Available"));
	}
	else
	{
		ipv6_lanAddress = ipv6_lanAddress.toUpperCase();
		$("#lan_IPv6_Address").html(ipv6_lanAddress);
	}
}

function WANConnectionDisconnectIPv6(type)
{
	$("#RenewReleaseIPv6_btn").attr("class", "styled_button_dis").prop("disabled", true);
	click_Statuschanged();
	var renewType = "";
	var renewWanConnection = new SOAPRenewIPv6WanConnection();
	var soapAction2 = new SOAPAction();
	soapAction2.timeout = 5000;
	switch (type)
	{
		case "IPV6_AUTOCONFIGURATION":
			renewType = "DHCPv6Release";
			break;
		case "IPV6_PPPOE":
			renewType = "PPPoEDisconnect";
			break;
	}
	renewWanConnection.Action = renewType;
	var result = soapAction2.sendSOAPAction("RenewIPv6WanConnection", renewWanConnection, null);
	result.done(function(obj)
	{
	})
	.fail(function()
	{
		$("#RenewReleaseIPv6_btn").attr("class", "styled_button_s").prop("disabled", false);
	});
}

function WANConnectionConnectIPv6(type)
{
	$("#RenewReleaseIPv6_btn").attr("class", "styled_button_dis").prop("disabled", true);
	click_Statuschanged();
	var renewType = "";
	var renewWanConnection = new SOAPRenewIPv6WanConnection();
	var soapAction2 = new SOAPAction();
	soapAction2.timeout = 5000;
	switch (type)
	{
		case "IPV6_AUTOCONFIGURATION":
			renewType = "DHCPv6Renew";
			break;
		case "IPV6_PPPOE":
			renewType = "PPPoEConnect";
			break;
	}
	renewWanConnection.Action = renewType;
	var result = soapAction2.sendSOAPAction("RenewIPv6WanConnection", renewWanConnection, null);
	result.done(function(obj)
	{
	})
	.fail(function()
	{
		$("#RenewReleaseIPv6_btn").attr("class", "styled_button_s").prop("disabled", false);
	});
}

function click_Statuschanged()
{
	changeTimeoutAction();
}

function checkUpdate()	{	valueChanged = 1;	}

function createManualLink()
{
	var modelInfo = JSON.parse(sessionStorage.getItem('modelInfomation'));
	var hwVer = modelInfo.hwVer.charAt(0)+"x";
	var language = localStorage.getItem('language');

	$("#manual").attr("href","https://s3-us-west-2.amazonaws.com/online-pdf-manual/"+modelInfo.modelName+"/"+hwVer+"/"+modelInfo.modelName+"_"+hwVer+"_Manual("+language+").pdf");
}

function showManual(status)
{
	if (status &&(currentDevice.helpVer != ""))
	{
		$("#help").show();
	}
	else
	{
		$("#help").hide();
	}
}
</script>

<style>
/*according wrapper width, relative for tooltip*/
body{
	min-width:900px;
	position:relative;
}


img { border: 0px}

label {
	font-weight: normal;
}
.myProgressBar {
	font-size:12pt;
	padding-top:5px;
}

#internet_left {
	position: absolute;
	top: 10px;
    left: 40px;
	width: 430px;
	/*background-color: #ccf;*/
}
#internet_right {
	position: relative;
	top: 10px;
    left: 470px;
	width: 370px;
	min-height:210px;
	/*background-color: #fcc;*/
}
#internet_v6_left {
	position: absolute;
	top: 10px;
    left: 40px;
	width: 430px;
	/*background-color: #ccf;*/
}
#internet_v6_right {
	position: relative;
	top: 10px;
	left: 470px;
	width: 370px;
	min-height:210px;
	/*background-color: #fcc;*/
}
#router_left {
	position: absolute;
	top: 0px;
    left: 30px;
	width: 460px;
	min-height: 300px;
	/*background-color: #ccf;*/
}
#router_right {
	position: relative;
	top: 0px;
    left: 510px;
	width: 330px;
	min-height: 300px;
	/*background-color: #fcc;*/
}
#usb_left {
	display:inline-block;
	position: relative;
	top: 20px;
    left: 20px;
	width: 460px;
	min-height:410px; /* 300px */
	/*background-color: #ccf;*/
}
#usb_right {
	position: absolute;
	top: 20px;
    left: 480px;
	width: 350px;
	/*background-color: #fcc;*/
}
.v4_v6_btn {
	list-style: none;
	position: relative;
	display:inline;
	top: -10px;
	right: 100px;
	margin: 0;
	padding: 0;
	height: 20px;
}
.v4_v6_btn li {
	float: right;
	margin: 0;
	padding: 0;
	line-height: 20px;
}

.infor_title {
	position: absolute;
	z-index: 500;
	top: -80px;
	left:30px;
	white-space: nowrap;

	font-size: 25pt;
	font-family: 'Segoe UI', Tahoma, Arial, Helvetica, Sans-Serif;
	color: #454547;
}

.myTable_index {
	width:100%;
	line-height:30px;
}
.myTable_index th {
	text-align: left;
	white-space: nowrap;
	width: 1px;
}
.myTable_index td {
	text-align: left;
	padding-left: 5px;
}
.lanTitle {
	color: #4598aa;
 	font-weight: bold;
  	font-size: 12pt;
  	height:40px;
  	vertical-align: bottom;
}

.shadowLine {
	position: absolute;
	top: 380px;
	width:100%;
	height: 70px;
	background: #fff url(../image/home_shadow.png);
	z-index: 1;
}

.usbtable {
	display:block;
	position: relative;
	width: 80%;
	max-width: 80%;
	margin-left:31px;
	margin-bottom: 20px;

	background-color: transparent;
}

.usbtable>tbody>tr>th,
.usbtable>tbody>tr>td {
	text-align: left;
	white-space: nowrap;
	padding: 5px;
	line-height: 1.42857143;
	vertical-align: top;
	border: 0px;
}

.usbtable>tbody>tr>th {
	width: 1px;
}
.usbtable>tbody>tr>td {
	padding-left: 10px;
}
.usb_warning {
	color:orange;
}
.usb_warning_icon {
	position:absolute;
	bottom:15px;
	right:10px;
}

.linkstyle_1 a {
	color: #4598aa;
	text-decoration: underline;
}

.uplink_Icon5G {
	position: relative;
	top: 50px;
	width: 28px;
	height: 28px;
	background: url(/image/wifi_5g.png) no-repeat;
	background-size:contain;
}
.uplink_Icon {
	position: relative;
	top: 50px;
	width: 28px;
	height: 28px;
	background: url(/image/wireless_icon.png) no-repeat;
	background-size:contain;
}
.uplink_IconPowerLine {
	position: relative;
	top: 50px;
	width: 28px;
	height: 28px;
	background: url(/image/PLC.png) no-repeat;
	background-size:contain;
}
.uplink_IconAP {
	position: relative;
	top: 50px;
	width: 28px;
	height: 28px;
	background: url(/image/ethernet.png) no-repeat;
	background-size:contain;
}
.signal_IconMax {
	position: relative;
	top: 24px;
	left: 30px;
	width: 28px;
	height: 28px;
	background: url(/image/signal4.png) no-repeat;
	background-size:contain;
}
.signal_IconHigh {
	position: relative;
	top: 24px;
	left: 30px;
	width: 28px;
	height: 28px;
	background: url(/image/signal3.png) no-repeat;
	background-size:contain;
}
.signal_IconLow {
	position: relative;
	top: 24px;
	left: 30px;
	width: 28px;
	height: 28px;
	background: url(/image/signal2.png) no-repeat;
	background-size:contain;
}
.signal_IconMin {
	position: relative;
	top: 24px;
	left: 30px;
	width: 28px;
	height: 28px;
	background: url(/image/signal1.png) no-repeat;
	background-size:contain;
}
</style>
</head>

<body>
	<div id="wrapper">
		<div id="header"></div>
		<div id="menu"></div>
		<div id="menu_edge"></div>
		<div id="content_Wizard"></div>
		<div id="content">
			<div id="map_wording">
				<ul>
					<li id="map_status"></li>&nbsp;&nbsp;
					<li id="map_title"></li>
				</ul>
			</div>
			<div id="map_info" style="display:none">
				<table>
					<tr>
						<td><script>I18N("h", "Click on any item in the diagram for more information.");</script>
						</td>
					</tr>
					<tr>
						<td><div id="map_fw_info"></div></td>
					</tr>
				</table>
			</div>
			<div id="map">
				<div id="internetIcon" style="display:none" onmousedown="showList('internetInfo');return false;">
					<div class="IconName"><script>I18N("h", "Internet");</script></div>
					<div id="internetInfo_circle" class="btn_bg2"><img class="image_icon" id="internet_image" src="image/internet.png" width="60" height="60" /></div>
				</div>

				<div id="routerIcon" style="display:none" onmousedown="showList('routerInfo');return false;" >
					<div class="IconName" id="modelName">&nbsp;</div>
					<div id="routerInfo_circle" class="btn_bg"><img class="image_icon" src="image/router-wifi.png" width="60" height="60"  /></div>
				</div>
				<div id="clientIcon" style="display:none" onmousedown="showList('clientInfo');return false;">
					<div class="IconName_clients"><script>I18N("h", "Connected Clients");</script>:&nbsp;<label id="Total_ConnectedClients" style="color:#4598aa">0</label></div>
					<div id="clientInfo_circle" class="btn_bg"><img class="image_icon" id="client_image" src="image/wifiClient_.png" width="60" height="60" /></div>
				</div>
				<div id="extenderIcon" style="display:none" onmousedown="showList('extenderInfo');return false;">
					<div class="IconName_clients"><script>I18N("h", "Extenders");</script>:&nbsp;<label id="Total_Extenders" style="color:#4598aa">0</label></div>
					<div id="extenderInfo_circle" class="btn_bg"><img class="image_icon" id="extender_image" src="image/wifi_mode.png" width="60" height="60" /></div>
				</div>
				<div id="usbIcon" style="display:none" onmousedown="showList('usbInfo');return false;">
					<div class="IconName"><script>I18N("h", "USB Device");</script></div>
					<div id="usbInfo_circle" class="btn_bg">
						<img class="image_icon" id="usb_image" src="image/usb_.png" width="60" height="60"  />
						<img class="usb_warning_icon" id="usb_image_warning" src="image/warning_s.png"  width="25" height="25" />
					</div>
				</div>

				<div id="line_wan" style="display:none">
					<div class="IconName"></div>
					<img id="wan_Line" src="image/line2.png" alt="" width="250" height="18" />
				</div>
				<div id="wan_connstat" style="display:none">
					<div class="IconName"></div>
					<img id="wan_Light" src="image/disconnected.png" alt="" width="35" height="35" />
				</div>
				<div id="line_ethernet" style="display:none">
					<div class="IconName"></div>
					<img src="image/line3.png" alt="" width="212" height="102" />
				</div>
				<div id="line_wifi" style="display:none">
					<div class="IconName"></div>
					<img src="image/line2.png" alt="" width="250" height="18" id="line_wifi_img"/>
				</div>
				<div id="line_usb" style="display:none">
					<div class="IconName"></div>
					<img src="image/line1.png" alt="" width="212" height="102" />
				</div>
			</div>

			<div id="this_wz" style="display:none"></div>
			<table id="goto_Wizard_table" style="display:none">
				<td><center><button class="goto_Wizard" id="settings_Wizard" onclick="self.location.href='Wizard_Manual.html';"><script>I18N("h", "Click to repair");</script></button></center></td>
			</table>

			<img id="w_this" src="image/w_this.png" alt="" width="27" height="13" style="display:none"/>

			<div class="shadowLine"></div>
			<!-- Router Info -->
			<div id="routerInfo" class="infor" styple="display:none">
				<div id="modelName2" class="infor_title"></div>
					<!-- LAN -->
				<div id="router_left">
					<!-- IPv4 LAN -->
					<div class="list-group-item" style="border:0px">
						<h4 class="list-group-item-heading">
							<img src="image/network_icon.png" alt="" width="28" height="28" />
							<span class="lanTitle"><script>I18N("h", "IPv4 Network");</script></span>
						</h4>
						<div class="list-group-item-text">
							<table class="myTable_index">
								<tr>
									<th><script>I18N("h", "MAC Address");</script>:</th>
									<td id="index_Show_MacAddress"><script>I18N("h", "Not Available");</script></td>
								</tr>
								<tr>
									<th><script>I18N("h", "Router IP Address");</script>:</th>
									<td id="index_ShowRouterIPAddress"><script>I18N("h", "Not Available");</script></td>
								</tr>
								<tr>
									<th><script>I18N("h", "Subnet Mask");</script>:</th>
									<td id="index_Show_SubnetMask"><script>I18N("h", "Not Available");</script></td>
								</tr>
							</table>
						</div>
					</div>

					<!-- IPv6 LAN -->
					<div class="list-group-item" style="border:0px">
						<h4 class="list-group-item-heading">
							<img src="image/network_icon.png" alt="" width="28" height="28" />
							<span class="lanTitle"><script>I18N("h", "IPv6 Network");</script></span>
						</h4>
						<div class="list-group-item-text">
							<table class="myTable_index">
								<tr>
									<th><script>I18N("h", "Link-Local Address");</script>:</th>
									<td id="lan_IPv6_Link_Local_Address"><script>I18N("h", "Not Available");</script></td>
								</tr>
								<tr>
									<th><script>I18N("h", "Router IPv6 Address");</script>:</th>
									<td id="lan_IPv6_Address"><script>I18N("h", "Not Available");</script></td>
								</tr>
								<tr id="pd_enable">
									<th><script>I18N("h", "DHCP-PD");</script>:</th>
									<td id="dhcp_Pd"></td>
								</tr>
								<tr id="inabdp" style="display:none">
									<th><script>I18N("h", "Assigned Prefix");</script>:</th>
									<td id="dhcp_Pd_IP"></td>
								</tr>
							</table>
						</div>
					</div>
					<div id="lan_goto" class="list-group-item goto">
						<div class="list-group-item-text">
							<a href="Network.html">
								<script>I18N("h", "Go to settings");</script>
								<img src="image/gotosettings.png" alt="" width="23" height="23"/>
							</a>
						</div>
					</div>
				</div>
				<div id="router_right" class="list-group">
					<!-- Wi-Fi -->
					<div id="Wi-Fi_24" class="list-group-item" style="border:0px">
						<h4 class="list-group-item-heading">
							<img src="image/wireless_icon.png" alt="" width="28" height="28" />
							<span id="Wi-Fi_24_show" class="lanTitle"><script>I18N("h", "Wi-Fi 2.4GHz");</script></span>
						</h4>
						<div class="list-group-item-text">
							<table class="myTable_index">
								<tr>
									<th><script>I18N("h", "Status");</script>:</th>
									<td id="index_ShowStatus_24G"><script>I18N("h", "Not Available");</script></td>
								</tr>
								<tr>
									<th><script>I18N("h", "Wi-Fi Name (SSID)");</script>:</th>
									<td id="index_ShowSSID_24G"><script>I18N("h", "Not Available");</script></td>
								</tr>
								<tr>
									<th><script>I18N("h", "Password");</script>:</th>
									<td>
										<label id="index_ShowPassword_24G" class="gerneral_Info_label"><script>I18N("h", "Not Available");</script></label>
										<a href="WiFi.html" id="alert_Info_24G" class="alertInfo" style="display:none"><img src="../image/warning_s.png" style="border:0" width="20" height="20" /></a>
									</td>
								</tr>
							</table>
						</div>
					</div>

					<div id="Wi-Fi_5" class="list-group-item" style="border:0px">
						<h4 class="list-group-item-heading" style="color:#4598aa">
							<img src="image/wireless_icon.png" alt="" width="28" height="28" />
							<span class="lanTitle"><script>I18N("h", "Wi-Fi 5GHz");</script></span>
						</h4>
						<div class="list-group-item-text">
							<table class="myTable_index">
								<tr>
									<th><script>I18N("h", "Status");</script>:</th>
									<td id="index_ShowStatus_5G"><script>I18N("h", "Not Available");</script></td>
								</tr>
								<tr>
									<th><script>I18N("h", "Wi-Fi Name (SSID)");</script>:</th>
									<td id="index_ShowSSID_5G"><script>I18N("h", "Not Available");</script></td>
								</tr>
								<tr>
									<th><script>I18N("h", "Password");</script>:</th>
									<td>
										<label id="index_ShowPassword_5G" class="gerneral_Info_label"><script>I18N("h", "Not Available");</script></label>
										<a href="WiFi.html" id="alert_Info_5G" class="alertInfo" style="display:none"><img src="../image/warning_s.png" style="border:0" width="20" height="20" /></a>
									</td>
								</tr>
							</table>
						</div>
					</div>
					<div id="Wi-Fi_5_2" class="list-group-item" style="border:0px;display:none">
						<h4 class="list-group-item-heading" style="color:#4598aa">
							<img src="image/wireless_icon.png" alt="" width="28" height="28" />
							<span class="lanTitle"><script>I18N("h", "Wi-Fi 5GHz Secondary");</script></span>
						</h4>
						<div class="list-group-item-text">
							<table class="myTable_index">
								<tr>
									<th><script>I18N("h", "Status");</script>:</th>
									<td id="index_ShowStatus_5G_2"><script>I18N("h", "Not Available");</script></td>
								</tr>
								<tr>
									<th><script>I18N("h", "Wi-Fi Name (SSID)");</script>:</th>
									<td id="index_ShowSSID_5G_2"><script>I18N("h", "Not Available");</script></td>
								</tr>
								<tr>
									<th><script>I18N("h", "Password");</script>:</th>
									<td>
										<label id="index_ShowPassword_5G_2" class="gerneral_Info_label"><script>I18N("h", "Not Available");</script></label>
										<a href="WiFi.html" id="alert_Info_5G_2" class="alertInfo" style="display:none"><img src="../image/warning_s.png" style="border:0" width="20" height="20" /></a>
									</td>
								</tr>
							</table>
						</div>
					</div>
					<div class="list-group-item goto">
						<div class="list-group-item-text">
							<a href="WiFi.html">
								<script>I18N("h", "Go to settings");</script>
								<img src="image/gotosettings.png" alt="" width="23" height="23"/>
							</a>
						</div>
					</div>
					<div id="table_GuestZone" style="display:none">
					<!-- Wi-Fi Guest Zone -->
					<div id="Wi-Fi_24G_Guest" class="list-group-item" style="border:0px;display:none">
						<h4 class="list-group-item-heading" style="color:#4598aa">
							<img src="image/wireless_icon.png" alt="" width="28" height="28" />
							<span id="Wi-Fi_24_Guest_show" class="lanTitle"><script>I18N("h", "Guest Zone 2.4GHz");</script></span>
						</h4>
						<div class="list-group-item-text">
							<table class="myTable_index">
								<tr>
									<th><script>I18N("h", "Status");</script>:</th>
									<td id="index_ShowStatus_24G_Guest"><script>I18N("h", "Not Available");</script></td>
								</tr>
								<tr>
									<th><script>I18N("h", "Wi-Fi Name (SSID)");</script>:</th>
									<td id="index_ShowSSID_24G_Guest"><script>I18N("h", "Not Available");</script></td>
								</tr>
								<tr>
									<th><script>I18N("h", "Password");</script>:</th>
									<td id="index_ShowPassword_24G_Guest">
										<script>I18N("h", "Not Available");</script></td>
								</tr>
							</table>
						</div>
					</div>

					<div id="Wi-Fi_5G_Guest" class="list-group-item" style="border:0px;display:none">
						<h4 class="list-group-item-heading" style="color:#4598aa">
							<img src="image/wireless_icon.png" alt="" width="28" height="28" />
							<span class="lanTitle"><script>I18N("h", "Guest Zone 5GHz");</script></span>
						</h4>
						<div class="list-group-item-text">
							<table class="myTable_index">
								<tr>
									<th><script>I18N("h", "Status");</script>:</th>
									<td id="index_ShowStatus_5G_Guest"><script>I18N("h", "Not Available");</script></td>
								</tr>
								<tr>
									<th><script>I18N("h", "Wi-Fi Name (SSID)");</script>:</th>
									<td id="index_ShowSSID_5G_Guest"><script>I18N("h", "Not Available");</script></td>
								</tr>
								<tr>
									<th><script>I18N("h", "Password");</script>:</th>
									<td id="index_ShowPassword_5G_Guest">
										<script>I18N("h", "Not Available");</script></td>
								</tr>
							</table>
						</div>
					</div>

					<div id="Wi-Fi_5G_2_Guest" class="list-group-item" style="border:0px;display:none">
						<h4 class="list-group-item-heading" style="color:#4598aa">
							<img src="image/wireless_icon.png" alt="" width="28" height="28" />
							<span class="lanTitle"><script>I18N("h", "Guest Zone 5GHz Secondary");</script></span>
						</h4>
						<div class="list-group-item-text">
							<table class="myTable_index">
								<tr>
									<th><script>I18N("h", "Status");</script>:</th>
									<td id="index_ShowStatus_5G_2_Guest"><script>I18N("h", "Not Available");</script></td>
								</tr>
								<tr>
									<th><script>I18N("h", "Wi-Fi Name (SSID)");</script>:</th>
									<td id="index_ShowSSID_5G_2_Guest"><script>I18N("h", "Not Available");</script></td>
								</tr>
								<tr>
									<th><script>I18N("h", "Password");</script>:</th>
									<td id="index_ShowPassword_5G_2_Guest">
										<script>I18N("h", "Not Available");</script></td>
								</tr>
							</table>
						</div>
					</div>
					<div class="list-group-item goto">
						<div class="list-group-item-text">
							<a href="GuestZone.html">
								<script>I18N("h", "Go to settings");</script>
								<img src="image/gotosettings.png" alt="" width="23" height="23"/>
							</a>
						</div>
					</div>

					</div>
				</div>
			</div>
			<!-- ------------------ internetInfo -------------------- -->
			<div id="internetInfo" class="infor" style="display:none">
				<div class="infor_title"><script>I18N("h", "Internet");</script></div>
				<div class="v4_v6_btn">
					<ul>
						<li style="display:block"><div id="v6_btn_WAN" class="v4v6_linkstyle_2" onclick="gotoIPv6Info_WAN();click_Statuschanged();"><script>I18N("h", "IPv6");</script></div></li>
						<li style="display:block"><div  class="v4v6_linkstyle_1">&nbsp; / &nbsp;</div></li>
						<li style="display:block"><div id="v4_btn_WAN" class="v4v6_linkstyle_1" onclick="gotoIPv4Info_WAN();click_Statuschanged();"><script>I18N("h", "IPv4");</script></div></li>
					</ul>
				</div>
				<div id="internet_left">
					<table class="myTable_index">
						<tbody>
							<tr>
								<th><script>I18N("h", "Cable Status");</script>:</th>
								<td id="index_ShowCableStatus"><script>I18N("h", "Disconnected");</script></td>
							</tr>
							<tr>
								<th><script>I18N("h", "Connection Type");</script>:</th>
								<td id="index_ShowConnectionType"><script>I18N("h", "Not Available");</script></td>
							</tr>
							<tr>
								<th><script>I18N("h", "Network Status");</script>:</th>
								<td id="index_ShowNetworkStatus"><script>I18N("h", "Disconnected");</script></td>
							</tr>
							<tr>
								<th><script>I18N("h", "Connection Uptime");</script>:</th>
								<td id="index_ShowConnectionUpTime">0 <script>I18N("h", "Day");</script> 0 <script>I18N("h", "Hour");</script> 0 <script>I18N("h", "Min");</script> 0 <script>I18N("h", "Sec");</script></td>
							</tr>
						</tbody>
					</table>
					<div style="text-align:center;padding-top:10px">
						<button type="button" class="styled_button_s" id="RenewRelease_btn" style="display:none;min-width:160px"></button>
					</div>
				</div>
				<div id="internet_right">
					<table class="myTable_index">
						<tbody>
							<tr>
								<th><script>I18N("h", "MAC Address");</script>:</th>
								<td id="index_ShowWanMacAddress"></td>
							</tr>
							<tr id="index_ShowIPAddress_tr">
								<th><script>I18N("h", "IP Address");</script>:</th>
								<td id="index_ShowIPAddress"></td>
							</tr>
							<tr id="index_AftrAddress_tr">
								<th><script>I18N("h", "AFTR Address");</script>:</th>
								<td id="index_AftrAddress"></td>							
							</tr>
							<tr id="index_DsliteDhcpv6Option_tr">
								<th><script>I18N("h", "DS-Lite DHCPv6 option");</script>:</th>
								<td id="index_DsliteDhcpv6Option"></td>							
							</tr>
							<tr>
								<th><script>I18N("h", "Subnet Mask");</script>:</th>
								<td id="index_ShowSubnetMask"></td>
							</tr>
							<tr>
								<th><script>I18N("h", "Default Gateway");</script>:</th>
								<td id="index_ShowDefaultGateway"></td>
							</tr>
							<tr>
								<th><script>I18N("h", "Primary DNS Server");</script>:</th>
								<td id="index_ShowPrimaryDNS"></td>
							</tr>
							<tr>
								<th><script>I18N("h", "Secondary DNS Server");</script>:</th>
								<td id="index_ShowSecondaryDNS"></td>
							</tr>
						</tbody>
					</table>
					<div class="goto">
						<a href="Internet.html" id="goto_internet_v4">
							<script>I18N("h", "Go to settings");</script>
							<img src="image/gotosettings.png" alt="" width="23" height="23"/>
						</a>
					</div>
				</div>
				<div id="internet_v6_left" style="display:none;">
					<table class="myTable_index">
						<tbody>
							<tr>
								<th><script>I18N("h", "Connection Type");</script>:</th>
								<td id="Connection_Type_IPv6"><script>I18N("h", "Not Available");</script></td>
							</tr>
							<tr>
								<th><script>I18N("h", "Network Status");</script>:</th>
								<td id="IPv6_NetworkStatus"><script>I18N("h", "Not Available");</script></td>
							</tr>
							<tr>
								<th><script>I18N("h", "Connection Uptime");</script>:</th>
								<td id="index_ShowConnectionUpTime_IPv6">0 <script>I18N("h", "Day");</script> 0 <script>I18N("h", "Hour");</script> 0 <script>I18N("h", "Min");</script> 0 <script>I18N("h", "Sec");</script></td>
							</tr>
						</tbody>
					</table>
					<div style="text-align:center;padding-top:10px">
						<button type="button" class="styled_button_s" id="RenewReleaseIPv6_btn" style="display:none;min-width:160px"></button>
					</div>
				</div>
				<div id="internet_v6_right" style="display:none">
					<table class="myTable_index">
						<tbody>
							<tr>
								<th><script>I18N("h", "WAN IPv6 Address");</script>:</th>
								<td id="wan_IPv6_Address"><script>I18N("h", "Not Available");</script></td>
							</tr>
							<tr>
								<th><script>I18N("h", "Default Gateway");</script>:</th>
								<td id="wan_IPv6_DefaultGateway"><script>I18N("h", "Not Available");</script></td>
							</tr>
							<tr>
								<th><script>I18N("h", "Primary DNS Server");</script>:</th>
								<td id="primary_IPv6_Dns_Server"><script>I18N("h", "Not Available");</script></td>
							</tr>
							<tr>
								<th><script>I18N("h", "Secondary DNS Server");</script>:</th>
								<td id="secondary_IPv6_Dns_Server"><script>I18N("h", "Not Available");</script></td>
							</tr>
						</tbody>
					</table>
					<div class="goto" style="top:60px">
						<a href="Internet_IPv6.html" id="goto_internet_v6">
							<script>I18N("h", "Go to settings");</script>
							<img src="image/gotosettings.png" alt="" width="23" height="23"/>
						</a>
					</div>
				</div>
			</div>
			<!-- ------------------ Client Info -------------------- -->
			<div id="clientInfo" class="infor" style="display:none">
				<div class="infor_title" style="left:0px"><script>I18N("h", "Connected Clients");</script></div>
				<div class="v4_v6_btn">
					<ul id="v4_v6_client_btn">
					<li style="display:none" class="client_type_blocked"><div id="client_btn_Blocked" class="v4v6_linkstyle_2" onclick="getClientList('Blocked');click_Statuschanged();"><script>I18N("h", "Parental Control");</script></div></li>
					<li style="display:none" class="client_type_blocked"><div  class="v4v6_linkstyle_1">&nbsp; / &nbsp;</div></li>
					<li style="display:none" class="client_type_guest"><div id="client_btn_Guest" class="v4v6_linkstyle_2" onclick="getClientList('Guest');click_Statuschanged();"><script>I18N("h", "Guest");</script></div></li>
					<li style="display:none" class="client_type_guest"><div  class="v4v6_linkstyle_1">&nbsp; / &nbsp;</div></li>
					<li style="display:none" class="client_type_host"><div id="client_btn_Host" class="v4v6_linkstyle_1" onclick="getClientList('Host');click_Statuschanged();"><script>I18N("h", "Host");</script></div></li>
					</ul>
				</div>
				<div style="display:inline-block;width:600px">
					<script>I18N("h", "You can block a device from accessing your network at all times or according to a schedule by using the Block dropdown box.");</script>
				</div>
				<div id="Client_Info" style="display:none">
					<table style="width:900px">
						<tbody>
							<center><td style="color:#7d7d7d; text-align:center;"><script>I18N("h", "There are no devices available");</script></td></center>
						</tbody>
					</table>
				</div>
				<div id="Client_Group" style="display:table-row">
				</div>
			</div>
			<!-- ------------------ Extender Info -------------------- -->
			<div id="extenderInfo" class="infor" style="display:none">
				<div class="infor_title" style="left:0px"><script>I18N("h", "Extender");</script></div>
				<!--
				<div class="v4_v6_btn">
					<ul id="v4_v6_client_btn">
					<li style="display:none" class="client_type_blocked"><div id="client_btn_Blocked" class="v4v6_linkstyle_2" onclick="getClientList('Blocked');click_Statuschanged();"><script>I18N("h", "Parental Control");</script></div></li>
					<li style="display:none" class="client_type_blocked"><div  class="v4v6_linkstyle_1">&nbsp; / &nbsp;</div></li>
					<li style="display:none" class="client_type_guest"><div id="client_btn_Guest" class="v4v6_linkstyle_2" onclick="getClientList('Guest');click_Statuschanged();"><script>I18N("h", "Guest");</script></div></li>
					<li style="display:none" class="client_type_guest"><div  class="v4v6_linkstyle_1">&nbsp; / &nbsp;</div></li>
					<li style="display:none" class="client_type_host"><div id="client_btn_Host" class="v4v6_linkstyle_1" onclick="getClientList('Host');click_Statuschanged();"><script>I18N("h", "Host");</script></div></li>
					</ul>
				</div>
				-->
				<div id="extenderName" align="right" style="width: 800px;">
				</div>
				<div id="Extender_Info" style="display:none">
					<table style="width:900px">
						<tbody>
							<center><td style="color:#7d7d7d; text-align:center;"><script>I18N("h", "There are no devices available");</script></td></center>
						</tbody>
					</table>
				</div>
				<div id="Extender_Group" style="display:table-row">
				</div>
			</div>
			<!-- ------------------ USB Device Info -------------------- -->
			<div id="usbInfo" class="infor" style="display:none">
				<div class="infor_title"><script>I18N("h", "USB Device");</script></div>
				<div id="usb_left" class="list-group">
					<div id="no_usb" class="list-group-item" style="border:0px">
						<h4 class="list-group-item-heading" style="color:#4598aa">
							<img src="image/usb_Icon.png" alt="" width="28" height="28" />
							<script>I18N("h", "USB Port")</script>:&nbsp;
							<label><script>I18N("h", "Not Available");</script></label>
						</h4>
						<div class="list-group-item-text" style="text-align:center">
							<script>I18N("h", "No USB device detected");</script>
						</div>
						<div class="list-group-item-text" style="text-align:center;position:relative;left:20px">
						<img src="image/USBport_none2.png" alt="" width="230" height="193" />
						</div>
					</div>
					<div id="usb_list">
					</div>
				</div>
				<div id="usb_right">
					<table class="myTable_index">
						<!-- DLNA Media Server -->
						<tr class="lanTitle" id="dlna_label_tr">
							<td colspan="2">
								<img src="image/dlna_Icon.png" alt="" width="28" height="28" />
								<span><script>I18N("h", "DLNA Media Server");</script></span>
							</td>
						</tr>
						<tr id="dlna_Status_tr">
							<th><script>I18N("h", "Status");</script>:</th>
							<td id="dlna_Status"><script>I18N("h", "Disabled");</script></td>
						</tr>
						<tr id="dlna_ServiceName_tr">
							<th><script>I18N("h", "Service Name");</script>:</th>
							<td id="dlna_ServiceName"><script>I18N("h", "Not Available");</script></td>
						</tr>

						<!-- SharePort -->
						<!--<div id="div_sharePort" style="display:none">-->
						<tr class="lanTitle" id="sharePort_label">
							<td colspan="2">
								<img src="image/sharePort_icon.png" alt="" width="28" height="28" />
								<span><script>I18N("h", "SharePort");</script></span>
							</td>
						</tr>
						<tr id="sharePort_status">
							<th><script>I18N("h", "Status");</script>:</th>
							<td id="shareport_Status"><script>I18N("h", "Disabled");</script></td>
						</tr>
						<!--</div>-->

						<!-- Windows File Sharing -->
						<tr class="lanTitle">
							<td colspan="2">
								<img src="image/SAMBA_icon.png" alt="" width="28" height="28" />
								<span><script>I18N("h", "Windows File Sharing");</script></span>
							</td>
						</tr>
						<tr>
							<th><script>I18N("h", "Status");</script>:</th>
							<td id="samba_Status"><script>I18N("h", "Disabled");</script></td>
						</tr>

						<!-- FTP -->
						<tr class="lanTitle">
							<td colspan="2">
								<img src="image/FileTransfer.png" alt="" width="28" height="28" />
								<span><script>I18N("h", "FTP");</script></span>
							</td>
						</tr>
						<tr>
							<th><script>I18N("h", "Status");</script>:</th>
							<td id="ftp_Status"><script>I18N("h", "Disabled");</script></td>
						</tr>

						<!-- Time Machine -->
						<tr class="lanTitle" id="timeMachine_label_tr">
							<td colspan="2">
								<img src="image/timeMachine_icon.png" alt="" width="28" height="28" />
								<span><script>I18N("h", "Time Machine");</script></span>
							</td>
						</tr>
						<tr id="timeMachine_Status_tr">
							<th><script>I18N("h", "Status");</script>:</th>
							<td id="timeMachine_Status"><script>I18N("h", "Disabled");</script></td>
						</tr>
					</table>
					<div class="goto" style="top:20px">
						<a href="SharePort.html" id="settings_SharePort">
							<script>I18N("h", "Go to settings");</script>
							<img src="image/gotosettings.png" alt="" width="23" height="23"/>
						</a>
					</div>
				</div>
			</div>
		</div>
		<div id="CreatePopAlertMessage2" style="display:none">
			<div id="AlertPopRect">
			<div id="AlertPopBody">
				<table class="myAlertPop_table_b" id="FirmwareUpgrade" border="0" cellspacing="0">
					<tbody>
						<tr>
							<td colspan="2">
								<center><div id="Information_pop_image"></div></center>
							</td>
						</tr>
						<tr>
							<td colspan="2">
								<div id="dialog_msg_black"><script>I18N("h", "A new firmware is available! Do you want to download and upgrade the firmware?");</script></div>
							</td>
						</tr>
						<tr>
							<td>
								<div id="Confirm_btn" onclick="ignore_UpgradeFW()" style="cursor:pointer"><script>I18N("h", "Ignore");</script></div>
							</td>
							<td>
								<div id="Confirm_btn" onclick="goto_UpgradeFW()" style="cursor:pointer"><script>I18N("h", "Apply");</script></div>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			</div>
		</div>
		<form role="form" name="client_form" id="client_form" method="POST" action="">
		<div id="editPop" style="display:none">
			<div id="dialogBox"  style="width:500px">
				<div id="closeCreatePopBtn" onclick="clearCreateRulePOP()" style="cursor:pointer"></div>
				<table class="myCreatePop_table" border="0" cellspacing="0">
					<tbody>
						<tr>
							<td colspan="3" class="popTitle" id="popTitle"></td>
						</tr>
						<tr>
							<th><script>I18N("h", "Name");</script>:</th>
							<td><input class="styled-text" type="text" name="client_Name" style="width:190px" id="client_Name" onchange="checkUpdate()"></td>
						</tr>
						<tr id="show_Vendor">
							<th><script>I18N("h", "Vendor");</script>:</th>
							<td id="client_Vendor">Unknown Vendor</td>
						</tr>
						<tr id="show_MACAddress">
							<th><script>I18N("h", "MAC Address");</script>:</th>
							<td id="client_MACAddress"></td>
							<td id="show_editMac" style="display:none"><input class="styled-text" type="text" name="client_editMac" maxlength="17" size="25" id="client_editMac" onchange="checkUpdate();" /></td>
						</tr>
						<tr id="show_IPAdr">
							<th><script>I18N("h", "IP Address");</script>:</th>
							<td id="client_IPAdr">IP Address</td>
						</tr>
						<tr id="show_ReserveIP" onmousedown="return false">
							<th><script>I18N("h", "Reserve IP");</script>:</th>
							<td>
							<input type="checkbox" class="chkbox" id="enableReserveIP" /><label for="enableReserveIP"><span class="chkbox_disabled"><script>I18N("h","Disabled");</script></span><span class="chkbox_enabled"><script>I18N("h","Enabled");</script></span></label>
								<p class="Remainingtext" style="letter-spacing:0;display:inline-block;padding-left:20px;">Remaining:<span>24</span></p>
							</td>
						</tr>
						<tr id="show_IPAdrReserve">
							<th><script>I18N("h", "IP Address (Reserved)");</script>:</th>
							<td><input class="styled-text" type="text" name="client_IPAdrReserve" style="width:190px" id="client_IPAdrReserve" onchange="checkUpdate();"></td>
						</tr>
						<tr onmousedown="return false">
							<th><script>I18N("h", "Parental Control");</script>:</th>
							<td>
							<input type="checkbox" class="chkbox" id="enableAccess" /><label for="enableAccess"><span class="chkbox_disabled"><script>I18N("h","Disabled");</script></span><span class="chkbox_enabled"><script>I18N("h","Enabled");</script></span></label>				
							</td>
						</tr>
						<tr id="show_Schedule">
							<th class="linkstyle_1"><a href="Schedule.html"><script>I18N("h", "Schedule");</script></a>:</th>
							<td>
								<div class="styled-select">
									<select name="schedule" id="schedule">
										<option value="Always" selected>Always OFF</option>
									</select>
								</div>
							</td>
						</tr>
						<tr>
							<td colspan="4">
								<center><button type="button" id="check_btn" class="styled_button_dis" onclick="$('form').submit();changeTimeoutAction();" disabled><script>I18N("h", "Save");</script></button></center>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
		</form>
		<div id="DetectRouterConnection" style="display:none"></div>
		<div id="footer_login" border="0"> <!-- COPYRIGHT &copy; 2013 D-Link -->
			<div id="copyright"><script>I18N("h", "COPYRIGHT");</script></div>
			<div id="help" style="display:none"><a target="_blank" id="manual" style="cursor:pointer;text-Decoration:underline"><script>I18N("h", "HelpManual");</script></a></div>
		</div>
		<br>
	</div>
</body>
</html> 
