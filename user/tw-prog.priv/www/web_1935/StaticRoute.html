<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3c.org/1999/xhtml"><head><title>D-LINK</title><meta http-equiv="cache-control" content="no-cache"><meta http-equiv="expires" content="0"><link rel="icon" href="/image/dlink-favicon.ico?v=1075792207"><link rel="shortcut icon" href="/image/favicon.ico?v=1075792207" type="image/x-icon"><meta http-equiv="X-UA-Compatible" content="IE=9"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="Content-Type" content="text/css"><link rel="stylesheet" type="text/css" href="/css/jquery.selectbox.css?v=a4d9b221f8"><script type="text/javascript" charset="utf-8" src="/js/initialJQ.js?v=72051ca6ec"></script><script type="text/javascript" charset="utf-8" src="/js/initialJS.js?v=49978ee093"></script><script type="text/javascript" charset="utf-8" src="/js/initialCSS.js?v=668496d31b"></script><script type="text/javascript" charset="utf-8" src="/js/initialValidate.js?v=18ad6b1a1d"></script><script type="text/javascript" charset="utf-8" src="/js/StaticRoute.js?v=a91245afd6"></script><link rel="stylesheet" type="text/css" href="css/style_pop.css?v=ebdc1ea095" media="all"><script type="text/javascript" charset="utf-8" src="/js/popView.js?v=28d8d08a05"></script><script type="text/javascript">top!=self&&(top.location=self.location),null===sessionStorage.getItem("PrivateKey")&&window.location.replace("../info/Login.html");var datalist,HNAP=new HNAP_XML,Limit_TotalStaticRouteRules=24;function Load_HTML(){$("#header").load("header.html")}function Initial(){initialMenu(),initialDetectRouterConnection(),datalist=new Datalist}function GetXML(){HNAP.GetXMLAsync("GetStaticRouteIPv4Settings",null,"GetValue",function(t){GetResult_1st(t)})}function GetResult_1st(t){if(null!=t){for(var e=t.Get("GetStaticRouteIPv4SettingsResponse/StaticRouteIPv4List/SRIPv4Info#"),n=1;n<=e;n++){var a=t.Get("GetStaticRouteIPv4SettingsResponse/StaticRouteIPv4List/SRIPv4Info:"+n+"/Enabled"),o=t.Get("GetStaticRouteIPv4SettingsResponse/StaticRouteIPv4List/SRIPv4Info:"+n+"/Name"),i=t.Get("GetStaticRouteIPv4SettingsResponse/StaticRouteIPv4List/SRIPv4Info:"+n+"/IPAddress"),l=t.Get("GetStaticRouteIPv4SettingsResponse/StaticRouteIPv4List/SRIPv4Info:"+n+"/NetMask"),s=t.Get("GetStaticRouteIPv4SettingsResponse/StaticRouteIPv4List/SRIPv4Info:"+n+"/Gateway"),c=t.Get("GetStaticRouteIPv4SettingsResponse/StaticRouteIPv4List/SRIPv4Info:"+n+"/Metric"),u=t.Get("GetStaticRouteIPv4SettingsResponse/StaticRouteIPv4List/SRIPv4Info:"+n+"/Interface"),d=new Data(decode_char_text(o),i,l,s,c,u);d.setEnable(a),datalist.push(d)}check_TotalRule(Limit_TotalStaticRouteRules,datalist.length()),$("#sr_Interface").selectbox({width:220}),document.getElementById("main").style.display="inline",$("select").change(function(){save_button_changed()}),$("input").keydown(function(){save_button_changed()}),$("input").change(function(){save_button_changed()})}else 1==DebugMode&&alert("[!!GetXML Error!!] Function: GetResult_1st")}function CheckConnectionStatus(){$.ajax({cache:!1,url:"./js/CheckConnection",timeout:5e3,type:"GET",success:function(t){SetXML()},error:function(){document.getElementById("DetectRouterConnection").style.display="inline"}})}function SetXML(){var t=I18N("j","Please wait")+" ...";PopView.show(t),HNAP.GetXMLAsync("SetStaticRouteIPv4Settings",null,"GetXML",function(t){SetResult_1st(t)})}function SetResult_1st(t){if(null!=t){for(var e=0;e<datalist.length();e++)t.Set("SetStaticRouteIPv4Settings/StaticRouteIPv4Data/SRIPv4Info:"+(e+1)+"/Enabled",datalist.list[e].enable),t.Set("SetStaticRouteIPv4Settings/StaticRouteIPv4Data/SRIPv4Info:"+(e+1)+"/Name",encode_char_text(datalist.list[e].name)),t.Set("SetStaticRouteIPv4Settings/StaticRouteIPv4Data/SRIPv4Info:"+(e+1)+"/IPAddress",datalist.list[e].ipAddress),t.Set("SetStaticRouteIPv4Settings/StaticRouteIPv4Data/SRIPv4Info:"+(e+1)+"/NetMask",datalist.list[e].mask),t.Set("SetStaticRouteIPv4Settings/StaticRouteIPv4Data/SRIPv4Info:"+(e+1)+"/Gateway",datalist.list[e].gateway),t.Set("SetStaticRouteIPv4Settings/StaticRouteIPv4Data/SRIPv4Info:"+(e+1)+"/Metric",datalist.list[e].metric),t.Set("SetStaticRouteIPv4Settings/StaticRouteIPv4Data/SRIPv4Info:"+(e+1)+"/Interface",datalist.list[e].dev);HNAP.SetXMLAsync("SetStaticRouteIPv4Settings",t,function(t){SetResult_2nd(t)})}else 1==DebugMode&&alert("[!!SetXML Error!!] Function: SetResult_1st")}function SetResult_2nd(t){var e=t.Get("SetStaticRouteIPv4SettingsResponse/SetStaticRouteIPv4SettingsResult");"OK"==e||"RESTART"==e?Start_reciprocal_Number_RestoreConfiguration(!1):"REBOOT"==e?Start_reciprocal_Number_RestoreConfiguration(!0):window.location.reload()}function Start_reciprocal_Number_RestoreConfiguration(t){var e=I18N("j","Please wait")+" ...",n=I18N("j","The new settings have been saved."),a=currentDevice.okcount,o=new SOAPAction;1==t&&(e=I18N("j","Your changes are being saved, and the device will need to reboot."),a=currentDevice.rebootcount,o.sendSOAPAction("Reboot",null,null)),PopView.showWithCountdown(e,a).always(function(){PopView.showConfirm(n).done(function(){location.reload()})})}function waitSettingFinished(){window.location.reload()}function createUserButton(){changeTimeoutAction();var t=document.documentElement.clientHeight,e=document.getElementById("header").clientHeight,n=t-e;$("#popTitle").html(I18N("j","Create New Route")),document.getElementById("createPop").style.display="inline",document.getElementById("limit_dialogBox").style.width="616px",document.getElementById("limit_dialogBox").style.maxHeight=n+"px",document.getElementById("createButton").disabled=!0,$("#staticrouter_form").val(-1);document.getElementById("limit_dialogBox").clientHeight;document.getElementById("limit_dialogBox").style.top=e/2+"px"}function closeCreateRulePOP(t){changeTimeoutAction();var e=$("#sr_Name").val(),n=$("#sr_DestinationIP").val(),a=$("#sr_Netmask").val(),o=$("#sr_Gateway").val(),i=$("#sr_Metric").val(),l=$("#sr_Interface").val(),s=new Data(e,n,a,o,i,l);(t<0?datalist.push(s):datalist.editData(t,s))&&(resetRulePOP(),check_TotalRule(Limit_TotalStaticRouteRules,datalist.length()))}function clearCreateRulePOP(){changeTimeoutAction(),resetRulePOP(),$("#staticrouter_form").validate().resetForm(),$(":text").prop("className","styled-text"),check_TotalRule(Limit_TotalStaticRouteRules,datalist.length())}function resetRulePOP(){document.getElementById("createPop").style.display="none",document.getElementById("sr_Name").value="",document.getElementById("sr_DestinationIP").value="",document.getElementById("sr_Netmask").value="",document.getElementById("sr_Gateway").value="",document.getElementById("sr_Metric").value="",$("#sr_Interface").selectbox("detach"),$("#sr_Interface").val("WAN"),$("#sr_Interface").selectbox("attach")}function editData(t){changeTimeoutAction(),$("#popTitle").html(I18N("j","Edit Route"));var e=document.documentElement.clientHeight-document.getElementById("header").clientHeight;document.getElementById("createPop").style.display="inline",document.getElementById("limit_dialogBox").style.width="616px",document.getElementById("limit_dialogBox").style.maxHeight=e+"px",document.getElementById("createButton").disabled=!0,$("#staticrouter_form").val(t);var n=datalist.getData(t);document.getElementById("sr_Name").value=n.name,document.getElementById("sr_DestinationIP").value=n.ipAddress,document.getElementById("sr_Netmask").value=n.mask,document.getElementById("sr_Gateway").value=n.gateway,document.getElementById("sr_Metric").value=n.metric,$("#sr_Interface").selectbox("detach"),$("#sr_Interface").val(n.dev),$("#sr_Interface").selectbox("attach")}function deleteData(t){datalist.deleteData(t),check_TotalRule(Limit_TotalStaticRouteRules,datalist.length()),save_button_changed()}function CheckString(t,e){t.value=t.value.replace(/\s/g,"")}function focusToFirstIndex(t){"save_buttonFocus"==t.id&&9==window.event.keyCode&&document.getElementById("sr_Name").focus()}function save_button_changed(){document.getElementById("Save_Disable_btn").style.display="none",document.getElementById("Save_btn").style.display="block",changeFlag=!0,changeTimeoutAction()}function check_TotalRule(t,e){var n=t-e;0==(document.getElementById("RemainingRules").innerHTML=n)?$("#createButton").attr("class","styled_button_dis").prop("disabled",!0):$("#createButton").attr("class","styled_button_s").prop("disabled",!1)}$(document).ready(function(){Load_HTML(),Initial(),setMenu("menu_Advanced"),GetXML(),startTimeout()})</script></head><body><div id="wrapper"><div id="header"></div><div id="menu"></div><div id="menu_edge"></div><div id="content"><div id="info"><div id="FunctionName"><script>I18N("h","Static Routes")</script></div><div id="wallimage"><img src="image/page_StaticRoute.png?v=0c4696466f" alt="" width="195" height="119"></div><div id="directions"><script>I18N("h","Once connected to the Internet, your router automatically builds routing tables that determine where traffic should be sent. Static routes can override this process, allowing traffic to be directed to a specific client or location.")</script></div></div><div id="funcBar"><div id="pagePath"><script>I18N("h","Advanced")</script>&gt;&gt;<script>I18N("h","Static Routes")</script>&gt;&gt; IPv4</div><ul id="rightFunc"><li style="display:block"><div id="Save_btn" onclick="CheckConnectionStatus(),changeTimeoutAction()" style="cursor:pointer;display:none"><script>I18N("h","Save")</script></div></li><li style="display:block"><div id="Save_Disable_btn"><script>I18N("h","Save")</script></div></li><li style="display:block"><a href="javascript:CheckHTMLStatus('StaticRouteIPv6');" style="text-decoration:none" onclick="return confirmExit()"><div id="page_btn" class="linkstyle_1"><script>I18N("h","IPv6")</script></div></a></li></ul></div><div id="main" style="display:none"><table class="mainTable" id="tblStaticRoute" border="0" cellspacing="0" ondragstart="return!1" onselectstart="return!1"><thead><tr><th><script>I18N("h","Status")</script></th><th><script>I18N("h","Name")</script></th><th><script>I18N("h","Destination Network")</script></th><th><script>I18N("h","Mask")</script></th><th><script>I18N("h","Gateway")</script></th><th><script>I18N("h","Metric")</script></th><th><script>I18N("h","Interface")</script></th><th><script>I18N("h","Edit")</script></th><th><script>I18N("h","Delete")</script></th></tr></thead><tbody></tbody></table><br><br><button type="button" name="createButton" id="createButton" class="styled_button_s" onclick="createUserButton()"><script>I18N("h","Add Route")</script></button> &nbsp;&nbsp;<script>I18N("h","Remaining")</script>:&nbsp;<label id="RemainingRules">10</label><br><form name="staticrouter_form" id="staticrouter_form" action=""><input id="sumbit_CheckData" class="submit" type="submit" value="Submit" style="display:none"><div id="createPop" style="display:none"><div class="dialogBox" id="limit_dialogBox" style="overflow:auto"><div id="closeCreatePopBtn" onclick="clearCreateRulePOP()" style="cursor:pointer"></div><table class="myCreatePop_table" border="0" cellspacing="0" id="tblStaticRoute3"><tbody><tr><td colspan="3"><div class="popTitle" id="popTitle"></div></td></tr><tr><th style="width:238px"><script>I18N("h","Name")</script>:</th><td><input class="styled-text" type="text" name="sr_Name" size="27" id="sr_Name" maxlength="20" tabindex="1"></td><td><div style="width:150px"></div></td></tr><tr><th><script>I18N("h","Destination Network")</script>:</th><td><input class="styled-text" type="text" name="sr_DestinationIP" size="27" id="sr_DestinationIP" tabindex="2" onchange="CheckString(this,this.value)"></td></tr><tr><th><script>I18N("h","Mask")</script>:</th><td><input class="styled-text" type="text" name="sr_Netmask" size="27" id="sr_Netmask" tabindex="3" onchange="CheckString(this,this.value)"></td></tr><tr><th><script>I18N("h","Gateway")</script>:</th><td><input class="styled-text" type="text" name="sr_Gateway" size="27" id="sr_Gateway" tabindex="4" onchange="CheckString(this,this.value)"></td></tr><tr><th><script>I18N("h","Metric")</script>:</th><td><input class="styled-text" type="text" name="sr_Metric" size="5" id="sr_Metric" maxlength="3" tabindex="5" onchange="CheckString(this,this.value)"></td></tr><tr><th><script>I18N("h","Interface")</script>:</th><td><div class="styled-select" tabindex="6"><select style="width:80px" name="sr_Interface" id="sr_Interface"><option value="WAN">WAN</option></select></div></td></tr><tr><td id="save_td" colspan="4"><center><button type="button" name="createButton" class="styled_button_s" id="save_buttonFocus" tabindex="7" onkeyup="focusToFirstIndex(this)" onclick='document.getElementById("sumbit_CheckData").click()'><script>I18N("h","Apply")</script></button></center></td></tr></tbody></table></div></div></form></div></div><div id="CreatePopAlertMessage" style="display:none"><div id="AlertPopRect"><div id="AlertPopBody"><table class="myAlertPop_table_b" id="waitSettingFinish" border="0" cellspacing="0"><tbody><tr><td><center><div id="Loading_pop_image2"></div></center></td></tr><tr><td><label id="reciprocal_Number"></label></td></tr><tr><td id="dialog_msg_black2"><script>I18N("h","Your changes are being saved.")</script></td></tr></tbody></table></div></div></div><div id="DetectRouterConnection" style="display:none"></div><div id="footer"><div id="copyright"><script>I18N("h","COPYRIGHT")</script></div></div></div><div id="popalert" class="black_overlay" style="display:none"><div class="popup_window_border" style="position:relative;top:15%"><div class="popup_window"><div id="popalert_circle"><img src="image/loading.gif?v=082200f467" width="62px" height="62px"></div><div id="popalert_countdown"></div><div id="popalert_title" style="display:none"></div><div id="popalert_InformationIMG" style="display:none"></div><div id="popalert_desc"></div><div id="popalert_buttons" class="btn-group" role="group" aria-label="..."><button type="button" id="popalert_ok" class="btn btn-default"><script>I18N("h","OK")</script></button> <button type="button" id="popalert_cancel" class="btn btn-default"><script>I18N("h","Cancel")</script></button></div></div></div></div><script type="text/javascript" charset="utf-8">$(document).ready(function(){$.validator.addMethod("checkNumber",function(e,a){var r=!0;return/(^[0-9]+$)/.test(e)?(e<1||16<e)&&(r=!1):r=!1,r},""),$.validator.addMethod("checkIPFormat",function(e,a){var r=$(a).attr("id");return!!/(^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))+$/.test(e)&&("sr_DestinationIP"!=r||"0.0.0.0"!=e)},jQuery.validator.messages.address_Check),$.validator.addMethod("checkNetMaskAddress",function(e,a){return!!/(^(255.0.0.0)|(^255.(0|128|192|224|24[08]|25[245]).0.0)|(^255.255.(0|128|192|224|24[08]|25[245]).0)|(^255.255.255.(0|128|192|224|24[08]|25[245])))+$/.test(e)},I18N("j","Please enter a valid network mask.")),$.validator.addMethod("checkRequired",function(e,a){return""!=e},I18N("j","Please enter a name for this rule.")),$.validator.addMethod("trimWhiteSpace",function(e,a){var r=!0;return e!=e.trim()&&(r=!1),r},I18N("j","Invalid %s. Only A-Z, a-z, 0-9, “-”, “_”, and spaces are allowed.",I18N("j","Name"))),$.validator.addMethod("checkGenName",function(e,a){var r=!0;return""!=e&&(r=COMM_ValidName(e)),r},I18N("j","Invalid %s. Only A-Z, a-z, 0-9, “-”, “_”, and spaces are allowed.",I18N("j","Name"))),$("#staticrouter_form").each(function(e,a){$(a).validate({rules:{sr_Name:{checkRequired:!0,trimWhiteSpace:!0,checkGenName:!0},sr_DestinationIP:{required:!0,checkIPFormat:!0},sr_Netmask:{required:!0,checkNetMaskAddress:!0},sr_Gateway:{required:!0,checkIPFormat:!0},sr_Metric:{required:!0,checkNumber:!0}},messages:{sr_DestinationIP:{required:jQuery.validator.messages.destinationIP},sr_Netmask:{required:jQuery.validator.messages.netmask},sr_Gateway:{required:jQuery.validator.messages.gateway_Address},sr_Metric:{required:I18N("j","Please enter a value between 1 and 16"),checkNumber:I18N("j","Please enter a value between 1 and 16")}},submitHandler:function(e){var a=e.value;closeCreateRulePOP(a)},debug:!0})})})</script></body></html><!-- svn info: $Revision: 1047 $ $Date: 2018-08-16 16:45:12 +0800 (Thu, 16 Aug 2018) $ --> 
