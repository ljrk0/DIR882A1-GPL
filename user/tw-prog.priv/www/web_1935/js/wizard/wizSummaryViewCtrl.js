/* svn info: $Revision: 997 $ $Date: 2018-08-03 18:12:24 +0800 (Fri, 03 Aug 2018) $ */
define(["wizPath/wizardModel","wizPath/wizardView"],function(t,e){var r,a;function i(e){return r=$.Deferred(),a=e,function(){"WirelessRepeaterExtender"!=a.opMode?$("#Wizard7_APC_heading, #Wizard7_APC").hide():($("#Wizard7_APC_heading, #Wizard7_APC").show(),$("#Wizard7_APCSSID").html(HTMLEncode(a.apcSSID)),$("#Wizard7_APCKey").html(HTMLEncode(a.apcPWD)));$("#Wizard7_SSID").html(HTMLEncode(a.apSSID)),$("#Wizard7_Key").html(a.apPWD),$("#Wizard7_Admin_Pwd").html(HTMLEncode(a.password))}(),$("#wizard_title").html(I18N("j","Configuration")),$("#Wizard7").show(),$("#wizButton_back").blur().off("click").on("click",function(){r.resolve("back")}),$("#wizButton_next").blur().html(I18N("j","Finish")).off("click").on("click",function(){!function(){var e=I18N("j","Your changes are being saved, please wait..."),i=I18N("j","The new settings have been saved.");r.notify("done");var n=t.storeWizDeviceInfo(a),o=PopView.showWithCountdown(e,80);$.when(n,o).always(function(){PopView.showConfirm(i).done(function(){PopView.hide(),r.resolve("done")})})}()}),$("#closeWizBtn").off("vclick").on("vclick",function(){r.reject()}),r.promise()}return{init:function(e){return i(e)}}});