/* svn info: $Revision: 997 $ $Date: 2018-08-03 18:12:24 +0800 (Fri, 03 Aug 2018) $ */
define(["wizPath/wizardModel","wizPath/wizardView"],function(e,a){var i,t,r=null;function s(e){return i=$.Deferred(),1==(t=e).wps?($("#APssid_24").val(t.apcSSID+"-ext"),$("#APkey_24").val(t.apcPWD)):($("#APssid_24").val(t.apSSID),$("#APkey_24").val(t.apPWD)),$("#wizard_title").html(I18N("j","Configuration")+" - "+I18N("j","Extended Network")),$("#DUTToClientRight").attr("src","image/wireless_on.gif"),$("#DUTToClientLeft").attr("src","image/wireless_on_180.gif"),$("#Wizard5").show(),0==isTouch()&&$("#APssid_24").focus(),$("#wizButton_back").show().off("click").on("click",function(){i.resolve("back")}),$("#wizButton_next").show().off("click").on("click",function(){$("#Wizard5_form").submit()}),$("#closeWizBtn").off("vclick").on("vclick",function(){i.reject()}),function(){null!=r&&r.resetForm();$.validator.addMethod("checkASCIIChar",function(e,a){return!!(e.length=0)||CheckASCII(e)},I18N("j","Text field contains illegal characters.")),$.validator.addMethod("checkWPAPassword",function(e,a){return!(64<e.length||e.length<8)},I18N("j","The password must be at least 8 characters long.")),$.validator.addMethod("checkssid",function(e,a){return!(32<e.length)},I18N("j","The Wi-Fi Network Name can be up to 32 characters long.")),$.validator.addMethod("checkillegalssid",function(e,a){return COMM_ValidName(e)},I18N("j","Invalid %s. Only A-Z, a-z, 0-9, “-”, “_”, and spaces are allowed.",I18N("j","Wi-Fi Name (SSID)"))),$.validator.addMethod("trimpasswordsp",function(e,a){var i=!0;return e!=e.trim()&&(i=!1),i},""),r=$("#Wizard5_form").validate({rules:{APssid_24:{required:!0,checkssid:!0,checkillegalssid:!0,trimpasswordsp:!0},APkey_24:{checkASCIIChar:!0,checkWPAPassword:!0,trimpasswordsp:!0}},messages:{APssid_24:{required:I18N("j","Please enter a Wi-Fi Name(SSID)."),trimpasswordsp:I18N("j","Invalid %s. Only A-Z, a-z, 0-9, “-”, “_”, and spaces are allowed.",I18N("j","Wi-Fi Name (SSID)"))},APkey_24:{trimpasswordsp:I18N("j","Text field contains illegal characters.")}},submitHandler:function(e){return t.apSSID=$("#APssid_24").val(),t.apPWD=$("#APkey_24").val(),i.resolve("pwd"),!1},skipBr:function(e){var a=e.parent("div");return 0!=a.length}})}(),i.promise()}return{init:function(e){return s(e)}}});