/* svn info: $Revision: 847 $ $Date: 2018-06-06 18:37:11 +0800 (Wed, 06 Jun 2018) $ */
define("Datalist",["Data"],function(t){function e(){this.list=new Array,this.maxrowid=0}return(e.prototype={get length(){return this.list.length},set length(t){0<=parseInt(t,10)&&(this.list.length=parseInt(t,10))},get connectedLength(){var t=0,e=0;for(var i in this.list)"Blocked"==this.list[i].Type&&t++,"offline"==this.list[i].Type.toLowerCase()&&e++;return this.list.length-t-e}}).prepareUpdate=function(){for(var t in this.list)this.list[t].Live=!1},e.prototype.clean=function(){for(var t in this.list){0==this.list[t].Live&&this.list.splice(t,1)}},e.prototype.getData=function(t){var e,i;for(e=0;e<this.list.length&&(i=this.list[e]).rowid!=t;e++);return i},e.prototype.getDataRowNumByMac=function(t){var e,i=null,s=t.toLowerCase();for(e=0;e<this.list.length;e++)if(this.list[e].MacAddress.toLowerCase()==s){i=e;break}return i},e.prototype.getRowNum=function(t){var e=0;for(e=0;e<this.list.length&&t!=this.list[e].rowid;e++);return e},e.prototype.editData=function(t,e){var i=this.list[this.getRowNum(t)];return i.IPv4Address=e.IPv4Address,i.IPv6Address=e.IPv6Address,i.Type=e.Type,i.DeviceName=e.DeviceName,i.NickName=e.NickName,i.ReserveIP=e.ReserveIP,i.Vendor=e.Vendor,i.ScheduleName=e.ScheduleName,i.MacfilterEnabled=e.MacfilterEnabled,i.Status=e.Status,i.DeviceType=e.DeviceType,i.SignalStrength=e.SignalStrength,i.Live=!0},e.prototype.deleteData=function(t){var e=this.getRowNum(t);this.list.splice(e,1)},e.prototype.push=function(t){return t.setRowid(this.maxrowid),this.list.push(t),this.maxrowid++,this.list.sort(function(t,e){function i(t){return"LAN"==t?0:0<=t.toUpperCase().indexOf("WIFI_")?1:2}return i(t.Type)-i(e.Type)}),!0},e});