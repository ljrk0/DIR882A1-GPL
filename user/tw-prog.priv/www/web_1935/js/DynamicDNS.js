/* svn info: $Revision: 847 $ $Date: 2018-06-06 18:37:11 +0800 (Wed, 06 Jun 2018) $ */
var a,b,c,tmp_HostName,tmp_IPv6Address,ROW_BASE=1,IsLoaded=!1,TABLE_NAME="tblIPv6DynamicDNS",TABLE_NAME2="tblIPv6DynamicDNS2",TABLE_NAME3="tblIPv6DynamicDNS3",STATUS="status_",HOST_NAME="hostname_",IPV6_ADDRESS="ipv6address_",EDIT_ICON="editicon_",DELETE_ICON="delicon_",Name_CheckList=[];IsLoaded=!0;function GetHNAPInformation(e,t,n){a=e,b=t,c=n}function myRowObject(e,t,n,o,d){this.one=e,this.two=t,this.three=n,this.four=o,this.five=d}function addRowToTable(e){if(IsLoaded){var t=document.getElementById(TABLE_NAME),n=t.tBodies[0].rows.length,o=n+ROW_BASE;null==e?e=n:o=e+ROW_BASE;var d=t.tBodies[0].insertRow(e),i=d.insertCell(0),s=document.createElement("input");switch(s.setAttribute("type","checkbox"),s.setAttribute("id",STATUS+o),s.onclick=function(){save_button_changed()},a){case"Enabled":s.checked=!0;break;case"Disabled":s.checked=!1;break;default:alert("Bad request!")}i.appendChild(s);var r=d.insertCell(1),l=document.createElement("label");l.setAttribute("id",HOST_NAME+o),l.setAttribute("size","10"),l.innerHTML=XMLEncode(b),r.appendChild(l);var u=d.insertCell(2),m=document.createElement("label");m.setAttribute("id",IPV6_ADDRESS+o),m.setAttribute("size","10"),m.innerHTML=c,u.appendChild(m);var E=d.insertCell(3),_=document.createElement("img");_.setAttribute("src","image/edit_btn.png?v=2fc10c4616"),_.setAttribute("width","28"),_.setAttribute("height","28"),_.setAttribute("id",EDIT_ICON+o),_.setAttribute("style","cursor:pointer"),_.onclick=function(){editData(o)},E.appendChild(_);var N=d.insertCell(4),h=document.createElement("img");h.setAttribute("src","image/trash.png?v=8fee37bb10"),h.setAttribute("width","41"),h.setAttribute("height","41"),h.setAttribute("id",DELETE_ICON+o),h.setAttribute("style","cursor:pointer"),h.onclick=function(){deleteCurrentRow(this)},N.appendChild(h),d.myRow=new myRowObject(s,l,m,_,h),c=b=a=null}}function AddRowToIndex(){var e=document.getElementById(TABLE_NAME);tmp_Name=document.getElementById("dnsv6_HostName").value;for(var t=0;t<Name_CheckList.length;t++)Name_CheckList[t]=null;for(var n=0,o=1;o<=Total_DynamicDNSIPv6Rules;o++)Name_CheckList[n]=e.rows[o].cells[1].childNodes[0].innerText,n++;for(var d=0;d<Name_CheckList.length;d++)if(tmp_Name==Name_CheckList[d])return alert("Name cannot be the same."),"Error";return a="Enabled",b=document.getElementById("dnsv6_HostName").value,""==(c=document.getElementById("dnsv6_IPAddress").value)?(alert("Error! Value cannot be null."),"Error"):(addRowToTable(null),Total_DynamicDNSIPv6Rules+=1,check_TotalRule(Limit_TotalDynamicDNSIPv6Rules,Total_DynamicDNSIPv6Rules),"Success")}function editDataGet(e){var t=document.getElementById(TABLE_NAME),n=XMLDecode(t.rows[e].childNodes[1].childNodes[0].innerHTML),o=t.rows[e].childNodes[2].childNodes[0].innerHTML;document.getElementById("dnsv6_EditHostName").value=n,document.getElementById("dnsv6_EditIPAddress").value=o,tmp_HostName=n,tmp_IPv6Address=o,setIteration(e)}function assignRowToIndex(e){var t=document.getElementById(TABLE_NAME),n=document.getElementById("dnsv6_EditHostName").value;if(""!=n){for(var o=0;o<Name_CheckList.length;o++)Name_CheckList[o]=null;for(var d=0,i=1;i<=Total_DynamicDNSIPv6Rules;i++)Name_CheckList[d]=e==i?n:t.rows[i].cells[1].childNodes[0].innerText,d++;for(var a=0;a<Name_CheckList.length;a++)if(n==Name_CheckList[a]){if(a==e-1)continue;return alert("Name cannot be the same."),"Error"}}var s=XMLEncode(document.getElementById("dnsv6_EditHostName").value),r=document.getElementById("dnsv6_EditIPAddress").value;return""==s||""==r?(alert("Error! Value cannot be null."),"Error"):((t=document.getElementById(TABLE_NAME)).rows[e].childNodes[1].childNodes[0].innerHTML=s,t.rows[e].childNodes[2].childNodes[0].innerHTML=r,check_TotalRule(Limit_TotalDynamicDNSIPv6Rules,Total_DynamicDNSIPv6Rules),"Success")}function deleteCurrentRow(e){if(changeTimeoutAction(),IsLoaded){var t=e.parentNode.parentNode,n=t.parentNode.parentNode,o=t.sectionRowIndex;deleteRows(new Array(t)),reorderRows(n,o),Total_DynamicDNSIPv6Rules-=1,check_TotalRule(Limit_TotalDynamicDNSIPv6Rules,Total_DynamicDNSIPv6Rules),save_button_changed()}}function deleteRows(e){if(IsLoaded)for(var t=0;t<e.length;t++){var n=e[t].sectionRowIndex;e[t].parentNode.deleteRow(n)}}function changeRowIndex(e){document.getElementById(TABLE_NAME).rows[e].childNodes[3].childNodes[0].onclick=function(){editData(e)}}function reorderRows(e,t){e=document.getElementById(TABLE_NAME);if(IsLoaded&&e.tBodies[0].rows[t])for(var n=t+ROW_BASE,o=t;o<e.tBodies[0].rows.length;o++)e.tBodies[0].rows[o].myRow.one.id=STATUS+n,e.tBodies[0].rows[o].myRow.two.id=HOST_NAME+n,e.tBodies[0].rows[o].myRow.three.id=IPV6_ADDRESS+n,changeRowIndex(n),n++}function check_TotalRule(e,t){var n=e-t;document.getElementById("RemainingRules").innerHTML=n,document.getElementById("createButton").disabled=0==n}