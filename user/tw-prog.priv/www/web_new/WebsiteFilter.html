<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3c.org/1999/xhtml"><head><title>D-LINK</title><meta http-equiv="cache-control" content="no-cache"><meta http-equiv="expires" content="0"><link rel="icon" href="/image/dlink-favicon.ico?v=1075792207"><link rel="shortcut icon" href="/image/favicon.ico?v=1075792207" type="image/x-icon"><meta http-equiv="X-UA-Compatible" content="IE=9"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="Content-Type" content="text/css"><link rel="stylesheet" type="text/css" href="/css/jquery.selectbox.css?v=1a58d5229c"><link rel="stylesheet" type="text/css" href="/css/jquery.checkbox.css?v=d4c74ef61d"><script type="text/javascript" charset="utf-8" src="/js/initialJQ.js?v=72051ca6ec"></script><script type="text/javascript" charset="utf-8" src="/js/initialJS.js?v=49978ee093"></script><script type="text/javascript" charset="utf-8" src="/js/initialCSS.js?v=668496d31b"></script><script type="text/javascript" charset="utf-8" src="/js/initialValidate.js?v=18ad6b1a1d"></script><script type="text/javascript" charset="utf-8" src="/js/WebsiteFilter.js?v=104724eca8"></script><link rel="stylesheet" type="text/css" href="css/style_pop.css?v=ebdc1ea095" media="all"><script type="text/javascript" charset="utf-8" src="/js/popView.js?v=28d8d08a05"></script><script type="text/javascript">top!=self&&(top.location=self.location),null===sessionStorage.getItem("PrivateKey")&&window.location.replace("../info/Login.html");var datalist,HNAP=new HNAP_XML,_ReciprocalRebootNumber=80,Limit_TotalFilterRules=24;function Load_HTML(){$("#header").load("header.html")}function Initial(){initialMenu(),initialDetectRouterConnection(),datalist=new Datalist}function GetXML(){HNAP.GetXMLAsync("GetWebFilterSettings",null,"GetValue",function(e){GetResult_1st(e)})}function GetResult_1st(e){if(null!=e){for(var t=e.Get("GetWebFilterSettingsResponse/WebFilterURLs/string#"),n=1;n<=t;n++){var i=e.Get("GetWebFilterSettingsResponse/WebFilterURLs/string:"+n),u=new Data(i);datalist.push(u)}switch(e.Get("GetWebFilterSettingsResponse/WebFilterMethod")){case"DENY":document.getElementById("filter_Website").options[0].selected=!0;break;case"ALLOW":document.getElementById("filter_Website").options[1].selected=!0}check_TotalRule(Limit_TotalFilterRules,datalist.length()),$("#filter_Website").selectbox({width:450}),document.getElementById("main").style.display="inline",$("select").change(function(){save_button_changed()}),$("input").keydown(function(){save_button_changed()}),$("input").change(function(){save_button_changed()})}else 1==DebugMode&&alert("[!!GetXML Error!!] Function: GetResult_1st")}function CheckConnectionStatus(){$.ajax({cache:!1,url:"./js/CheckConnection",timeout:5e3,type:"GET",success:function(e){SetXML()},error:function(){document.getElementById("DetectRouterConnection").style.display="inline"}})}function SetXML(){var e=I18N("j","Please wait")+" ...";PopView.show(e),HNAP.GetXMLAsync("SetWebFilterSettings",null,"GetXML",function(e){SetResult_1st(e)})}function SetResult_1st(e){if(null!=e){switch(document.getElementById("filter_Website").value){case"1":e.Set("SetWebFilterSettings/WebFilterMethod","DENY");break;case"2":e.Set("SetWebFilterSettings/WebFilterMethod","ALLOW")}e.Set("SetWebFilterSettings/NumberOfEntry",datalist.length());for(var t=0;t<datalist.length();t++)e.Set("SetWebFilterSettings/WebFilterURLs/string:"+(t+1),datalist.list[t].website);HNAP.SetXMLAsync("SetWebFilterSettings",e,function(e){SetResult_2nd(e)})}else 1==DebugMode&&alert("[!!SetXML Error!!] Function: SetResult_1st")}function SetResult_2nd(e){var t=e.Get("SetWebFilterSettingsResponse/SetWebFilterSettingsResult");if("OK"==t||"RESTART"==t){var n=I18N("j","Please wait")+" ...",i=I18N("j","The new settings have been saved.");PopView.showWithCountdown(n,currentDevice.okcount).always(function(){PopView.showConfirm(i).done(function(){waitSettingFinished()})})}else"ERROR"==t?(1==DebugMode&&alert("[!!SetXML Error!!] Function: SetResult_2nd"),window.location.reload()):"REBOOT"==t&&HNAP.GetXMLAsync("Reboot",null,"GetXML",function(e){SetResult_3rd(e)})}function SetResult_3rd(e){null!=e?HNAP.SetXMLAsync("Reboot",e,function(e){SetResult_4th(e)}):alert("An error occurred!")}function SetResult_4th(e){var t=e.Get("RebootResponse/RebootResult");if("OK"==t||"REBOOT"==t||"RESTART"==t){var n=I18N("j","Rebooting"),i=I18N("j","The new settings have been saved.");PopView.showWithCountdown(n,currentDevice.rebootcount).always(function(){PopView.showConfirm(i).done(function(){redirectPage(null)})})}"ERROR"==t&&(1==DebugMode&&alert("[!!SetXML Error!!] Function: SetResult_8th"),setTimeout("waitSettingFinished()",1e3))}function waitSettingFinished(){window.location.reload()}function Start_reciprocal_Number_Reboot(){0<=_ReciprocalRebootNumber?(document.getElementById("reciprocal_Number").innerHTML=_ReciprocalRebootNumber+" "+I18N("j","Sec"),_ReciprocalRebootNumber--,setTimeout("Start_reciprocal_Number_Reboot()",1e3)):redirectPage(null)}function addRowData(){var e=new Data(null);datalist.push(e)}function deleteData(e){datalist.deleteData(e),check_TotalRule(Limit_TotalFilterRules,datalist.length()),save_button_changed()}function createButton(){addRowData(),check_TotalRule(Limit_TotalFilterRules,datalist.length())}function save_button_changed(){document.getElementById("Save_Disable_btn").style.display="none",document.getElementById("Save_btn").style.display="block",changeFlag=!0,changeTimeoutAction()}function check_TotalRule(e,t){var n=e-t;0==(document.getElementById("RemainingRules").innerHTML=n)?$("#createButton").attr("class","styled_button_dis").prop("disabled",!0):$("#createButton").attr("class","styled_button_s").prop("disabled",!1)}$(document).ready(function(){Load_HTML(),Initial(),setMenu("menu_Advanced"),GetXML(),startTimeout(),$("#Save_btn").on("click",function(){changeTimeoutAction();var e=0;if($(".filterinput").each(function(){0==/^(((http|s?ftp):\/\/)||(null))(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test($(this).val())?($(this).closest("td").find("label").css({display:"block"}).html(I18N("j","Text field contains illegal characters.")),e+=1):$(this).closest("td").find("label").css({display:"none"})}),0<e)return!1;CheckConnectionStatus()})})</script></head><body><div id="wrapper"><div id="header"></div><div id="menu"></div><div id="menu_edge"></div><div id="content"><div id="info"><div id="FunctionName"><script>I18N("h","Website Filter")</script></div><div id="wall"><img id="page_WebsiteFilter" src="image/page_websiteFilter.png?v=b281661974" alt="" width="195" height="119"></div><div id="directions"><script>I18N("h","The website filters feature allows rules to be set that restrict access to a specified web address (URL) or blocks specified keywords in the URL. You can use Website Filter to restrict access to potentially harmful and inappropriate websites.")</script></div></div><div id="funcBar"><div id="pagePath"><script>I18N("h","Advanced")</script>&gt;&gt;<script>I18N("h","Website Filter")</script></div><ul id="rightFunc"><li style="display:block"><div id="Save_btn" style="cursor:pointer;display:none"><script>I18N("h","Save")</script></div></li><li style="display:block"><div id="Save_Disable_btn"><script>I18N("h","Save")</script></div></li></ul></div><div id="main" style="display:none"><table class="myTable" cellspacing="0"><tr><td><div class="styled-select"><select name="filter_Website" id="filter_Website"><option value="1">DENY clients access to ONLY these sites</option><option value="2">ALLOW clients access to ONLY these sites</option></select></div></td></tr></table><table class="mainTable" border="0" cellspacing="0" id="tblWebsiteFilter"><thead><tr><th style="width:800px"><script>I18N("h","Website URL/Domain")</script></th><th><script>I18N("h","Delete")</script></th></tr></thead><tbody></tbody></table><br><br><button type="button" name="createButton" id="createButton" class="styled_button_s" onclick="createButton(),save_button_changed()"><script>I18N("h","Add Rule")</script></button> &nbsp;&nbsp;<script>I18N("h","Remaining")</script>:&nbsp;<label id="RemainingRules">15</label><br></div><div id="CreatePopAlertMessage" style="display:none"><div id="AlertPopRect"><div id="AlertPopBody"><table class="myAlertPop_table_b" id="waitSettingFinish" border="0" cellspacing="0"><tbody><tr><td><center><div id="Loading_pop_image2"></div></center></td></tr><tr><td><label id="reciprocal_Number"></label></td></tr><tr><td id="dialog_msg_black2"><script>I18N("h","Your changes are being saved.")</script></td></tr></tbody></table></div></div></div><div id="DetectRouterConnection" style="display:none"></div><div id="footer"><div id="copyright"><script>I18N("h","COPYRIGHT")</script></div></div></div></div><div id="popalert" class="black_overlay" style="display:none"><div class="popup_window_border" style="position:relative;top:15%"><div class="popup_window"><div id="popalert_circle"><img src="image/loading.gif?v=082200f467" width="62px" height="62px"></div><div id="popalert_countdown"></div><div id="popalert_title" style="display:none"></div><div id="popalert_InformationIMG" style="display:none"></div><div id="popalert_desc"></div><div id="popalert_buttons" class="btn-group" role="group" aria-label="..."><button type="button" id="popalert_ok" class="btn btn-default"><script>I18N("h","OK")</script></button> <button type="button" id="popalert_cancel" class="btn btn-default"><script>I18N("h","Cancel")</script></button></div></div></div></div></body></html><!-- svn info: $Revision: 1186 $ $Date: 2018-11-27 17:17:02 +0800 (Tue, 27 Nov 2018) $ --> 
