<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3c.org/1999/xhtml"><head><title>D-LINK</title><meta http-equiv="cache-control" content="no-cache"><meta http-equiv="expires" content="0"><link rel="icon" href="/image/dlink-favicon.ico?v=1075792207"><link rel="shortcut icon" href="/image/favicon.ico?v=1075792207" type="image/x-icon"><meta http-equiv="X-UA-Compatible" content="IE=9"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="Content-Type" content="text/css"><link rel="stylesheet" type="text/css" href="/css/jquery.selectbox.css?v=1a58d5229c"><link rel="stylesheet" type="text/css" href="/css/jquery.checkbox.css?v=d4c74ef61d"><link rel="stylesheet" type="text/css" href="css/style_pages.css?v=99eab4966a" media="all"><script type="text/javascript" charset="utf-8" src="/js/initialJQ.js?v=72051ca6ec"></script><script type="text/javascript" charset="utf-8" src="/js/initialJS.js?v=49978ee093"></script><script type="text/javascript" charset="utf-8" src="/js/initialValidate.js?v=18ad6b1a1d"></script><script type="text/javascript" charset="utf-8" src="/js/commIPv6.js?v=41467a47cf"></script><script type="text/javascript" charset="utf-8" src="/js/SOAP/SOAPIPv6.js?v=39435b0a09"></script><script type="text/javascript" charset="utf-8" src="/js/SOAP/SOAPWanSettings.js?v=40ec20b96f"></script><script type="text/javascript" charset="utf-8" src="/js/ipv6/Internet_IPv6_trigger.js?v=94dbdc813e"></script><script type="text/javascript" charset="utf-8" src="/js/ipv6/ipv6_profile.js?v=78c939745f"></script><link rel="stylesheet" type="text/css" href="css/style_pop.css?v=ebdc1ea095" media="all"><script type="text/javascript" charset="utf-8" src="/js/popView.js?v=28d8d08a05"></script><style type="text/css">.v6input{width:330px}.styled-text{margin-right:10px}td{vertical-align:middle}</style><script>top!=self&&(top.location=self.location),null===sessionStorage.getItem("PrivateKey")&&window.location.replace("../info/Login.html"),$(document).ready(function(){Load_HTML(),Initial(),setMenu("menu_Settings"),startTimeout(),getWanStatus(),$("#pppoe_ReconnectMode").selectbox("detach").selectbox({width:340}),currentDevice.featureInternetVlan&&(document.getElementById("vlan").style.display="inline"),currentDevice.threeGFailover&&$("#internet_IPoE").show()})</script><script type="text/javascript">var ipv6_wan_type,ipv4_wan_type,changeFlag=0,_ReciprocalNumber=35,wanProfile=IPv6_linklocal_profile,soapAction=new SOAPAction,linklocalSettings=new SOAPGetIPv6LinkLocalOnlySettingsResponse,autodetectionSettings=new SOAPGetIPv6AutoDetectionSettingsResponse,staticSettings=new SOAPGetIPv6StaticSettingsResponse,autoconfigSettings=new SOAPGetIPv6AutoConfigurationSettingsResponse,pppoeSettings=new SOAPGetIPv6PppoeSettingsResponse,ipv6in4Settings=new SOAPGetIPv66in4TunnelSettingsResponse,ipv6to4Settings=new SOAPGetIPv66to4TunnelSettingsResponse,ipv6rdSettings=new SOAPGetIPv66rdTunnelSettingsResponse,ipv6Status=new SOAPGetIPv6StatusResponse;function Load_HTML(){$("#header").load("header.html")}function Initial(){initialMenu()}function initCSS(){$("#wanType_menu").show(),$("#advButton").show()}function getWanStatus(){var n=new SOAPGetWanStatusResponse,e="GetIPv6Status";currentDevice.featureIpv6HtmlLegacyWanStatus||(ipv6Status=new SOAPGetIPv6WanTypeResponse,e="GetIPv6WanType"),soapAction.sendSOAPAction(e,null,ipv6Status).then(function(){var t=$.Deferred();return soapAction.sendSOAPAction("GetWanStatus",null,n).done(function(){var e=new SOAPGetIPv6StatusResponse;currentDevice.featureIpv6HtmlLegacyWanStatus?t.resolve():soapAction.sendSOAPAction("GetIPv6Status",null,e).done(function(){ipv6Status.IPv6_LanLinkLocalAddress=e.IPv6_LanLinkLocalAddress,ipv6Status.IPv6_WanLinkLocalAddress=e.IPv6_WanLinkLocalAddress,t.resolve()})}),t.promise()}).then(function(){var e;switch(ipv6Status.IPv6_ConnectionType){case"IPv6_AutoDetection":e="autodetection";break;case"IPv6_Static":e="staticIPv6";break;case"IPv6_AutoConfiguration":e="autoconfiguration";break;case"IPv6_PPPoE":e="pppoe";break;case"IPv6_IPv6InIPv4Tunnel":e="6in4";break;case"IPv6_6To4":e="6to4";break;case"IPv6_6RD":e="6rd";break;default:e="linklocal"}var t=new SOAPGetWanSettingsResponse;soapAction.sendSOAPAction("GetWanSettings",null,t).done(function(){"connected"==n.Status.toLowerCase()&&showIPv4Addr(t),"DsLite"==(ipv4_wan_type=t.Type)&&($("#IPv6Type_6rd").hide(),$("#IPv6Type_linklocal").hide()),showLinkLocal(ipv6Status.IPv6_LanLinkLocalAddress),GetXML(e)})})}function GetXML(e){$("#connectionIPv6Type").val(e).selectbox("detach").selectbox({width:340});var t=selectSettings(e),n="";switch(e){case"autodetection":n="GetIPv6AutoDetectionSettings";break;case"staticIPv6":n="GetIPv6StaticSettings";break;case"autoconfiguration":n="GetIPv6AutoConfigurationSettings";break;case"pppoe":n="GetIPv6PppoeSettings";break;case"6in4":n="GetIPv66in4TunnelSettings";break;case"6to4":n="GetIPv66to4TunnelSettings";break;case"6rd":n="GetIPv66rdTunnelSettings";break;default:n="GetIPv6LinkLocalOnlySettings"}soapAction.sendSOAPAction(n,null,t).done(function(){"pppoe"==e&&(t.IPv6_PppoePassword=AES_Decrypt128(t.IPv6_PppoePassword)),showData(e),initCSS(),initSaveButtonTrigger(),initValidate()})}function setV6Profile(e){switch(e){case"autodetection":wanProfile=IPv6_Autodetection_profile;break;case"staticIPv6":wanProfile=IPv6_Static_profile;break;case"autoconfiguration":wanProfile=IPv6_Autoconfig_profile;break;case"pppoe":wanProfile=IPv6_PPPoE_profile;break;case"6in4":wanProfile=IPv6_6in4_profile;break;case"6to4":wanProfile=IPv6_6to4_profile;break;case"6rd":wanProfile=IPv6_6rd_profile;break;default:wanProfile=IPv6_linklocal_profile}}function selectSettings(e){var t;switch(e){case"autodetection":t=autodetectionSettings;break;case"staticIPv6":t=staticSettings;break;case"autoconfiguration":t=autoconfigSettings;break;case"pppoe":t=pppoeSettings;break;case"6in4":t=ipv6in4Settings;break;case"6to4":t=ipv6to4Settings;break;case"6rd":t=ipv6rdSettings;break;default:t=linklocalSettings}return t}function showLinkLocal(e){e=e.toUpperCase();$("#ipv6_lan_link_local_addr").html(e),$("#ipv6Tov4_LANIPv6LinkLocalAddress").html(e),$("#ipv6rd_LANIPv6LinkLocalAddress").html(e)}function showIPv4Addr(e){var t=e.Type,n=e.IPAddress;if("StaticPPTP"!=t&&"DynamicPPTP"!=t&&"StaticL2TP"!=t&&"DynamicL2TP"!=t||(""!=e.VPNLocalIPAddress?n=e.VPNLocalIPAddress:""!=e.VPNIPAddress&&(n=e.VPNIPAddress)),""!=n){$("#ipv6Inv4_LocalIPv4Address").html(n);var a=get6to4addr(n);$("#ipv6Tov4_Address").html(a),show6to4_lanip(a),$("#ipv6rd_IPv4Address").html(n)}}function showData(e){var t=selectSettings(e);switch(setV6Profile(e),e){case"staticIPv6":COMM_ToBOOL(t.IPv6_UseLinkLocalAddress)?$("#staticIPv6_useLinkLocalAddress").prop("checked",!0):$("#staticIPv6_useLinkLocalAddress").prop("checked",!1),$("#staticIPv6_IPv6Address").val(t.IPv6_Address),$("#staticIPv6_subnetPrefixLength").val(t.IPv6_SubnetPrefixLength),$("#staticIPv6_DefaultGateway").val(t.IPv6_DefaultGateway);break;case"pppoe":switch(t.IPv6_PppoeNewSession){case"SharedWithIPv4":$("#pppoe_Session").val("share").selectbox("detach").selectbox({width:340}),$("#pppoe_MTU").attr("disabled",!0);break;case"NewSession":$("#pppoe_Session").val("new").selectbox("detach").selectbox({width:340})}switch(t.IPv6_PppoeType){case"Dynamic":$("#pppoe_AddressMode").val("auto").selectbox("detach").selectbox({width:340});break;case"Static":$("#pppoe_AddressMode").val("manual").selectbox("detach").selectbox({width:340})}switch($("#pppoe_IPAddress").val(t.IPv6_PppoeStaticIp),$("#pppoe_Username").val(t.IPv6_PppoeUsername),$("#pppoe_Password").val(t.IPv6_PppoePassword),t.IPv6_PppoeReconnectMode){case"AlwaysOn":document.getElementById("pppoe_ReconnectMode").options[0].selected=!0,$("#pppoe_ReconnectMode").selectbox("detach").selectbox({width:340});break;case"Manual":document.getElementById("pppoe_ReconnectMode").options[1].selected=!0,$("#pppoe_ReconnectMode").selectbox("detach").selectbox({width:340})}$("#pppoe_MTU").val(t.IPv6_PppoeMTU),$("#pppoe_ServiceName").val(t.IPv6_PppoeServiceName),$("#pppoe_Session").selectbox("detach"),"DHCPPPPoE"==ipv4_wan_type||"StaticPPPoE"==ipv4_wan_type?(document.getElementById("pppoe_Session").options[0].style.display="block","NewSession"==t.IPv6_PppoeNewSession?$("#pppoe_Session").val("new"):$("#pppoe_Session").val("share")):($("#pppoe_Session").val("new"),document.getElementById("pppoe_Session").options[0].style.display="none"),$("#pppoe_Session").selectbox({width:340}),$("#pppoe_Session").selectbox("attach");break;case"6in4":$("#ipv6Inv4_RemoteIPv4Address").val(t.IPv6_6In4RemoteIPv4Address),$("#ipv6Inv4_RemoteIPv6Address").val(t.IPv6_6In4RemoteIPv6Address),$("#ipv6Inv4_LocalIPv6Address").val(t.IPv6_6In4LocalIPv6Address),$("#ipv6Inv4_SubnetPrefixLength").val(t.IPv6_6In4SubnetPrefixLength);break;case"6to4":var n=t.IPv6_6to4Address;""!=n&&($("#ipv6Tov4_Address").html(n),show6to4_lanip(n));var a=t.IPv6_6To4Relay;""!=a&&$("#ipv6Tov4_Relay").val(a),$("#ipv6to4_lanip").val(t.IPv6_6to4LanAddress);break;case"6rd":var o=COMM_ToBOOL(t.IPv6_6rdHubSpokeMode);switch($("#ipv6rd_EnableHubandSpokeMode").prop("checked",o),t.IPv6_6Rd_Configuration){case"DHCPv4_Option":$("#ipv6rd_DHCPv4Option").val("auto");break;case"Manual":$("#ipv6rd_DHCPv4Option").val("manual")}$("#ipv6rd_IPv6Prefix").val(t.IPv6_6Rd_IPv6Prefix),$("#ipv6rd_IPv6PrefixLength").val(t.IPv6_6Rd_IPv6PrefixLength),$("#ipv6rd_BorderRelay").val(t.IPv6_6Rd_BorderRelayIPv4Address),$("#ipv6rd_IPv4PrefixLength").val(t.IPv6_6Rd_MaskLength);var i=t.IPv6_AssignIPv6Prefix;""!=i&&$("#ipv6rd_AssignedIPv6Prefix").html(i),$("#ipv6rd_LANIPv6Address").html(t.IPv6_LanAddress);break;default:var s=COMM_ToBOOL(t.IPv6_LanUniqueLocalAddressStatus);$("#linklocal_EnableULA").prop("checked",s);var l=COMM_ToBOOL(t.IPv6_LanUniqueLocalAddressDefaultPrefix);$("#linklocal_UseDefaultULAPrefix").prop("checked",l);var v=t.IPv6_LanUniqueLocalAddressPrefix,r=t.IPv6_LanUniqueLocalAddressPrefixLength;$("#linklocal_ULAPrefix").val(v),""!=v?$("#linklocal_CurrentULAPrefix").html(v+"/"+r):$("#linklocal_CurrentULAPrefix").html(I18N("j","Not Available"));var c=t.IPv6_LanUniqueLocalAddress;""!=c?$("#linklocal_LanIPv6ULA").html(c+"/"+r):$("#linklocal_LanIPv6ULA").html(I18N("j","Not Available"))}if("linklocal"!=e){if(wanProfile.autoDNS)"automatic"==t.IPv6_ObtainDNS.toLowerCase()?$("#ipv6_dns_obtain").val("auto"):$("#ipv6_dns_obtain").val("manual");if($("#primaryDNS").val(t.IPv6_PrimaryDNS),$("#secondaryDNS").val(t.IPv6_SecondaryDNS),""==wanProfile.lanBlock){if(wanProfile.dhcpPD){var P=COMM_ToBOOL(t.IPv6_DhcpPd);$("#enable_pd").prop("checked",P),org_pppoe_enable_pd=P}$("#ipv6_lan_ip").val(t.IPv6_LanAddress).trigger("change")}var p,d=COMM_ToBOOL(t.IPv6_LanIPv6AddressAutoAssignment);if($("#enable_lan_autoconfig").prop("checked",d),wanProfile.dhcpPD){var _=COMM_ToBOOL(t.IPv6_LanAutomaticDhcpPd);$("#enable_lan_pd").prop("checked",_)}switch(t.IPv6_LanAutoConfigurationType.toLowerCase()){case"slaac_rdnss":p="rdnss";break;case"stateful":p="stateful";break;default:p="stateless"}$("#autoconfig_type").val(p),$("#dhcp_start").val(t.IPv6_LanIPv6AddressRangeStart),$("#dhcp_end").val(t.IPv6_LanIPv6AddressRangeEnd);var I=t.IPv6_LanRouterAdvertisementLifeTime;$("#ra_lifetime").val(I);var u=t.IPv6_LanDhcpLifeTime;$("#dhcp_lifetime").val(u)}internetV6_showGeneral(e)}function internetV6_showGeneral(e){switch($(".wanBlock").hide(),$(".dnsBlock").hide(),$(".lanBlock").hide(),$(".advanceBlock").hide(),$(".dnsBlock_auto").show(),$(".lanBlock_pd").show(),e){case"autodetection":case"autoconfiguration":break;case"staticIPv6":$("#wanBlock_static").show(),$("#staticIPv6_useLinkLocalAddress").trigger("change");break;case"pppoe":$("#wanBlock_PPPoE").show(),$("#pppoe_Session").trigger("change"),"Dynamic"==pppoeSettings.IPv6_PppoeType?($("#enable_pd").prop("checked",org_pppoe_enable_pd),$("#show_PPPoE_IP_Address").hide(),$(".lanBlock_pd").show()):($("#enable_pd").prop("checked",org_pppoe_enable_pd),$("#show_PPPoE_IP_Address").show(),$(".lanBlock_pd").hide());break;case"6in4":$("#wanBlock_6in4").show();break;case"6to4":$("#wanBlock_6to4").show();break;case"6rd":$("#wanBlock_6rd").show(),$("#ipv6rd_EnableHubandSpokeMode").trigger("change"),$("#ipv6rd_DHCPv4Option").trigger("change");break;default:$("#advanceBlock_linklocal").show(),$("#linklocal_EnableULA").trigger("change")}switch(0==wanProfile.autoDNS&&($(".dnsBlock_auto").hide(),$("#ipv6_dns_obtain").val("manual"),$("#enable_pd").prop("checked",!1)),wanProfile.lanBlock){case"6to4":$("#lanBlock_6to4").show();break;case"6rd":$("#lanBlock_6rd").show();break;case"linklocal":break;default:$("#lanBlock_genernal").show()}"linklocal"!=e&&($("#dnsBlock_genernal").show(),$("#advanceBlock_genernal").show(),0==wanProfile.dhcpPD&&$(".lanBlock_pd").hide()),$("#ipv6_dns_obtain").trigger("change"),$("#enable_pd").trigger("change"),$("#autoconfig_type").trigger("change"),$("#enable_lan_autoconfig").trigger("change"),ipv6_wan_type=e}function storeData(e,t){var n=$.Deferred();if(1==t){var a=I18N("j","Please wait")+" ...";PopView.show(a)}var o=$.makeArray(["primaryDNS","secondaryDNS","ra_lifetime","staticIPv6_IPv6Address","staticIPv6_subnetPrefixLength","staticIPv6_DefaultGateway","ipv6_lan_ip","dhcp_start","dhcp_end","dhcp_lifetime","pppoe_IPAddress","pppoe_MTU","ipv6Inv4_RemoteIPv4Address","ipv6Inv4_RemoteIPv6Address","ipv6Inv4_LocalIPv6Address","ipv6Inv4_SubnetPrefixLength","ipv6Tov4_Relay","ipv6to4_lanip","ipv6rd_IPv6Prefix","ipv6rd_IPv6PrefixLength","ipv6rd_IPv4PrefixLength","ipv6rd_BorderRelay","linklocal_ULAPrefix"]);$.map(o,function(e,t){$("#"+e).val(clearcode($("#"+e).val()))});var i=selectSettings(e);switch(e){case"staticIPv6":var s=$("#staticIPv6_useLinkLocalAddress").prop("checked");i.IPv6_UseLinkLocalAddress=BoolToEnable(s),s||(i.IPv6_Address=$("#staticIPv6_IPv6Address").val(),i.IPv6_SubnetPrefixLength=$("#staticIPv6_subnetPrefixLength").val()),i.IPv6_DefaultGateway=$("#staticIPv6_DefaultGateway").val();break;case"pppoe":var l=$("#pppoe_Session").val(),v=$("#pppoe_MTU").val();if("share"==l)i.IPv6_PppoeNewSession="SharedWithIPv4",v="";else{i.IPv6_PppoeNewSession="NewSession",i.IPv6_PppoeUsername=XMLEncode($("#pppoe_Username").val()),i.IPv6_PppoePassword=$("#pppoe_Password").val(),i.IPv6_PppoeServiceName=XMLEncode($("#pppoe_ServiceName").val());var r=$("#pppoe_ReconnectMode").val();i.IPv6_PppoeReconnectMode="1"==r?"AlwaysOn":"Manual"}"auto"==$("#pppoe_AddressMode").val()?i.IPv6_PppoeType="Dynamic":(i.IPv6_PppoeType="Static",i.IPv6_PppoeStaticIp=$("#pppoe_IPAddress").val()),i.IPv6_PppoeMTU=v;break;case"6in4":i.IPv6_6In4RemoteIPv4Address=$("#ipv6Inv4_RemoteIPv4Address").val(),i.IPv6_6In4RemoteIPv6Address=$("#ipv6Inv4_RemoteIPv6Address").val(),i.IPv6_6In4LocalIPv6Address=$("#ipv6Inv4_LocalIPv6Address").val(),i.IPv6_6In4SubnetPrefixLength=$("#ipv6Inv4_SubnetPrefixLength").val();break;case"6to4":var c=$("#ipv6Tov4_Relay").val();""==c&&(c="192.88.99.1"),i.IPv6_6To4Relay=c,i.IPv6_6to4LanAddress=$("#ipv6to4_lanip").val();break;case"6rd":switch(i.IPv6_6rdHubSpokeMode=BoolToEnable($("#ipv6rd_EnableHubandSpokeMode").prop("checked")),$("#ipv6rd_DHCPv4Option").val()){case"auto":i.IPv6_6Rd_Configuration="DHCPv4_Option";break;case"manual":i.IPv6_6Rd_Configuration="Manual",i.IPv6_6Rd_IPv6Prefix=$("#ipv6rd_IPv6Prefix").val(),i.IPv6_6Rd_IPv6PrefixLength=$("#ipv6rd_IPv6PrefixLength").val(),i.IPv6_6Rd_MaskLength=$("#ipv6rd_IPv4PrefixLength").val(),i.IPv6_6Rd_BorderRelayIPv4Address=$("#ipv6rd_BorderRelay").val()}break;default:var P=$("#linklocal_EnableULA").prop("checked");i.IPv6_LanUniqueLocalAddressStatus=BoolToEnable(P);var p=$("#linklocal_UseDefaultULAPrefix").prop("checked");i.IPv6_LanUniqueLocalAddressDefaultPrefix=BoolToEnable(p),p||(i.IPv6_LanUniqueLocalAddressPrefix=$("#linklocal_ULAPrefix").val())}if("linklocal"!=e){var d=!0;if(wanProfile.autoDNS)"auto"==$("#ipv6_dns_obtain").val()?d=!(i.IPv6_ObtainDNS="Automatic"):i.IPv6_ObtainDNS="Manual";if(d&&(i.IPv6_PrimaryDNS=$("#primaryDNS").val(),i.IPv6_SecondaryDNS=$("#secondaryDNS").val()),""==wanProfile.lanBlock){var _=!1;wanProfile.dhcpPD&&(_=$("#enable_pd").prop("checked"),i.IPv6_DhcpPd=BoolToEnable(_)),_||(i.IPv6_LanAddress=$("#ipv6_lan_ip").val())}var I=$("#enable_lan_autoconfig").prop("checked");if(i.IPv6_LanIPv6AddressAutoAssignment=BoolToEnable(I),wanProfile.dhcpPD){var u=$("#enable_lan_pd").prop("checked");i.IPv6_LanAutomaticDhcpPd=BoolToEnable(u)}var S=""==$("#ra_lifetime").val()?30:$("#ra_lifetime").val(),g=""==$("#dhcp_lifetime").val()?10800:$("#dhcp_lifetime").val();switch($("#autoconfig_type").val()){case"rdnss":i.IPv6_LanAutoConfigurationType="SLAAC_RDNSS",i.IPv6_LanRouterAdvertisementLifeTime=S;break;case"stateless":i.IPv6_LanAutoConfigurationType="SLAAC_StatelessDhcp",i.IPv6_LanRouterAdvertisementLifeTime=S;break;case"stateful":i.IPv6_LanAutoConfigurationType="Stateful",i.IPv6_LanIPv6AddressRangeStart=$("#dhcp_start").val(),i.IPv6_LanIPv6AddressRangeEnd=$("#dhcp_end").val(),i.IPv6_LanDhcpLifeTime=g}}return n.resolve(),n.promise()}function CheckConnectionStatus(t){$.ajax({cache:!1,url:"./js/CheckConnection",timeout:2e3,type:"GET",success:function(e){SetXML(t)},error:function(){document.getElementById("DetectRouterConnection").style.display="inline"}})}function SetXML(e){var t,n,a=I18N("j","Please wait")+" ...";PopView.show(a);var o=selectSettings(e);switch(e){case"autodetection":t=new SOAPSetIPv6AutoDetectionSettings,n="SetIPv6AutoDetectionSettings";break;case"staticIPv6":n="SetIPv6StaticSettings","Enable"==(t=new SOAPSetIPv6StaticSettings).IPv6_UseLinkLocalAddress&&(t.IPv6_Address="",t.IPv6_SubnetPrefixLength="");break;case"autoconfiguration":t=new SOAPSetIPv6AutoConfigurationSettings,n="SetIPv6AutoConfigurationSettings";break;case"pppoe":t=new SOAPSetIPv6PppoeSettings,n="SetIPv6PppoeSettings","SharedWithIPv4"==o.IPv6_PppoeNewSession&&(o.IPv6_PppoeUsername="",o.IPv6_PppoePassword=""),"Dynamic"==o.IPv6_PppoeType&&(o.IPv6_PppoeStaticIp=""),"AlwaysOn"==o.IPv6_PppoeReconnectMode&&(o.IPv6_PppoeMaxIdleTime="");break;case"6in4":t=new SOAPSetIPv66in4TunnelSettings,n="SetIPv66in4TunnelSettings";break;case"6to4":t=new SOAPSetIPv66to4TunnelSettings,n="SetIPv66to4TunnelSettings",""==o.IPv6_6To4Relay&&(o.IPv6_6To4Relay="192.88.99.1");break;case"6rd":t=new SOAPSetIPv66rdTunnelSettings,n="SetIPv66rdTunnelSettings","DHCPv4_Option"==o.IPv6_6Rd_Configuration&&(o.IPv6_6Rd_IPv6Prefix="",o.IPv6_6Rd_IPv6PrefixLength="",o.IPv6_6Rd_MaskLength="",o.IPv6_6Rd_BorderRelayIPv4Address="");break;case"linklocal":"Enable"==o.IPv6_LanUniqueLocalAddressDefaultPrefix&&(o.IPv6_LanUniqueLocalAddressPrefix=""),t=new SOAPSetIPv6LinkLocalOnlySettings,n="SetIPv6LinkLocalOnlySettings"}if(soapAction.copyObject(t,o),"linklocal"!=e)if(wanProfile.autoDNS&&"Automatic"==t.IPv6_ObtainDNS&&(t.IPv6_PrimaryDNS="",t.IPv6_SecondaryDNS=""),""==wanProfile.lanBlock&&wanProfile.dhcpPD&&"Enable"==t.IPv6_DhcpPd&&(t.IPv6_LanAddress=""),"Enable"==t.IPv6_LanIPv6AddressAutoAssignment)switch(t.IPv6_LanAutoConfigurationType){case"SLAAC_RDNSS":case"SLAAC_StatelessDhcp":t.IPv6_LanIPv6AddressRangeStart="",t.IPv6_LanIPv6AddressRangeEnd="",t.IPv6_LanDhcpLifeTime="";break;case"Stateful":t.IPv6_LanRouterAdvertisementLifeTime=""}else t.IPv6_LanAutomaticDhcpPd="Disable",t.IPv6_LanAutoConfigurationType="",t.IPv6_LanRouterAdvertisementLifeTime="",t.IPv6_LanDhcpLifeTime="",t.IPv6_LanIPv6AddressRangeStart="",t.IPv6_LanIPv6AddressRangeEnd="";soapAction.sendSOAPAction(n,t,null).done(function(e){"OK"==e.SetIPv6AutoDetectionSettingsResult||"OK"==e.SetIPv6StaticSettingsResult||"OK"==e.SetIPv6AutoConfigurationSettingsResult||"OK"==e.SetIPv6PppoeSettingsResult||"OK"==e.SetIPv66in4TunnelSettingsResult||"OK"==e.SetIPv66to4TunnelSettingsResult||"OK"==e.SetIPv66rdTunnelSettingsResult||"OK"==e.SetIPv6LinkLocalOnlySettingsResult||"RESTART"==e.SetIPv6AutoDetectionSettingsResult||"RESTART"==e.SetIPv6StaticSettingsResult||"RESTART"==e.SetIPv6AutoConfigurationSettingsResult||"RESTART"==e.SetIPv6PppoeSettingsResult||"RESTART"==e.SetIPv66in4TunnelSettingsResult||"RESTART"==e.SetIPv66to4TunnelSettingsResult||"RESTART"==e.SetIPv66rdTunnelSettingsResult||"RESTART"==e.SetIPv6LinkLocalOnlySettingsResult?setTimeout("Start_reciprocal_Number_RestoreConfiguration(false)",1e3):"REBOOT"==e.SetIPv6AutoDetectionSettingsResult||"REBOOT"==e.SetIPv6StaticSettingsResult||"REBOOT"==e.SetIPv6AutoConfigurationSettingsResult||"REBOOT"==e.SetIPv6PppoeSettingsResult||"REBOOT"==e.SetIPv66in4TunnelSettingsResult||"REBOOT"==e.SetIPv66to4TunnelSettingsResult||"REBOOT"==e.SetIPv66rdTunnelSettingsResult||"REBOOT"==e.SetIPv6LinkLocalOnlySettingsResult?setTimeout("Start_reciprocal_Number_RestoreConfiguration(true)",1e3):location.reload()})}function show6to4_lanip(e){var t=getPrefix(e,48);$("#ipv6to4_lanip_prefix").html(t)}function waitSettingFinished(){window.location.reload()}function Start_reciprocal_Number_RestoreConfiguration(e){var t=I18N("j","Please wait")+" ...",n=I18N("j","The new settings have been saved."),a=currentDevice.internetCountdown_IPv6,o=new SOAPAction;1==e&&(t=I18N("j","Your changes are being saved, and the device will need to reboot."),a=currentDevice.rebootcount,o.sendSOAPAction("Reboot",null,null)),PopView.showWithCountdown(t,a).always(function(){PopView.showConfirm(n).done(function(){location.reload()})})}function returnToHome(){window.location.reload()}function checkPPPoEMTU(e,t){var n=parseInt(t,10);(!/^[0-9]+$/.test(t)||""==t||n<=0||1492<n)&&(e.value="1492")}function IsChangeFlag(){changeFlag=1}function save_button_changed(){document.getElementById("Save_Disable_btn").style.display="none",document.getElementById("Save_btn").style.display="block",checkFlag=changeFlag=!0,changeTimeoutAction()}</script></head><body><form name="internet_form" id="internet_form" method="POST" action=""><div id="wrapper"><div id="header"></div><div id="menu"></div><div id="menu_edge"></div><div id="content"><div id="info"><div id="FunctionName"><script>I18N("h","IPv6")</script></div><div id="wall"><img src="image/page_IPv6.png?v=d1e5a4c29d" alt="" width="195" height="119"></div><div id="directions"><script>I18N("h","All of your IPv6 Internet and network connection details are displayed on this page.")</script></div></div><div id="funcBar"><div id="pagePath"><script>I18N("h","Settings")</script>&gt;&gt;<script>I18N("h","Internet")</script>&gt;&gt;<script>I18N("h","IPv6")</script></div><ul id="rightFunc"><li style="display:block"><div id="Save_btn" onclick='$("#internet_form").submit(),changeTimeoutAction()' style="cursor:pointer;display:none"><script>I18N("h","Save")</script></div></li><li style="display:block"><div id="Save_Disable_btn"><script>I18N("h","Save")</script></div></li><li style="display:block"><a href="javascript:CheckHTMLStatus('Internet');" style="text-decoration:none" onclick="return confirmExit()"><div id="page_btn" class="linkstyle_1"><script>I18N("h","IPv4")</script></div></a></li><li id="vlan" style="display:none"><a href="javascript:CheckHTMLStatus('Internet_VLAN');" style="text-decoration:none" onclick="return confirmExit()"><div id="page_btn" class="linkstyle_1"><script>I18N("h","VLAN")</script></div></a></li><li id="internet_IPoE" style="display:none"><a href="javascript:CheckHTMLStatus('Internet_IPoE');" style="text-decoration:none" onclick="return confirmExit()"><div id="page_btn" class="linkstyle_1"><script>I18N("h","IPoE")</script></div></a></li></ul></div><div id="main"><br><div><hr><table id="wanType_menu" class="block" style="display:none;margin-bottom:0"><tbody><tr><th><script>I18N("h","My Internet Connection is")</script>:</th><td><div class="styled-select"><select name="connectionIPv6Type" id="connectionIPv6Type"><option value="autodetection">Auto Detection</option><option value="staticIPv6">Static IPv6</option><option value="autoconfiguration">Auto Configuration (SLAAC/DHCPv6)</option><option value="pppoe">PPPoE</option><option value="6in4" style="display:none">IPv6 in IPv4 Tunnel</option><option value="6to4" style="display:none">6to4</option><option id="IPv6Type_6rd" value="6rd">6rd</option><option id="IPv6Type_linklocal" value="linklocal" selected="selected">Local Connectivity Only</option></select></div></td></tr></tbody></table></div><div id="wanBlock_static" class="wanBlock" style="display:none"><table class="block" style="margin-bottom:0"><tbody><tr><th><script>I18N("h","Use Link-Local Address")</script>:</th><td ondragstart="return!1" onselectstart="return!1"><input type="checkbox" class="chkbox" id="staticIPv6_useLinkLocalAddress"><label for="staticIPv6_useLinkLocalAddress"><span class="chkbox_disabled"><script>I18N("h","Disabled")</script></span><span class="chkbox_enabled"><script>I18N("h","Enabled")</script></span></label></td></tr><tr class="static_manual"><th><script>I18N("h","IPv6 Address")</script>:</th><td><input class="styled-text" type="text" name="staticIPv6_IPv6Address" size="30" style="width:330px" id="staticIPv6_IPv6Address"></td></tr><tr class="static_manual"><th><script>I18N("h","Subnet Prefix Length")</script>:</th><td><input class="styled-text" type="text" name="staticIPv6_subnetPrefixLength" size="2" style="width:50px" id="staticIPv6_subnetPrefixLength" maxlength="3"></td></tr><tr><th><script>I18N("h","Default Gateway")</script>:</th><td><input class="styled-text" type="text" name="staticIPv6_DefaultGateway" size="30" style="width:330px" id="staticIPv6_DefaultGateway"></td></tr></tbody></table></div><div id="wanBlock_PPPoE" class="wanBlock" style="display:none"><table class="block" style="margin-bottom:0"><tbody><tr><th><script>I18N("h","PPPoE Session")</script>:</th><td><div class="styled-select"><select name="pppoe_Session" id="pppoe_Session"><option value="share" selected="selected">Share with IPv4</option><option value="new">Create a new session</option></select></div></td></tr><tr class="pppoe_newSession" style="display:none"><th><script>I18N("h","Username")</script>:</th><td><input class="styled-text" type="text" name="pppoe_Username" size="30" id="pppoe_Username"></td></tr><tr class="pppoe_newSession" style="display:none"><th><script>I18N("h","Password")</script>:</th><td><input class="styled-text" type="text" name="pppoe_Password" size="30" id="pppoe_Password"></td></tr></tbody></table><table class="block"><tbody><tr><th><script>I18N("h","Address Mode")</script>:</th><td><div class="styled-select"><select name="pppoe_AddressMode" id="pppoe_AddressMode"><option value="auto" selected="selected">Dynamic IP</option><option value="manual">Static IP</option></select></div></td></tr><tr id="show_PPPoE_IP_Address" style="display:none"><th><script>I18N("h","IP Address")</script>:</th><td><input class="styled-text" type="text" name="pppoe_IPAddress" size="34" style="width:330px" id="pppoe_IPAddress"></td></tr><tr class="pppoe_newSession" style="display:none"><th><script>I18N("h","Service Name")</script>:</th><td><input class="styled-text" type="text" name="pppoe_ServiceName" size="30" id="pppoe_ServiceName"></td></tr><tr class="pppoe_newSession" style="display:none"><th><script>I18N("h","Reconnect Mode")</script>:</th><td><div class="styled-select"><select name="pppoe_ReconnectMode" id="pppoe_ReconnectMode"><option value="1" selected="selected">Always on</option><option value="2">Manual</option></select></div></td></tr><tr><th><script>I18N("h","MTU")</script>:</th><td><div><input class="styled-text" type="text" name="pppoe_MTU" size="7" id="pppoe_MTU" maxlength="4" value="1492" style="width:40px" onchange="checkPPPoEMTU(this,this.value)">&nbsp;&nbsp;<script>I18N("h","bytes")</script></div></td></tr></tbody></table></div><div id="wanBlock_6in4" class="wanBlock" style="display:none"><table class="block"><tbody><tr><th><script>I18N("h","Remote IPv4 Address")</script>:</th><td><input class="styled-text" type="text" name="ipv6Inv4_RemoteIPv4Address" size="15" id="ipv6Inv4_RemoteIPv4Address"></td></tr><tr><th><script>I18N("h","Remote IPv6 Address")</script>:</th><td><input class="styled-text" type="text" name="ipv6Inv4_RemoteIPv6Address" size="30" style="width:330px" id="ipv6Inv4_RemoteIPv6Address"></td></tr><tr><th><script>I18N("h","Local IPv4 Address")</script>:</th><td><label id="ipv6Inv4_LocalIPv4Address"><script>I18N("h","Not Available")</script></label></td></tr><tr><th><script>I18N("h","Local IPv6 Address")</script>:</th><td><input class="styled-text" type="text" name="ipv6Inv4_LocalIPv6Address" size="30" style="width:330px" id="ipv6Inv4_LocalIPv6Address"></td></tr><tr><th><script>I18N("h","Subnet Prefix Length")</script>:</th><td><input class="styled-text" type="text" name="ipv6Inv4_SubnetPrefixLength" size="2" maxlength="3" style="width:40px" id="ipv6Inv4_SubnetPrefixLength"></td></tr></tbody></table></div><div id="wanBlock_6to4" class="wanBlock" style="display:none"><table class="block" style="margin-bottom:0"><tr><th><script>I18N("h","6to4 Address")</script>:</th><td><label id="ipv6Tov4_Address"><script>I18N("h","Not Available")</script></label></td></tr><tr><th><script>I18N("h","6to4 Relay")</script>:</th><td><input class="styled-text" type="text" name="ipv6Tov4_Relay" size="30" id="ipv6Tov4_Relay" value="192.88.99.1"></td></tr></table></div><div id="wanBlock_6rd" class="wanBlock" style="display:none"><table class="block"><tr><th><script>I18N("h","Assign IPv6 Prefix")</script>:</th><td id="ipv6rd_AssignedIPv6Prefix"><script>I18N("h","Not Available")</script></td></tr></table></div><div class="dnsBlock" id="dnsBlock_genernal" style="display:none"><hr class="dnsBlock_auto"><table class="block"><tr class="dnsBlock_auto"><td colspan="2"><div class="title"><script>I18N("h","IPv6 DNS SETTINGS")</script></div></td></tr><tr class="dnsBlock_auto"><th><script>I18N("h","DNS Type")</script>:</th><td><div class="styled-select"><select name="ipv6_dns_obtain" id="ipv6_dns_obtain"><option value="auto" selected="selected">Obtain a DNS server address automatically</option><option value="manual">Use the following DNS address</option></select></div></td></tr><tr class="ipv6_dns" id="show_Primary_DNS_Server" style="display:none"><th><script>I18N("h","Primary DNS Server")</script>:</th><td><input class="styled-text v6input" type="text" name="primaryDNS" size="30" id="primaryDNS"></td></tr><tr class="ipv6_dns" id="show_Secondary_DNS_Server" style="display:none"><th><script>I18N("h","Secondary DNS Server")</script>:</th><td><input class="styled-text v6input" type="text" name="secondaryDNS" size="30" id="secondaryDNS"></td></tr></table></div><div class="lanBlock" id="lanBlock_genernal" style="display:none"><hr><table class="block"><tr><td colspan="2"><div class="title"><script>I18N("h","LAN IPv6 ADDRESS SETTINGS")</script></div></td></tr><tr class="lanBlock_pd"><th><script>I18N("h","Enable DHCP-PD")</script>:</th><td ondragstart="return!1" onselectstart="return!1"><input type="checkbox" class="chkbox" id="enable_pd"><label for="enable_pd"><span class="chkbox_disabled"><script>I18N("h","Disabled")</script></span><span class="chkbox_enabled"><script>I18N("h","Enabled")</script></span></label></td></tr><tr id="show_LAN_IPv6_Address" style="display:none"><th><script>I18N("h","LAN IPv6 Address")</script>:</th><td><div><input class="styled-text v6input" type="text" name="ipv6_lan_ip" size="34" id="ipv6_lan_ip">/64</div></td></tr><tr><th><script>I18N("h","LAN IPv6 Link-Local Address")</script>:</th><td><label id="ipv6_lan_link_local_addr"></label></td></tr></table></div><div class="lanBlock" id="lanBlock_6to4" style="display:none"><hr><table class="block" border="0" style="margin:10px 0 0 0"><tr><td colspan="2"><div class="title"><script>I18N("h","LAN IPv6 Address Settings")</script></div></td></tr><tr><th><script>I18N("h","LAN IPv6 Address")</script>:</th><td><div><label id="ipv6to4_lanip_prefix"></label><input class="styled-text" type="text" name="ipv6to4_lanip" size="5" maxlength="4" style="width:80px" id="ipv6to4_lanip">::1&nbsp;/64</div></td></tr><tr><th><script>I18N("h","LAN IPv6 Link-Local Address")</script>:</th><td><label id="ipv6Tov4_LANIPv6LinkLocalAddress"><script>I18N("h","Not Available")</script></label></td></tr></table></div><div class="lanBlock" id="lanBlock_6rd" style="display:none"><hr><table class="block" border="0" style="margin:10px 0 0 0"><tr><td colspan="2"><div class="title"><script>I18N("h","6RD MANUAL CONFIGURATION")</script></div></td></tr><tr><th><script>I18N("h","Enable Hub and Spoke Mode")</script>:</th><td ondragstart="return!1" onselectstart="return!1"><input type="checkbox" class="chkbox" id="ipv6rd_EnableHubandSpokeMode"><label for="ipv6rd_EnableHubandSpokeMode"><span class="chkbox_disabled"><script>I18N("h","Disabled")</script></span><span class="chkbox_enabled"><script>I18N("h","Enabled")</script></span></label></td></tr><tr><th><script>I18N("h","6rd Configuration")</script>:</th><td><div class="styled-select"><select name="ipv6rd_DHCPv4Option" id="ipv6rd_DHCPv4Option"><option value="auto" selected="selected">6rd DHCPv4 Option</option><option value="manual">Manual Configuration</option></select></div></td></tr><tr class="6rd_manual" style="display:none"><th><script>I18N("h","6rd IPv6 Prefix")</script>:</th><td><div><input class="styled-text" type="text" name="ipv6rd_IPv6Prefix" size="30" id="ipv6rd_IPv6Prefix"> /<input class="styled-text" type="text" name="ipv6rd_IPv6PrefixLength" size="2" maxlength="3" style="width:40px;margin-left:10px" id="ipv6rd_IPv6PrefixLength" value="32"></div></td></tr><tr class="6rd_manual" style="display:none"><th><script>I18N("h","WAN IPv4 Address")</script>:</th><td><label id="ipv6rd_IPv4Address"></label> /<input class="styled-text" type="text" name="ipv6rd_IPv4PrefixLength" size="2" maxlength="2" style="width:40px;margin-left:10px" id="ipv6rd_IPv4PrefixLength"></td></tr><tr class="6rd_manual" style="display:none"><th><script>I18N("h","6rd Border Relay IPv4 Address")</script>:</th><td><input class="styled-text" type="text" name="ipv6rd_BorderRelay" size="30" id="ipv6rd_BorderRelay"></td></tr></table><hr><table class="block" style="margin:10px 0 0 0"><tr><td colspan="2"><div class="title"><script>I18N("h","LAN IPv6 ADDRESS SETTINGS")</script></div></td></tr><tr><th><script>I18N("h","LAN IPv6 Address")</script>:</th><td><label id="ipv6rd_LANIPv6Address"><script>I18N("h","Not Available")</script></label></td></tr><tr><th><script>I18N("h","LAN IPv6 Link-Local Address")</script>:</th><td><label id="ipv6rd_LANIPv6LinkLocalAddress"><script>I18N("h","Not Available")</script></label></td></tr></table></div><div id="advButton" class="advButton" style="display:none"><span onclick='showAdv("advancedBlock")'><script>I18N("h","Advanced Settings")</script>...</span></div><div id="advancedBlock" style="display:none"><hr><div class="advanceBlock" id="advanceBlock_linklocal" style="display:none"><table class="block" border="0" style="margin:10px 0 0 0"><tbody><tr><td colspan="2"><div class="title"><script>I18N("h","IPv6 ULA SETTINGS")</script></div></td></tr><tr><th><script>I18N("h","Enable ULA")</script>:</th><td ondragstart="return!1" onselectstart="return!1"><input type="checkbox" class="chkbox" id="linklocal_EnableULA"><label for="linklocal_EnableULA"><span class="chkbox_disabled"><script>I18N("h","Disabled")</script></span><span class="chkbox_enabled"><script>I18N("h","Enabled")</script></span></label></td></tr><tr id="UseDefaultULAPrefix_tr"><th><script>I18N("h","Use Default ULA Prefix")</script>:</th><td ondragstart="return!1" onselectstart="return!1"><input type="checkbox" class="chkbox" id="linklocal_UseDefaultULAPrefix"><label for="linklocal_UseDefaultULAPrefix"><span class="chkbox_disabled"><script>I18N("h","Disabled")</script></span><span class="chkbox_enabled"><script>I18N("h","Enabled")</script></span></label></td></tr><tr id="ULAPrefix_tr"><th><script>I18N("h","ULA Prefix")</script>:</th><td><input class="styled-text" type="text" name="linklocal_ULAPrefix" size="34" style="width:300px" id="linklocal_ULAPrefix">/64</td></tr></tbody></table><hr><table class="block" style="margin:10px 0 0 0"><tbody><tr><td colspan="2"><div class="title"><script>I18N("h","CURRENT IPv6 ULA SETTINGS")</script></div></td></tr><tr><th><script>I18N("h","Current ULA Prefix")</script>:</th><td><label id="linklocal_CurrentULAPrefix"><script>I18N("h","Not Available")</script></label></td></tr><tr><th><script>I18N("h","LAN IPv6 ULA")</script>:</th><td><label id="linklocal_LanIPv6ULA"><script>I18N("h","Not Available")</script></label></td></tr></tbody></table></div><div class="advanceBlock" id="advanceBlock_genernal"><table class="block" style="margin:10px 0 0 0"><tr><td colspan="2"><div class="title"><script>I18N("h","ADDRESS AUTOCONFIGURATION SETTINGS")</script></div></td></tr><tr><th><script>I18N("h","Enable Automatic IPv6 Address Assignment")</script>:</th><td ondragstart="return!1" onselectstart="return!1"><input type="checkbox" class="chkbox" id="enable_lan_autoconfig"><label for="enable_lan_autoconfig"><span class="chkbox_disabled"><script>I18N("h","Disabled")</script></span><span class="chkbox_enabled"><script>I18N("h","Enabled")</script></span></label></td></tr><tr id="show_enable_lan_pd" class="lanBlock_pd"><th><script>I18N("h","Enable Automatic DHCP-PD in LAN")</script>:</th><td ondragstart="return!1" onselectstart="return!1"><input type="checkbox" class="chkbox" id="enable_lan_pd"><label for="enable_lan_pd"><span class="chkbox_disabled"><script>I18N("h","Disabled")</script></span><span class="chkbox_enabled"><script>I18N("h","Enabled")</script></span></label></td></tr><tr id="show_autoconfig_type"><th><script>I18N("h","Autoconfiguration Type")</script>:</th><td><div class="styled-select"><select name="autoconfig_type" id="autoconfig_type"><option value="rdnss">SLAAC+RDNSS</option><option value="stateless" selected="selected">SLAAC+Stateless DHCP</option><option value="stateful">Stateful DHCPv6</option></select></div></td></tr><tr class="lan_dhcp" style="display:none"><th><script>I18N("h","IPv6 Address Range (Start)")</script>:</th><td><label id="dhcp_prefix_start">xxxx::</label>00&nbsp;<input class="styled-text" type="text" name="dhcp_start" id="dhcp_start" size="2" maxlength="2" style="width:30px" value="3"></td></tr><tr class="lan_dhcp" style="display:none"><th><script>I18N("h","IPv6 Address Range (End)")</script>:</th><td><label id="dhcp_prefix_end">xxxx::</label>00&nbsp;<input class="styled-text" type="text" name="dhcp_end" id="dhcp_end" size="2" maxlength="2" style="width:30px" value="16"></td></tr><tr class="lan_dhcp2" style="display:none"><th><script>I18N("h","IPv6 Address Lifetime")</script>:</th><td><div><input class="styled-text" type="text" name="dhcp_lifetime" id="dhcp_lifetime" size="2" maxlength="5" style="width:40px" value="60"><script>I18N("h","minutes")</script></div></td></tr><tr class="lan_ra" style="display:table-row"><th><script>I18N("h","Router Advertisement Lifetime")</script>:</th><td><div><input class="styled-text" type="text" name="ra_lifetime" id="ra_lifetime" size="2" maxlength="4" style="width:40px" value="60"><script>I18N("h","minutes")</script></div></td></tr></table></div></div><div id="CreatePopAlertMessage" style="display:none"><hr><div id="AlertPopRect"><div id="AlertPopBody"><table class="myAlertPop_table_b" id="waitSettingFinish" border="0" cellspacing="0"><tbody><tr><td><center><div id="Loading_pop_image2"></div></center></td></tr><tr><td><label id="reciprocal_Number"></label></td></tr><tr><td id="dialog_msg_black2"><script>I18N("h","Your changes are being saved.")</script></td></tr></tbody></table><table class="myAlertPop_table_b" id="SuccessSettings" border="0" cellspacing="0" style="display:none"><tbody><tr><td><center><div id="Information_pop_image"></div></center></td></tr><tr><td><div id="dialog_msg_black"><script>I18N("h","The new settings have been saved.")</script></div></td></tr><tr><td><center><div id="Confirm_btn" onclick="returnToHome()" style="cursor:pointer"><script>I18N("h","OK")</script></div></center></td></tr></tbody></table></div></div></div></div></div><div id="DetectRouterConnection" style="display:none"></div><div id="footer"><div id="copyright"><script>I18N("h","COPYRIGHT")</script></div></div></div><div id="popalert" class="black_overlay" style="display:none"><div class="popup_window_border" style="position:relative;top:15%"><div class="popup_window"><div id="popalert_circle"><img src="image/loading.gif?v=082200f467" width="62px" height="62px"></div><div id="popalert_countdown"></div><div id="popalert_title" style="display:none"></div><div id="popalert_InformationIMG" style="display:none"></div><div id="popalert_desc"></div><div id="popalert_buttons" class="btn-group" role="group" aria-label="..."><button type="button" id="popalert_ok" class="btn btn-default"><script>I18N("h","OK")</script></button> <button type="button" id="popalert_cancel" class="btn btn-default"><script>I18N("h","Cancel")</script></button></div></div></div></div></form><script type="text/javascript" charset="utf-8">function initValidate(){$.validator.addMethod("checkIPv4PPPConnType",function(e,a){var r=!0,d=HNAP.GetXML("GetWanSettings").Get("GetWanSettingsResponse/Type"),t=document.getElementById("pppoe_Session").value,n="0";switch(d){case"DHCPPPPoE":case"StaticPPPoE":n="1";break;default:n="0"}return"1"==t&&"1"!=n&&(r=!1),r},jQuery.validator.messages.checkIPv4PPPConnType),$.validator.addMethod("checkIPv4DsLiteConnType",function(e,a){var r=!0,d=HNAP.GetXML("GetWanSettings").Get("GetWanSettingsResponse/Type"),t=document.getElementById("connectionIPv6Type").value,n="0";switch(d){case"DsLite":n="6in4"==t||"6to4"==t||"6rd"==t||"linklocal"==t?"1":"0";break;default:n="0"}return"DsLite"==d&&"1"==n&&(r=!1),r},jQuery.validator.messages.checkIPv4DsLiteConnType),$.validator.addMethod("checkLifetime",function(e,a){var r=!0;if(/^[0-9]+$/.test(e)){var d=parseInt(e,10);(d<=0||150<d)&&(r=!1)}else r=!1;return""==e&&(r=!0),r},I18N("j","Please enter a value between 1 and 150")),$.validator.addMethod("checkLifetime2",function(e,a){var r=!0;if(/^[0-9]+$/.test(e)){var d=parseInt(e,10);(d<=0||99999<d)&&(r=!1)}else r=!1;return""==e&&(r=!0),r},I18N("j","Please enter a value between 1 and 99999")),$.validator.addMethod("checkHEXValue",function(e,a){return!(!/^[a-fA-F0-9]+$/.test(e)||0==parseInt(e))},I18N("j","err_hex_Range")),$.validator.addMethod("checkHEXChar",function(e,a){return!!/^[a-fA-F0-9]+$/.test(e)},jQuery.validator.messages.check_IllegalChar),$.validator.addMethod("compareHEXValue",function(e,a){var r=!0,d=parseInt($("#dhcp_start").val(),16),t=parseInt($("#dhcp_end").val(),16);return(t<d||d==t)&&(r=!1),r},I18N("j","End range must be greater than the start range")),$.validator.addMethod("checkIPv6Format",function(e,a,r){var d=COMM_V6Format(e);return""==e&&(d=!0),d},I18N("j","Please enter a valid IPv6 address.")),$.validator.addMethod("checkIPv6Network",function(e,a,r){var d=parseInt($("#"+r.plen).val());return""==e||""==$("#"+r.id).val()||isNaN(d)||"staticIPv6"==$("#connectionIPv6Type").val()&&1==$("#staticIPv6_useLinkLocalAddress").prop("checked")||(COMM_IPv6NETWORK(e,d),COMM_IPv6NETWORK($("#"+r.id).val(),d)),!0},I18N("j","The IP address is used. Please check the IP address of your default gateway.")),$.validator.addMethod("checkIPv6NetworkFormat",function(e,a,r){return!!/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/.test(e)&&(!/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})))))(%.+)?\s*$/.test(e)&&!!COMM_ValidV6Prefix(e,!0))},""),$.validator.addMethod("checkIPv6PrefixLengthFormat",function(e,a,r){var d=parseInt(e);if(isNaN(d))return!1;if(d<=0||128<d)return!1;if("ipv6rd_IPv6PrefixLength"==a.id){if(d<32||64<d)return!1;var t=document.getElementById("ipv6rd_IPv4PrefixLength").value;if(""!=t&&32<d-parseInt(t))return!1}return!0},I18N("j","Please enter a valid prefix length. (e.g. 64)")),$.validator.addMethod("checkIPv4PrefixLengthFormat",function(e,a,r){var d=parseInt(e);if(isNaN(d))return!1;if(d<=0||128<d)return!1;if("ipv6rd_IPv4PrefixLength"==a.id){if(d<0||32<d)return!1;var t=document.getElementById("ipv6rd_IPv6PrefixLength").value;if(""!=t&&32<parseInt(t)-d)return!1}return!0},I18N("j","Please enter a valid prefix length. (e.g. 32)")),$.validator.addMethod("checkIPv6ValidValue",function(e,a,r){var d=!0;return"staticIPv6_IPv6Address"!=a.id&&"staticIPv6_DefaultGateway"!=a.id||(d=!$("#staticIPv6_useLinkLocalAddress").prop("checked")),COMM_ValidV6Format(e,d)},I18N("j","Please enter a valid IPv6 address.")),$.validator.addMethod("checkSecondaryIPv6Format",function(e,a){var r=!0;return""!=e&&(r=COMM_V6Format(e)),r},I18N("j","Please enter a valid IPv6 address.")),$.validator.addMethod("checkIPv6WanLanConflict",function(e,a,r){var d=null,t=document.getElementById("ipv6_lan_ip"),n=null,i=!0;switch($("#connectionIPv6Type").val()){case"staticIPv6":d=document.getElementById("staticIPv6_IPv6Address"),n=document.getElementById("staticIPv6_DefaultGateway");break;case"pppoe":d=document.getElementById("pppoe_IPAddress");break;case"6in4":d=document.getElementById("ipv6Inv4_LocalIPv6Address");break;default:return!0}var s=function(e){for(var a=0;a<e.length;a++)if(e[a]!=c[a])return!0;return!1},v=COMM_IPv6NETWORK(d.value,64),c=COMM_IPv6NETWORK(t.value,64);if(null==n)i=s(v);else{var o=COMM_IPv6NETWORK(n.value,64);"gw"!=r&&(i=s(v)),"wan"!=r&&(i&=s(o))}return i},I18N("j","err_wan_lan_conflict")),$.validator.addMethod("check6to4RelayFormat",function(e,a){return COMM_ValidV4Format(e)&&COMM_ValidV4Addr(e)?returnVal=!0:returnVal=!1,returnVal},I18N("j","Please enter a valid IP address. (e.g. %s)","192.88.99.1")),$.validator.addMethod("checkIPFormat",function(e,a){return COMM_ValidV4Format(e)&&COMM_ValidV4Addr(e)?returnVal=!0:returnVal=!1,returnVal},I18N("j","Please enter a valid IP address.")),$.validator.addMethod("checkMTU",function(e,a){return!(!COMM_IsInteger(e)||e<1280||1492<e)},I18N("j","The MTU value should be 1280 ~ 1492.")),$.validator.addMethod("checkMulticast",function(e,a){var r=!0;if(""!=e&&"autoconfiguration"==$("#connectionIPv6Type").val()){var d=COMM_IPv6ADDR2INT(e);65280==d[0]&&0==d[1]&&0==d[2]&&0==d[3]&&0==d[4]&&0==d[5]&&0==d[6]&&1==d[7]&&(r=!1)}return r},I18N("j","Please enter a valid IPv6 address.")),$("#internet_form").validate({rules:{primaryDNS:{required:!0,checkIPv6Format:!0,checkMulticast:!0},secondaryDNS:{required:!1,checkSecondaryIPv6Format:!0},staticIPv6_IPv6Address:{required:!0,checkIPv6Format:!0,checkIPv6ValidValue:!0,checkIPv6Network:{id:"staticIPv6_DefaultGateway",plen:"staticIPv6_subnetPrefixLength"},checkIPv6WanLanConflict:"wan"},staticIPv6_DefaultGateway:{required:!0,checkIPv6Format:!0,checkIPv6ValidValue:!0,checkIPv6Network:{id:"staticIPv6_IPv6Address",plen:"staticIPv6_subnetPrefixLength"},checkIPv6WanLanConflict:"gw"},staticIPv6_subnetPrefixLength:{required:!0,checkIPv6PrefixLengthFormat:!0},ipv6_lan_ip:{required:!0,checkIPv6Format:!0,checkIPv6ValidValue:!0,checkIPv6WanLanConflict:"lan"},pppoe_IPAddress:{required:!0,checkIPv6Format:!0,checkIPv6ValidValue:!0,checkIPv6WanLanConflict:"wan"},ipv6Inv4_RemoteIPv6Address:{required:!0,checkIPv6Format:!0},ipv6Inv4_LocalIPv6Address:{required:!0,checkIPv6Format:!0,checkIPv6WanLanConflict:"wan"},ipv6Tov4_Relay:{required:!0,check6to4RelayFormat:!0},ipv6to4_lanip:{required:!0,checkHEXChar:!0},ipv6rd_IPv6Prefix:{required:!0,checkIPv6NetworkFormat:!0},ipv6rd_LANIPv6Address:{required:!0,checkIPv6Format:!0},linklocal_ULAPrefix:{required:!0,checkIPv6NetworkFormat:!0},ipv6Inv4_RemoteIPv4Address:{required:!0,checkIPFormat:!0},ipv6rd_BorderRelay:{required:!0,checkIPFormat:!0},dhcp_start:{required:!0,checkHEXValue:!0},dhcp_end:{required:!0,checkHEXValue:!0,compareHEXValue:!0},ipv6Inv4_SubnetPrefixLength:{required:!0,checkIPv6PrefixLengthFormat:!0},pppoe_Username:{required:!0},pppoe_Password:{required:!0},ipv6rd_IPv4PrefixLength:{required:!0,checkIPv4PrefixLengthFormat:!0},ipv6rd_IPv6PrefixLength:{required:!0,checkIPv6PrefixLengthFormat:!0},dhcp_lifetime:{checkLifetime2:!0},ra_lifetime:{checkLifetime:!0},pppoe_MTU:{checkMTU:!0}},groups:{static_ip:"staticIPv6_IPv6Address staticIPv6_DefaultGateway ipv6_lan_ip",pppoe_ip:"pppoe_IPAddress ipv6_lan_ip",sixin4_ip:"ipv6Inv4_LocalIPv6Address ipv6_lan_ip"},messages:{primaryDNS:{required:I18N("j","Please enter an IPv6 address.")},secondaryDNS:{required:I18N("j","Please enter an IPv6 address.")},ipv6_lan_ip:{required:I18N("j","Please enter an IPv6 address.")},staticIPv6_IPv6Address:{required:I18N("j","Please enter an IPv6 address.")},staticIPv6_DefaultGateway:{required:I18N("j","Please enter an IPv6 address.")},staticIPv6_subnetPrefixLength:{required:I18N("j","Please enter a valid prefix length. (e.g. 64)")},pppoe_IPAddress:{required:I18N("j","Please enter an IPv6 address.")},ipv6Inv4_RemoteIPv6Address:{required:I18N("j","Please enter an IPv6 address.")},ipv6Inv4_LocalIPv6Address:{required:I18N("j","Please enter an IPv6 address.")},ipv6to4_lanip:{required:I18N("j","Please enter an IPv6 address.")},ipv6rd_IPv6Prefix:{required:I18N("j","Please enter an IPv6 address."),checkIPv6NetworkFormat:I18N("j","Please enter a valid destination network IP address. (e.g. 2001::)")},ipv6rd_LANIPv6Address:{required:I18N("j","Please enter an IPv6 address.")},linklocal_ULAPrefix:{required:I18N("j","Please enter prefix for IPv6 ULA address"),checkIPv6NetworkFormat:I18N("j","Please enter valid prefix for IPv6 ULA address")},ipv6Inv4_RemoteIPv4Address:{required:jQuery.validator.messages.ip},ipv6rd_BorderRelay:{required:jQuery.validator.messages.ip},dhcp_start:{required:I18N("j","err_hex_Range")},dhcp_end:{required:I18N("j","err_hex_Range")},ipv6Inv4_SubnetPrefixLength:{required:jQuery.validator.messages.prefix_Length},pppoe_Username:{required:jQuery.validator.messages.check_UserName},pppoe_Password:{required:jQuery.validator.messages.check_Password},ipv6rd_IPv4PrefixLength:{required:I18N("j","Please enter a valid prefix length. (e.g. 32)")},ipv6rd_IPv6PrefixLength:{required:jQuery.validator.messages.prefix_Length}},submitHandler:function(e){var a=$("#connectionIPv6Type").val();storeData(a,!0).done(function(){CheckConnectionStatus(a)})},errorPlacement:function(e,a){var r=a.parent("div");if(0==r.length)r=a;else{var d=r.next(".error");0<d.length&&(r=d.last())}e.insertAfter(r).css({color:"#f00","font-size":"14px","font-weight":"normal"})},skipBr:function(e){var a=!1,r=e.parent("div"),d=$(e).attr("id");(0!=r.length&&(a=!0),"ipv6rd_IPv6Prefix"==d||"ipv6rd_IPv6PrefixLength"==d)&&(0<r.next(".error").length&&$(r.next(".error")[0]).attr("for")!=d&&(a=!1));return a}})}</script></body></html><!-- svn info: $Revision: 1257 $ $Date: 2019-01-11 19:31:41 +0800 (Fri, 11 Jan 2019) $ --> 
