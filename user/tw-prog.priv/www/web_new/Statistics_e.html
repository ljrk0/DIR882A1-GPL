<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3c.org/1999/xhtml"><head><title>D-LINK</title><meta http-equiv="cache-control" content="no-cache"><meta http-equiv="expires" content="0"><link rel="icon" href="/image/dlink-favicon.ico?v=1075792207"><link rel="shortcut icon" href="/image/favicon.ico?v=1075792207" type="image/x-icon"><meta http-equiv="X-UA-Compatible" content="IE=9"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="Content-Type" content="text/css"><link rel="stylesheet" type="text/css" href="/css/jquery.checkbox.css?v=d4c74ef61d"><link rel="stylesheet" type="text/css" href="/css/style_pages.css?v=99eab4966a" media="all"><script type="text/javascript" charset="utf-8" src="/js/initialJQ.js?v=72051ca6ec"></script><script type="text/javascript" charset="utf-8" src="/js/initialJS.js?v=49978ee093"></script><script type="text/javascript" charset="utf-8" src="/js/RGraph.common.core.js?v=cf48981ebd"></script><script type="text/javascript" charset="utf-8" src="/js/RGraph.line.js?v=39bbd1b38c"></script><script type="text/javascript" charset="utf-8" src="/js/excanvas.js?v=98bc4d8d06"></script><script type="text/javascript" charset="utf-8" src="/js/SOAP/SOAPStatistic.js?v=5b33d8cc41"></script><script type="text/javascript">top!=self&&(top.location=self.location),null===sessionStorage.getItem("PrivateKey")&&window.location.replace("../info/Login.html");var soapAction=new SOAPAction,statisticObj={},rateObj={},nowTab="LAN",cvs_column=0;function LoadHeader(){$("#header").load("header.html")}function initRate(){rateObj.LAN=new RateInfo,rateObj.WLAN_UP=new RateInfo,currentDevice.featureLegacyExtender&&(rateObj["WLAN2.4G"]=new RateInfo,rateObj.WLAN5G=new RateInfo)}function RateInfo_Detail(){this.rate=0,this.last_byte=0,this.array=RGraph.array_pad([],17),this.avg=0,this.pkt=0}function RateInfo(){this.tx_detail=new RateInfo_Detail,this.rx_detail=new RateInfo_Detail,this.top_rate=100,this.session=0}function SwitchTab(t){switch($("#lan_tab, #wifi_tab, #ext_wifi_tab, #ext_wifi_5g_tab").removeClass("select"),t){case"lan_tab":nowTab="LAN";break;case"wifi_tab":nowTab="WLAN_UP";break;case"ext_wifi_tab":nowTab="WLAN2.4G";break;case"ext_wifi_5g_tab":nowTab="WLAN5G"}$("#"+t).addClass("select"),SetRateRange(),showStatistics(),DrawGraph(),changeTimeoutAction()}function DrawLine(t){new RGraph.Line(t,RGraph.array_pad([])).Draw()}function GetStatistics(){var t=new SOAPGetInterfaceStatistics,e=new SOAPGetInterfaceStatisticsResponse;t.Interface="LAN";var a=new SOAPGetInterfaceStatistics,r=new SOAPGetInterfaceStatisticsResponse;a.Interface="WLAN2.4G";var n=new SOAPGetInterfaceStatistics,i=new SOAPGetInterfaceStatisticsResponse;n.Interface="WLAN2.4G_UP";var s=new SOAPGetInterfaceStatistics,c=new SOAPGetInterfaceStatisticsResponse;s.Interface="WLAN5G";var o=new SOAPGetInterfaceStatistics,l=new SOAPGetInterfaceStatisticsResponse;o.Interface="WLAN5G_UP",soapAction.SetMultipleSOAP("GetInterfaceStatistics",t,e),currentDevice.featureLegacyExtender&&soapAction.SetMultipleSOAP("GetInterfaceStatistics",a,r),soapAction.SetMultipleSOAP("GetInterfaceStatistics",n,i),currentDevice.featureLegacyExtender&&soapAction.SetMultipleSOAP("GetInterfaceStatistics",s,c),soapAction.SetMultipleSOAP("GetInterfaceStatistics",o,l),soapAction.SendMultipleSOAPAction("GetMultipleHNAPs").done(function(t){for(var e in t[0].outputObj){var a=t[0].outputObj[e];statisticObj[a.Interface]=a.InterfaceStatistics.StatisticInfo[0]}cvs_column<17&&cvs_column++,getRateObj("LAN"),getRateObj("WLAN_UP"),currentDevice.featureLegacyExtender&&(getRateObj("WLAN2.4G"),getRateObj("WLAN5G")),SetRateRange(),DrawGraph(),showStatistics()}),setTimeout("GetStatistics()",1e3)}function number_format(t){var e=(t+="").split(".");return e[0].replace(/(\d{1,3})(?=(\d{3})+$)/g,"$1,")+(2==e.length?"."+e[1]:"")}function showStatistics(){$("#tx_pkt_info").html(number_format(rateObj[nowTab].tx_detail.pkt)),$("#tx_byte_info").html(number_format(rateObj[nowTab].tx_detail.last_byte)),$("#tx_rate_info").html(number_format(Math.round(rateObj[nowTab].tx_detail.avg))),$("#rx_pkt_info").html(number_format(rateObj[nowTab].rx_detail.pkt)),$("#rx_byte_info").html(number_format(rateObj[nowTab].rx_detail.last_byte)),$("#rx_rate_info").html(number_format(Math.round(rateObj[nowTab].rx_detail.avg))),$("#session_info").html(rateObj[nowTab].session)}function caculateRateObj(t,e){0<t.last_byte?t.rate=Math.ceil(e/1024)-t.last_byte:t.rate=0,t.last_byte=Math.ceil(e/1024),t.rate<0&&(t.rate=0),t.array=[t.rate].concat(t.array);var a=t.array.pop();t.avg=cvs_column<=1?t.array[0]:null==a?(t.avg*(cvs_column-1)+t.array[0])/cvs_column:(t.avg*cvs_column+t.array[0]-a)/cvs_column}function getRateObj(t){var e=0,a=0;"WLAN_UP"==t?(rateObj[t].rx_detail.pkt=parseInt(statisticObj["WLAN2.4G_UP"].RXPackets)+parseInt(statisticObj.WLAN5G_UP.RXPackets),e=parseInt(statisticObj["WLAN2.4G_UP"].Received)+parseInt(statisticObj.WLAN5G_UP.Received),rateObj[t].tx_detail.pkt=parseInt(statisticObj["WLAN2.4G_UP"].TXPackets)+parseInt(statisticObj.WLAN5G_UP.TXPackets),a=parseInt(statisticObj["WLAN2.4G_UP"].Sent)+parseInt(statisticObj.WLAN5G_UP.Sent)):(rateObj[t].rx_detail.pkt=parseInt(statisticObj[t].RXPackets),e=parseInt(statisticObj[t].Received),rateObj[t].tx_detail.pkt=parseInt(statisticObj[t].TXPackets),a=parseInt(statisticObj[t].Sent)),caculateRateObj(rateObj[t].rx_detail,e),caculateRateObj(rateObj[t].tx_detail,a),InitTopRate(t)}function DrawGraph(){RGraph.Clear(document.getElementById("cvs_table")),RGraph.ObjectRegistry.Clear(),rateObj[nowTab].tx_detail.array=reverse(rateObj[nowTab].tx_detail.array),rateObj[nowTab].rx_detail.array=reverse(rateObj[nowTab].rx_detail.array);var t=new RGraph.Line("cvs_table",rateObj[nowTab].tx_detail.array);t.Set("chart.colors",["blue"]),t.Set("chart.linewidth",2),t.Set("chart.filled",!1),t.Set("chart.fillstyle","rgba(0,0,128,0)"),t.Set("chart.ymax",rateObj[nowTab].top_rate),t.Set("chart.outofbounds",!0),t.Set("chart.numxticks",5);var e=new RGraph.Line("cvs_table",rateObj[nowTab].rx_detail.array);e.Set("chart.colors",["red"]),e.Set("chart.linewidth",2),e.Set("chart.filled",!1),e.Set("chart.fillstyle","rgba(255,0,0,0)"),e.Set("chart.ymax",rateObj[nowTab].top_rate),e.Set("chart.outofbounds",!0),e.Set("chart.numxticks",5),t.Draw(),e.Draw(),rateObj[nowTab].tx_detail.array=reverse(rateObj[nowTab].tx_detail.array),rateObj[nowTab].rx_detail.array=reverse(rateObj[nowTab].rx_detail.array)}function InitTopRate(t){var e=rateObj[t].rx_detail.array.slice(0);e.sort(function(t,e){return t-e});var a=e[e.length-1]+Math.round(e[e.length-1]/10);a<=100&&(a=100);var r=rateObj[t].tx_detail.array.slice(0);r.sort(function(t,e){return t-e});var n=r[r.length-1]+Math.round(r[r.length-1]/10);n<=100&&(n=100),rateObj[t].top_rate=Math.max(a,n)}function SetRateRange(){var t=rateObj[nowTab].top_rate;$("#info_rate1").html(t+" KB/s"),$("#info_rate2").html(parseInt(3*t/4)+" KB/s"),$("#info_rate3").html(parseInt(t/2)+" KB/s"),$("#info_rate4").html(parseInt(1*t/4)+" KB/s")}function reverse(t){for(var e=new Array,a=t.length-1;0<=a;a--)e.push(t[a]);return e}function GetMaxRate(t){for(var e=0,a=t.length-1;0<=a;a--)t[a]>e&&(e=t[a]);return e}function ClearStatistics(){changeTimeoutAction(),(new SOAPAction).sendSOAPAction("ClearStatistics",null)}$(document).ready(function(){LoadHeader(),initialMenu(),initialDetectRouterConnection(),setMenu("menu_Management"),DrawLine("cvs_table"),initRate(),GetStatistics(),$("#lan_tab").addClass("select"),startTimeout(),currentDevice.featureLegacyExtender&&($("#ext_wifi_tab").show(),$("#ext_wifi_5g_tab").show())})</script><style>*{box-sizing:initial}#main{font:11pt/normal Arial;font-size-adjust:none;font-stretch:normal;margin-top:20px}</style></head><body><div id="wrapper"><div id="header"></div><div id="menu"></div><div id="menu_edge"></div><div id="content"><div id="info"><div id="FunctionName"><script>I18N("h","Statistics")</script></div><div id="wallimage"><img width="195" height="119" src="image/page_Statistic.png?v=4f5562156f"></div><div id="directions"><script>I18N("h","This page gives you various statistics about data transmitted and received by your router through the Internet, on your wired network (LAN), and through your wireless networks.")</script></div></div><div id="funcBar"><div id="pagePath"><script>I18N("h","Management")</script>&gt;&gt;<script>I18N("h","Statistics")</script></div><ul id="rightFunc"><li style="display:block"><div id="Save_btn" onclick="ClearStatistics()" style="cursor:pointer"><script>I18N("h","Clear")</script></div></li><li style="display:block"><div id="Save_Disable_btn" style="display:none"><script>I18N("h","Clear")</script></div></li></ul></div><div id="main"><div id="tab_switch"><ul class="nav-tabs_stats"><li id="lan_tab" onclick='SwitchTab("lan_tab")'><a><script>I18N("h","LAN")</script></a></li><li id="wifi_tab" onclick='SwitchTab("wifi_tab")'><a><script>I18N("h","Wi-Fi")</script></a></li><li id="ext_wifi_tab" onclick='SwitchTab("ext_wifi_tab")' style="display:none"><a><script>I18N("h","2.4GHz Extended Wi-Fi")</script></a></li><li id="ext_wifi_5g_tab" onclick='SwitchTab("ext_wifi_5g_tab")' style="display:none"><a><script>I18N("h","5GHz Extended Wi-Fi")</script></a></li></ul></div><div id="chart_section"><table class="" ondragstart="return!1" onselectstart="return!1"><tbody><tr><td><canvas id="cvs_table" width="750" height="300">[No canvas support]</canvas></td></tr></tbody></table></div><div class="sta_unit" id="wf_unit"><script>I18N("h","Sec")</script></div><center><div id="NotSupport_Message" style="display:none"><label style="color:red"><script>I18N("h","Information: Your browser is not support HTML5, please upgrade your browser.")</script></label></div></center><div><table id="statistic_info" bordercolor="#66b2c2" border="0" width="800" style="border-collapse:collapse"><tr><td></td><td><font color="#4598aa"><script>I18N("h","Total Packets")</script></font></td><td><font color="#4598aa"><script>I18N("h","Total KByte(s)")</script></font></td><td><font color="#4598aa"><script>I18N("h","KByte/sec")</script></font></td></tr><tr id="tx_info" style="height:35px"><td style="text-align:left;width:100px"><font color="#0000ff"><script>I18N("h","Sent (Tx)")</script>:</font></td><td style="border:1px solid #66b2c2"><span id="tx_pkt_info">0</span></td><td style="border:1px solid #66b2c2"><span id="tx_byte_info">0</span></td><td style="border:1px solid #66b2c2"><span id="tx_rate_info">0</span></td><td><table bordercolor="#66b2c2" border="0" width="80" height="35" align="center" style="text-align:center"><td><font color="#4598aa"><script>I18N("h","Session")</script></font></td></table></td></tr><tr id="rx_info" style="height:35px"><td style="text-align:left;width:100px" nowrap="nowrap"><font color="#ff0000"><script>I18N("h","Received (Rx)")</script>:</font></td><td style="border:1px solid #66b2c2"><span id="rx_pkt_info">0</span></td><td style="border:1px solid #66b2c2"><span id="rx_byte_info">0</span></td><td style="border:1px solid #66b2c2"><span id="rx_rate_info">0</span></td><td style="float:center"><table bordercolor="#66b2c2" border="0" width="80" height="35" align="center" style="text-align:center"><td td style="border:1px solid #66b2c2"><span id="session_info">0</span></td></table></td></tr></table></div><div id="info_rate1"><span id="info_rate1_tab">100</span> KB/s</div><div id="info_rate2"><span id="info_rate2_tab">75</span> KB/s</div><div id="info_rate3"><span id="info_rate3_tab">50</span> KB/s</div><div id="info_rate4"><span id="info_rate4_tab">25</span> KB/s</div></div></div><br><br><br><div id="DetectRouterConnection" style="display:none"></div><div id="footer" border="0"><div id="copyright"><script>I18N("h","COPYRIGHT")</script></div></div><br></div></body></html><!-- svn info: $Revision: 1444 $ $Date: 2019-05-10 16:41:53 +0800 (Fri, 10 May 2019) $ --> 
