<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3c.org/1999/xhtml"><head><title>D-LINK</title><meta http-equiv="cache-control" content="no-cache"><meta http-equiv="expires" content="0"><link rel="icon" href="/image/dlink-favicon.ico?v=1075792207"><link rel="shortcut icon" href="/image/favicon.ico?v=1075792207" type="image/x-icon"><meta http-equiv="X-UA-Compatible" content="IE=9"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="Content-Type" content="text/css"><link rel="stylesheet" type="text/css" href="/css/jquery.selectbox.css?v=1a58d5229c"><link rel="stylesheet" type="text/css" href="/css/jquery.checkbox.css?v=d4c74ef61d"><link rel="stylesheet" type="text/css" href="css/style_pages.css?v=99eab4966a" media="all"><script type="text/javascript" charset="utf-8" src="/js/initialJQ.js?v=72051ca6ec"></script><script type="text/javascript" charset="utf-8" src="/js/initialJS.js?v=49978ee093"></script><script type="text/javascript" charset="utf-8" src="/js/initialValidate.js?v=18ad6b1a1d"></script><script type="text/javascript" charset="utf-8" src="/js/VLAN.js?v=962fa8d70e"></script><script type="text/javascript" charset="utf-8" src="/js/SOAP/SOAPAction.js?v=10137dfbc9"></script><script type="text/javascript" charset="utf-8" src="/js/SOAP/SOAPTR069.js?v=7c1d142f43"></script><link rel="stylesheet" type="text/css" href="css/style_pop.css?v=ebdc1ea095" media="all"><script type="text/javascript" charset="utf-8" src="/js/popView.js?v=28d8d08a05"></script><script>top!=self&&(top.location=self.location),null===sessionStorage.getItem("PrivateKey")&&window.location.replace("../info/Login.html");var _ReciprocalNumber=25;function Load_HTML(){$("#header").load("header.html")}function Initial(){initialMenu(),initialDetectRouterConnection()}function GetXML(){var e=new SOAPAction,t=new SOAPGetTR069SettingsResponse,n=e.sendSOAPAction("GetTR069Settings",null,t),a=new SOAPGetSTUNSettingsResponse,r=e.sendSOAPAction("GetSTUNSettings",null,a);$.when(n,r).done(function(e){$("#tr069_status").prop("checked",COMM_ToBOOL(t.TR069)),$("#tr069_acsUrl").val(t.ACSURL),$("#tr069_username").val(t.ACSUsername),$("#tr069_password").val(t.ACSPassword),$("#tr069_adv_connect").prop("checked",COMM_ToBOOL(t.ConnectionRequest)),$("#tr069_adv_url").val(t.ConnectionRequestURL),$("#tr069_adv_username").val(t.ConnectionRequestUsername),$("#tr069_adv_password").val(t.ConnectionRequestPassword),$("#tr069_adv_periodicInform").prop("checked",COMM_ToBOOL(t.PeriodInform)),$("#tr069_adv_periodicInformInterval").val(t.PeriodInformInterval),$("#stun_status").prop("checked",COMM_ToBOOL(a.STUN)),$("#stun_serveraddress").val(a.STUNServerAddress),$("#stun_serverport").val(a.STUNServerPort),$("#stun_username").val(a.STUNUsername),$("#stun_password").val(a.STUNPassword),$("#stun_maximunkeepalive").val(a.STUNMaxKeepAlive),$("#stun_minmunkeepalive").val(a.STUNMinKeepAlive),tr069_changeFn(),stun_changeFn(),$("#main").show()})}function tr069_changeFn(){0==$("#tr069_status").prop("checked")?($("#tr069_acsUrl").attr("disabled",!0),$("#tr069_username").attr("disabled",!0),$("#tr069_password").attr("disabled",!0),$("#tr069_adv_connect").attr("disabled",!0),$("#tr069_adv_url").attr("disabled",!0),$("#tr069_adv_username").attr("disabled",!0),$("#tr069_adv_password").attr("disabled",!0),$("#tr069_adv_periodicInform").attr("disabled",!0),$("#tr069_adv_periodicInformInterval").attr("disabled",!0)):0==$("#tr069_adv_connect").prop("checked")?($("#tr069_acsUrl").attr("disabled",!1),$("#tr069_username").attr("disabled",!1),$("#tr069_password").attr("disabled",!1),$("#tr069_adv_connect").attr("disabled",!1),$("#tr069_adv_url").attr("disabled",!0),$("#tr069_adv_username").attr("disabled",!0),$("#tr069_adv_password").attr("disabled",!0),$("#tr069_adv_periodicInform").attr("disabled",!0),$("#tr069_adv_periodicInformInterval").attr("disabled",!0)):0==$("#tr069_adv_periodicInform").prop("checked")?($("#tr069_acsUrl").attr("disabled",!1),$("#tr069_username").attr("disabled",!1),$("#tr069_password").attr("disabled",!1),$("#tr069_adv_connect").attr("disabled",!1),$("#tr069_adv_url").attr("disabled",!1),$("#tr069_adv_username").attr("disabled",!1),$("#tr069_adv_password").attr("disabled",!1),$("#tr069_adv_periodicInform").attr("disabled",!1),$("#tr069_adv_periodicInformInterval").attr("disabled",!0)):($("#tr069_acsUrl").attr("disabled",!1),$("#tr069_username").attr("disabled",!1),$("#tr069_password").attr("disabled",!1),$("#tr069_adv_connect").attr("disabled",!1),$("#tr069_adv_url").attr("disabled",!1),$("#tr069_adv_username").attr("disabled",!1),$("#tr069_adv_password").attr("disabled",!1),$("#tr069_adv_periodicInform").attr("disabled",!1),$("#tr069_adv_periodicInformInterval").attr("disabled",!1))}function stun_changeFn(){0==$("#stun_status").prop("checked")?$("#stun_serveraddress, #stun_serverport, #stun_username, #stun_password, #stun_maximunkeepalive, #stun_minmunkeepalive").attr("disabled",!0):$("#stun_serveraddress, #stun_serverport, #stun_username, #stun_password, #stun_maximunkeepalive, #stun_minmunkeepalive").attr("disabled",!1)}function save_button_changed(){document.getElementById("Save_Disable_btn").style.display="none",document.getElementById("Save_btn").style.display="block",changeFlag=!0,changeTimeoutAction()}function SetXML(){var e=new SOAPAction,t=new SOAPSetTR069SettingsResponse,n=new SOAPSetSTUNSettingsResponse,a=I18N("j","Please wait")+" ...";PopView.show(a),1==$("#tr069_status").prop("checked")?t.TR069=!0:t.TR069=!1,t.ACSURL=$("#tr069_acsUrl").val(),t.ACSUsername=$("#tr069_username").val(),t.ACSPassword=$("#tr069_password").val(),1==$("#tr069_adv_connect").prop("checked")?t.ConnectionRequest=!0:t.ConnectionRequest=!1,t.ConnectionRequestURL=$("#tr069_adv_url").val(),t.ConnectionRequestUsername=$("#tr069_adv_username").val(),t.ConnectionRequestPassword=$("#tr069_adv_password").val(),1==$("#tr069_adv_periodicInform").prop("checked")?t.PeriodInform=!0:t.PeriodInform=!1,t.PeriodInformInterval=$("#tr069_adv_periodicInformInterval").val(),1==$("#stun_status").prop("checked")?n.STUN=!0:n.STUN=!1,n.STUNServerAddress=$("#stun_serveraddress").val(),n.STUNServerPort=$("#stun_serverport").val(),n.STUNUsername=$("#stun_username").val(),n.STUNPassword=$("#stun_password").val(),n.STUNMaxKeepAlive=$("#stun_maximunkeepalive").val(),n.STUNMinKeepAlive=$("#stun_minmunkeepalive").val();e.sendSOAPAction("SetTR069Settings",t,null).done(function(){e.sendSOAPAction("SetSTUNSettings",n,null).done(function(e){"OK"==e.SetSTUNSettingsResult||"RESTART"==e.SetSTUNSettingsResult?Start_reciprocal_Number_RestoreConfiguration(!1):"REBOOT"==e.SetSTUNSettingsResult?Start_reciprocal_Number_RestoreConfiguration(!0):location.reload()}).fail(function(){location.reload()})}).fail(function(){location.reload()})}function Start_reciprocal_Number_RestoreConfiguration(e){var t=I18N("j","Please wait")+" ...",n=I18N("j","The new settings have been saved."),a=currentDevice.okcount,r=new SOAPAction;1==e&&(t=I18N("j","Your changes are being saved, and the device will need to reboot."),a=currentDevice.rebootcount,r.sendSOAPAction("Reboot",null,null)),PopView.showWithCountdown(t,a).always(function(){PopView.showConfirm(n).done(function(){location.reload()})})}$(function(){Load_HTML(),Initial(),setMenu("menu_Management"),GetXML(),startTimeout(),$("input, select").on("change",function(){save_button_changed()}),$("input").on("keypress",function(){save_button_changed()}),$("#tr069_status, #tr069_adv_connect, #tr069_adv_periodicInform").on("change",function(){tr069_changeFn()}),$("#stun_status").on("change",function(){stun_changeFn()})})</script></head><body><form name="internet_form" id="internet_form" method="POST" action=""><div id="wrapper"><div id="header"></div><div id="menu"></div><div id="menu_edge"></div><div id="content"><div id="info"><div id="FunctionName"><script>I18N("h","TR069")</script></div><div id="wallimage"><img src="image/page_System.png?v=4ccb5485c8" alt="" width="195" height="119"></div><div id="directions"><script>I18N("h",'WAN Management Protocol(TR069) allows a Auto-Configuration Server(ACS) to perform auto-configuration, provision, collection, and diagnowtics to this device.<br>Select the desired values and click "Apply" to configure the TR069 client options.')</script></div></div><div id="funcBar"><div id="pagePath"><script>I18N("h","Management")</script>&gt;&gt;<script>I18N("h","TR069")</script></div><ul id="rightFunc"><li style="display:block"><div id="Save_btn" onclick='document.getElementById("sumbit_CheckData").click(),changeTimeoutAction()' style="cursor:pointer;display:none"><script>I18N("h","Save")</script></div></li><li style="display:block"><div id="Save_Disable_btn"><script>I18N("h","Save")</script></div></li><input id="sumbit_CheckData" class="submit" type="submit" value="Submit" style="display:none"></ul></div><br><div id="main" style="display:none"><table class="block" style="margin-bottom:0"><tr><td colspan="2"><div class="title"><script>I18N("h","TR069 Settings")</script></div></td></tr><tr><th><script>I18N("h","Status")</script>:</th><td><input type="checkbox" class="chkbox" id="tr069_status"><label for="tr069_status"><span class="chkbox_disabled"><script>I18N("h","Disabled")</script></span><span class="chkbox_enabled"><script>I18N("h","Enabled")</script></span></label></td></tr><tr><th><script>I18N("h","ACS URL")</script>:</th><td><input class="styled-text" type="text" name="tr069_acsUrl" size="27" id="tr069_acsUrl" maxlength="256"></td></tr><tr><th><script>I18N("h","Username")</script>:</th><td><input class="styled-text" type="text" name="tr069_username" size="27" id="tr069_username" maxlength="256"></td></tr><tr><th><script>I18N("h","Password")</script>:</th><td><input class="styled-text" type="text" name="tr069_password" size="27" id="tr069_password" maxlength="256"></td></tr></table><div class="advButton"><span onclick='showAdv("advancedBlock")'><script>I18N("h","Advanced Settings")</script>...</span></div><div id="advancedBlock" style="display:none"><hr><table class="block" border="0"><tr><th><script>I18N("h","Connection Request Authentication")</script>:</th><td><input type="checkbox" class="chkbox" id="tr069_adv_connect"><label for="tr069_adv_connect"><span class="chkbox_disabled"><script>I18N("h","Disabled")</script></span><span class="chkbox_enabled"><script>I18N("h","Enabled")</script></span></label></td></tr><tr><th><script>I18N("h","URL")</script>:</th><td><input class="styled-text" type="text" name="tr069_adv_url" size="27" id="tr069_adv_url" maxlength="256"></td></tr><tr><th><script>I18N("h","Username")</script>:</th><td><input class="styled-text" type="text" name="tr069_adv_username" size="27" id="tr069_adv_username" maxlength="256"></td></tr><tr><th><script>I18N("h","Password")</script>:</th><td><input class="styled-text" type="text" name="tr069_adv_password" size="27" id="tr069_adv_password" maxlength="256"></td></tr><tr><th><script>I18N("h","Periodic Inform")</script>:</th><td><input type="checkbox" class="chkbox" id="tr069_adv_periodicInform"><label for="tr069_adv_periodicInform"><span class="chkbox_disabled"><script>I18N("h","Disabled")</script></span><span class="chkbox_enabled"><script>I18N("h","Enabled")</script></span></label></td></tr><tr><th><script>I18N("h","Periodic Inform Interval")</script>:</th><td><input class="styled-text" type="text" name="tr069_adv_periodicInformInterval" size="27" id="tr069_adv_periodicInformInterval"> Seconds</td></tr></table></div><hr><table class="block" style="margin-bottom:0"><tr><td colspan="2"><div class="title"><script>I18N("h","STUN Settings")</script></div></td></tr><tr><th><script>I18N("h","Status")</script>:</th><td><input type="checkbox" class="chkbox" id="stun_status"><label for="stun_status"><span class="chkbox_disabled"><script>I18N("h","Disabled")</script></span><span class="chkbox_enabled"><script>I18N("h","Enabled")</script></span></label></td></tr><tr><th><script>I18N("h","Server Address")</script>:</th><td><input class="styled-text" type="text" name="stun_serveraddress" size="27" id="stun_serveraddress" maxlength="256"></td></tr><tr><th><script>I18N("h","Server Port")</script>:</th><td><input class="styled-text" type="text" name="stun_serverport" size="27" id="stun_serverport" maxlength="5"></td></tr><tr><th><script>I18N("h","Username")</script>:</th><td><input class="styled-text" type="text" name="stun_username" size="27" id="stun_username" maxlength="256"></td></tr><tr><th><script>I18N("h","Password")</script>:</th><td><input class="styled-text" type="text" name="stun_password" size="27" id="stun_password" maxlength="256"></td></tr><tr><th><script>I18N("h","Maximun Keep Alive Period")</script>:</th><td><input class="styled-text" type="text" name="stun_maximunkeepalive" size="27" id="stun_maximunkeepalive" maxlength="5"></td></tr><tr><th><script>I18N("h","Minmun Keep Alive Period")</script>:</th><td><input class="styled-text" type="text" name="stun_minmunkeepalive" size="27" id="stun_minmunkeepalive" maxlength="5"></td></tr></table></div><div id="popalert" class="black_overlay" style="display:none"><div class="popup_window_border" style="position:relative;top:15%"><div class="popup_window"><div id="popalert_circle"><img src="image/loading.gif?v=082200f467" width="62px" height="62px"></div><div id="popalert_countdown"></div><div id="popalert_desc"></div><div id="popalert_buttons" class="btn-group" role="group" aria-label="..."><button type="button" id="popalert_ok" class="btn btn-default"><script>I18N("h","OK")</script></button></div></div></div></div><div id="DetectRouterConnection" style="display:none"></div><div id="footer"><div id="copyright"><script>I18N("h","COPYRIGHT")</script></div></div></div></div></form><script>$(function(){$.validator.addMethod("checkserverport_range",function(e,a){var n=!0;return""!=e&&(parseInt(e)<0||65535<parseInt(e))&&(n=!1),n},I18N("j","Please enter a value between 0 and 65535")),$.validator.addMethod("checkeepalive_range",function(e,a){var n=!0;return""!=e&&(parseInt(e)<1||99999<parseInt(e))&&(n=!1),n},I18N("j","Please enter a value between 1 and 99999")),$("#internet_form").validate({rules:{stun_serverport:{checkserverport_range:!0},stun_maximunkeepalive:{checkeepalive_range:!0},stun_minmunkeepalive:{checkeepalive_range:!0}},submitHandler:function(e){SetXML()}})})</script></body></html><!-- svn info: $Revision: 1186 $ $Date: 2018-11-27 17:17:02 +0800 (Tue, 27 Nov 2018) $ --> 
