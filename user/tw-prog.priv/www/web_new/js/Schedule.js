/* svn info: $Revision: 1627 $ $Date: 2019-09-06 15:34:23 +0800 (Fri, 06 Sep 2019) $ */
!function(u){var h={disabled:!1,titleWidth:220,contextWidth:"100%",speed:100};u.fn.spDropDownList=function(r,d,c){return this.each(function(){var n=u("#"+u(this).attr("id")),e=n.find("input"),t=n.find(".sbToggle"),l=n.find(".sbSelector"),i=n.find("ul"),a=n.find("li"),o=(n.find("editImg"),n.find(".btn")),s={init:function(e){n.data(e),n.css({width:e.titleWidth}),n.find(".sbHolder").css({width:e.titleWidth}),n.find(".sbOptions").css({width:e.contextWidth}),l.css({width:e.titleWidth-30}),this.buttonChange()},buttonChange:function(){var s=this;u(document).on("click",function(e){i.is(":visible")&&(t.removeClass("sbToggleOpen"),i.slideUp(n.data("speed")))}),n.bind("click",function(e){return e.stopPropagation(),i.is(":hidden")?0==n.data("disabled")&&(t.addClass("sbToggleOpen"),i.slideDown(n.data("speed"))):(t.removeClass("sbToggleOpen"),i.slideUp(n.data("speed"))),!1}),a.bind("click",function(e){if(e.stopPropagation(),"Add"!=u(this).data("name")&&"Always"!=u(this).data("name")&&u(this).data("name")!=n.data("elName")){u(this).data("name");var t=s.displayNickName(n.data("elName")),a=spDropDownListDatalist.cloneData(u(this).data("name"),n.data("elName")),i=I18N("j",'The Schedule is cloned successfully and renamed to "%s".',t);1==a&&(schedulePop.okPop(i),save_button_changed())}"Add"==u(this).data("name")&&(scheduleSelectableUI.addData(n.data("elName")),l.click(),save_button_changed())}),e.bind("click",function(e){var t=I18N("j",'Do you want to change the schedule option to "Always Enable"? If you change the schedule, the orginal schedule setting will be deleted.');e.stopPropagation(),"Always"==u(this).val()&&i.find("[data-name='"+n.data("elName")+"']").is(":visible")&&schedulePop.confirmPop(t).then(function(){s.setVal("Always"),spDropDownListDatalist.deleteData(n.data("elName"))},function(){s.setVal(n.data("elName"))})}),o.bind("click",function(e){e.stopPropagation()})},test:function(){console.log("testtest")},addOption:function(e){n.data("elName")==e.name?(i.find("[data-name='"+e.name+"']").show().append('<img src="image/edit_btn.png?v=2fc10c4616" width="25" height="25" class="editImg" onclick="spDropDownListDatalist.editData('+e.rowid+')">'),i.find("[data-name='"+e.name+"']").find(".editImg").bind("click",function(e){e.stopPropagation(),l.click()}),i.find("[data-name='Add']").hide()):i.find("[data-name='"+e.name+"']").show()},deleteOption:function(){this.setVal("Always"),spDropDownListDatalist.deleteData(n.data("elName"))},updateAddOption:function(e,t){var a;i.closest(".scheduleDropDownList").data("elName")==e&&(a=i.find("input").attr("name"),0<u('input[name="'+a+'"][value="'+e+'"]').closest("li").find(".editImg").length?u('input[name="'+a+'"][value="'+e+'"]').closest("li").find(".editImg").attr("onclick","spDropDownListDatalist.editData("+t+")"):(u('input[name="'+a+'"][value="'+e+'"]').closest("li").append('<img src="image/edit_btn.png?v=2fc10c4616" width="25" height="25" class="editImg" onclick="spDropDownListDatalist.editData('+t+')">'),i.find("[data-name='"+e+"']").find(".editImg").bind("click",function(e){e.stopPropagation(),l.click()})),this.setVal(e),i.find("[data-name='Add']").hide()),i.find("[data-name='"+e+"']").show()},updateEditOption:function(e){i.closest(".scheduleDropDownList").data("elName")==e&&(radioName=i.find("input").attr("name"),this.setVal(e))},updateDeleteOption:function(e){i.find("[data-name='"+e+"']").hide(),i.closest(".scheduleDropDownList").data("elName")==e&&i.find("[data-name='Add']").show()},setVal:function(e){var t,a=this.displayNickName(e);t=i.find("[data-name='"+e+"']").find("input").attr("name"),u('input[name="'+t+'"][value="'+e+'"]').prop("checked",!0),l.text(a)},displayNickName:function(e){var t="";switch(e){case"Always":t=I18N("j","Always");break;case"H24-UH1xLTJa7O":t="Wireless Schedule";break;case"H5-UH1xLTJa7O":t="Wireless 5GHz Schedule";break;case"H52-UH1xLTJa7O":t="Wireless 5GHz-2 Schedule";break;case"G24-UH1xLTJa7O":t="Wireless Guest Zone Schedule";break;case"G5-UH1xLTJa7O":t="Wireless Guest Zone 5GHz Schedule";break;case"G52-UH1xLTJa7O":t="Wireless Guest Zone 5GHz-2 Schedule"}return t},disabled:function(e){"disable"==e?(n.data("disabled",!0),n.find(".sbHolder").addClass("sbHolderDisabled")):(n.data("disabled",!1),n.find(".sbHolder").removeClass("sbHolderDisabled"))}};"object"==typeof r?s.init(u.extend({},h,r)):"string"==typeof r&&s[r]&&s[r](d,c)})}}(jQuery),function(e){var h,o=null,r=null,c=null;function t(e){switch(this.timeFormat=e.timeFormat,this.page=e.page,e.timeFormat){case 60:this.totalColumn=24;break;case 30:this.totalColumn=48;break;case 15:this.totalColumn=96}null!=e.hnapName?this.hnapName=e.hnapName:this.hnapName="GetScheduleSettings"}function u(e,t,a,i,s){this.date=e,this.start=t,this.end=a,this.startMin=null!=i?i:0,this.endMin=null!=s?s:0}function m(){this.list=new Array,this.timeArray=new Array(7);for(var e=0;e<7;e++)this.timeArray[e]=new Array(h.totalColumn);this.tmpDate=null}function p(){var e=document.createElement("div");return e.className="display",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.width="90px",e.style.height="27px",e.style.lineHeight="27px",e.style.background="#FFFA72",e.style.color="#505050",e.style.zIndex="1000",e}function f(e){var t=document.createElement("div");return t.className="sprite",t.style.position="absolute",t.style.top="4px",t.style.left=30==e?"-10px":"6px",t.style.width="20px",t.style.height="20px",t.style.backgroundImage="url('image/closeBtn.png?v=110d43e127')",t.style.backgroundRepeat="no-repeat",t.style.backgroundPosition="center",t.style.cursor="pointer",t.style.backgroundSize="contain",t.title=I18N("j","Delete"),t}m.prototype={r_push:function(e){return this.list.push(e),!0},r_setName:function(e){this.name=e},r_showTimeRange:function(e){var t=new p,a="",i=-1,s=-1,n=3,l=0,o=0,r=0,d=0;switch(h.totalColumn){case 24:n=3;break;case 48:n=6;break;case 96:n=12}switch(e+1){case 1:a="#Monday ";break;case 2:a="#Tuesday ";break;case 3:a="#Wednesday ";break;case 4:a="#Thursday ";break;case 5:a="#Friday ";break;case 6:a="#Saturday ";break;case 7:a="#Sunday "}$(a+".display").remove(),$(a+".sprite").remove();for(var c=0;c<h.totalColumn;c++)if(i<0&&1==this.timeArray[e][c]&&(i=c),0<=i&&(1!=this.timeArray[e][c]?s=c:c==h.totalColumn-1&&(s=h.totalColumn)),0<=i&&0<=s){if(n<s-i){switch($(a+".week li").eq(i).append(t),h.totalColumn){case 24:l=i,o=s,r=":00 - ",d=":00";break;case 48:l=Math.floor(i/2),o=Math.floor(s/2),r=i%2==0?":00 - ":":30 - ",d=s%2==0?":00":":30"}t.innerHTML=l+r+o+d,t=new p}var u=new f(h.timeFormat);(60==h.timeFormat||30==h.timeFormat&&2<=s-i)&&"home"!=h.page&&$(a+".week li").eq(s-1).append(u),s=i=-1}},r_makeTimeSet:function(){var e,t,a=-1,i=-1,s=-1,n=-1,l=null;for(this.list=new Array,e=0;e<7;e++)for(t=0;t<h.totalColumn;t++)a<0&&1==this.timeArray[e][t]&&(a=t),0<=a&&(1!=this.timeArray[e][t]?i=t:t==h.totalColumn-1&&(i=h.totalColumn)),0<=a&&0<=i&&(60==h.timeFormat?l=new u(e+1,a,i):(s=a%2==1?30:0,n=i%2==1?30:0,l=new u(e+1,Math.floor(a/2),Math.floor(i/2),s,n)),this.list.push(l),l=null,n=s=i=a=-1)},r_releaseAllWeek:function(){for(var e=0;e<this.list.length;e++)if("0"==this.list[e].date.toString()){for(var t=2;t<=7;t++){var a=new u(t,this.list[e].start,this.list[e].end);this.list.push(a)}this.list[e].date=1}}};var a={getHnapData:function(e){var t=-1,a=-1,i=0,s=-1,n=-1,l=-1,o=0;if("home"==h.page&&scheduleShowHomeUI.pushAlwaysData(),"GetScheduleSettings"==h.hnapName){for(t=0;t<e.ScheduleInfoLists.length;t++){var r=new m;for(r.name=e.ScheduleInfoLists[t].ScheduleName.trim(),a=0;a<e.ScheduleInfoLists[t].ScheduleInfo.length;a++){var d=new u;thisData=e.ScheduleInfoLists[t].ScheduleInfo[a],d.date=parseInt(thisData.ScheduleDate,10),d.start=parseInt(thisData.ScheduleStartTimeInfo.TimeHourValue,10),d.end=parseInt(thisData.ScheduleEndTimeInfo.TimeHourValue,10),d.startMin=parseInt(thisData.ScheduleStartTimeInfo.TimeMinuteValue,10),d.endMin=parseInt(thisData.ScheduleEndTimeInfo.TimeMinuteValue,10),r.r_push(d)}r.r_releaseAllWeek(),"wireless"==h.page?spDropDownListDatalist.push(r):"schedule"==h.page?("H24-UH1xLTJa7O"!=r.name&&"H5-UH1xLTJa7O"!=r.name&&"H52-UH1xLTJa7O"!=r.name&&"G24-UH1xLTJa7O"!=r.name&&"G5-UH1xLTJa7O"!=r.name&&"G52-UH1xLTJa7O"!=r.name||(i+=1),scheduleTableUI.pushData(r)):scheduleShowHomeUI.pushData(r)}"wireless"==h.page?spDropDownListDatalist.addUIOption():"schedule"==h.page?scheduleTableUI.setWirelessScheduleNum(i):scheduleShowHomeUI.triggerShowPop()}else{for(s=0;s<e.ScheduleBitmapLists.length;s++){for((c=new m).r_setName(e.ScheduleBitmapLists[s].ScheduleName),n=0;n<7;n++)for((o=24*n)<0&&(o=0),60==h.timeFormat?c.timeArray[n]=e.ScheduleBitmapLists[s].Bitmap.substr(o,24).replace(/F/gi,"1").split(""):c.timeArray[n]=e.ScheduleBitmapLists[s].Bitmap.substr(o,24).replace(/0/gi,"00").replace(/F/gi,"11").replace(/C/gi,"01").replace(/3/gi,"10").split(""),l=0;l<c.timeArray[n].length;l++)c.timeArray[n][l]=parseInt(c.timeArray[n][l],10);c.r_makeTimeSet(),"wireless"==h.page?spDropDownListDatalist.push(c):"schedule"==h.page?("H24-UH1xLTJa7O"!=c.name&&"H5-UH1xLTJa7O"!=c.name&&"H52-UH1xLTJa7O"!=c.name&&"G24-UH1xLTJa7O"!=c.name&&"G5-UH1xLTJa7O"!=c.name&&"G52-UH1xLTJa7O"!=c.name||(i+=1),scheduleTableUI.pushData(c)):scheduleShowHomeUI.pushData(c)}"wireless"==h.page?spDropDownListDatalist.addUIOption():"schedule"==h.page?scheduleTableUI.setWirelessScheduleNum(i):scheduleShowHomeUI.triggerShowPop()}},createScheduleTable:function(e,t){var a=0,i=-1,s=-1,n="",l="";for(i=0;i<7;i++){for(n="",s=0;s<h.totalColumn;s++){var o="list";null!=e&&e.timeArray[i][s]&&(o="list ui-selected click-selected-locked"),n+="<li class='"+o+"' style='position:relative' value="+a+"></li>",a++}document.getElementById("calendar").children[i].children[0].innerHTML=n,null!=e&&e.r_showTimeRange(i)}if("wireless"==h.page){switch(t){case"H24-UH1xLTJa7O":l="Wireless Schedule";break;case"H5-UH1xLTJa7O":l="Wireless 5GHz Schedule";break;case"H52-UH1xLTJa7O":l="Wireless 5GHz-2 Schedule";break;case"G24-UH1xLTJa7O":l="Wireless Guest Zone Schedule";break;case"G5-UH1xLTJa7O":l="Wireless Guest Zone 5GHz Schedule";break;case"G52-UH1xLTJa7O":l="Wireless Guest Zone 5GHz-2 Schedule"}$("#schedule_name").val(t),$("#schedule_nickName").text(l)}else"schedule"==h.page?$("#schedule_name").val(e.name):($("#schedule_name").val(t),$("#schedule_nickName").text(t));30==h.timeFormat&&($(".week").css({width:800}),$(".week li").css({width:13.5}))},createSelectorTrigger:function(){$(".week").bind("mousedown",function(e){e.metaKey=!0,changeTimeoutAction()}).selectable({start:function(e,t){o=new Array,r=new Array},selecting:function(e,t){var a,i,s;if("DIV"!=t.selecting.tagName&&(r.push(t.selecting),null==c.tmpDate&&(a=Math.floor(t.selecting.value/h.totalColumn),i=t.selecting.value%h.totalColumn,s=$(t.selecting),c.tmpDate=a,1==c.timeArray[a][i])))for(;0<i;){if(i--,1!=c.timeArray[a][i]||0==i){0==i&&(s=s.prev()),s.children(".display").remove();break}s=s.prev()}},selected:function(e,t){var a,i;"DIV"!=t.selected.tagName&&($(t.selected).addClass("click-selected-locked"),a=Math.floor(t.selected.value/h.totalColumn),i=t.selected.value%h.totalColumn,c.timeArray[a][i]=1)},unselectig:function(e,t){0==o.length&&o.push(t.unselecting),0<r.length&&r.pop()},unselected:function(e,t){0==o.length&&o.push(t.unselected),$(t.unselected).addClass("ui-selected")},stop:function(e,t){var a,i,s,n,l=-1;if(1==o.length)if(a=$(o[0]),i=Math.floor(a.val()/h.totalColumn),23==(s=a.val()%h.totalColumn)||1!=c.timeArray[i][s+1]){for(n=0,l=s;0<=l&&1==c.timeArray[i][l];l--)c.timeArray[i][l]=0,n++;for(a.children(".sprite").remove(),l=0;l<n;l++)a.removeClass("ui-selected click-selected-locked ui-unselecting"),l==n-1?a.children(".display").remove():a=a.prev()}else null!=c.tmpDate&&c.r_showTimeRange(c.tmpDate);else if(0<r.length&&null!=r[0]&&null!=r[1]&&0<$(r[0]).children(".sprite").length&&r[0].value>r[1].value){for($(r[0]).children(".sprite").remove(),l=0;l<r.length;l++)a=$(r[l]),i=Math.floor(a.val()/h.totalColumn),s=a.val()%h.totalColumn,c.timeArray[i][s]=0,a.removeClass("ui-selected click-selected-locked ui-unselecting");c.r_showTimeRange(c.tmpDate)}else c.r_showTimeRange(c.tmpDate);c.tmpDate=null,$("#scheduleError").hide()}})},scheduleValid:function(){var t=this;$.validator.addMethod("trimWhiteSpace",function(e,t){var a=!0;return e!=e.trim()&&(a=!1),a},I18N("j","Invalid %s. Only A-Z, a-z, 0-9, “-”, “_”, and spaces are allowed.",I18N("j","Name"))),$.validator.addMethod("checkGenName",function(e,t){var a=!0;return""!=e&&(a=COMM_ValidName(e)),a},I18N("j","Invalid %s. Only A-Z, a-z, 0-9, “-”, “_”, and spaces are allowed.",I18N("j","Name"))),$.validator.addMethod("checkReservedName",function(e,t){var a=!0,i=e.toLowerCase();return"always"!=i&&"h24-uh1xltja7o"!=i&&"wireless schedule"!=i&&"h5-uh1xltja7o"!=i&&"wireless 5ghz schedule"!=i&&"h52-uh1xltja7o"!=i&&"wireless 5ghz-2 schedule"!=i&&"g24-uh1xltja7o"!=i&&"wireless guest zone schedule"!=i&&"g5-uh1xltja7o"!=i&&"wireless guest zone 5ghz schedule"!=i&&"g52-uh1xltja7o"!=i&&"wireless guest zone 5ghz-2 schedule"!=i||(a=!1),a},I18N("j","The name is reserved. Please assign another name for the schedule.")),$.validator.addMethod("checkDiffName",function(e,t){var a,i=!0;if("wireless"!=h.page&&""!=e){a=scheduleTableUI.outputList();for(var s=0;s<a.length;s++)if(a[s].name==e&&null!=c.rowid&&c.rowid!=a[s].rowid||a[s].name==e&&null==c.rowid){i=!1;break}}return i},I18N("j","Name cannot be the same.")),$("#schedule_form").validate({rules:{schedule_name:{trimWhiteSpace:!0,checkGenName:!0,checkReservedName:!0,checkDiffName:!0}},submitHandler:function(e){return"home"!=h.page?(c.r_makeTimeSet(),0<c.list.length?($("#scheduleError").hide(),t.closeCreateRulePOP()):$("#scheduleError").show()):(t.clearCreateRulePOP(),$("#editPop").show()),!1}})},closeCreateRulePOP:function(){var e=!1;c.r_setName($("#schedule_name").val()),null!=c.rowid?"wireless"==h.page?e=spDropDownListDatalist.edit(c.rowid,c):(e=scheduleTableUI.editData(c.rowid,c),scheduleTableUI.check_TotalRule()):"wireless"==h.page?e=spDropDownListDatalist.push(c):(e=scheduleTableUI.pushData(c),scheduleTableUI.check_TotalRule()),1==e&&this.clearCreateRulePOP()},clearCreateRulePOP:function(){changeTimeoutAction(),$("#schedule_form input").removeClass("error"),$("label.error").hide(),document.getElementById("scheduleSelectPop").style.display="none",document.getElementById("schedule_name").value="",$("li").removeClass("ui-selected click-selected-locked ui-unselecting"),$("li .sprite").remove(),$("li .display").remove(),c=null}},i={init:function(e){return"home"!=(h=new t(e)).page&&a.createSelectorTrigger(),a.scheduleValid(),"wireless"!=h.page&&"home"!=h.page||($("#schedule_name").hide(),"home"==h.page&&$("#scheduleSelectPop #closeCreatePopBtn").hide()),30==h.timeFormat&&$("#scheduleSelectPop #border").css({background:"url(image/scheduleTable30.png?v=a3a1f295ba) left top no-repeat"}),$("#scheduleSelectPop #closeCreatePopBtn").on("click",function(){a.clearCreateRulePOP()}),"wireless"==h.page?spDropDownListDatalist.setConfig(h):"schedule"==h.page?scheduleTableUI.setConfig(h):scheduleShowHomeUI.setConfig(h),this},getData:function(e){return a.getHnapData(e),this},addData:function(e){return changeTimeoutAction(),$("#scheduleSelectPop").show(),c=new m,a.createScheduleTable(c,e),this},editData:function(e,t){changeTimeoutAction(),$("#scheduleSelectPop").show(),"home"==h.page&&"Always"==t?$("#schedule_nickName").text(I18N("j","Always OFF")):(c=e,a.createScheduleTable(c,t))},testStack:function(){console.log(r),console.log(c)}};e.scheduleSelectableUI=i}(window),function(e){var m,p;function n(){}function t(){this.list=new Array,this.maxrowid=0}n.prototype={setRowid:function(e){this.rowid=e}},t.prototype={getRowNum:function(e){var t=0;for(t=0;t<this.list.length&&e!=this.list[t].rowid;t++);return t},findRowid:function(e){var t=-1,a=-1;for(t=0;t<this.list.length;t++)if(e==this.list[t].name){a=this.list[t].rowid;break}return a},getData:function(e){var t,a;for(t=0;t<this.list.length&&(a=this.list[t]).rowid!=e;t++);return a},push:function(e,t){var a=t,s=new n;for($.extend(s,e),s.setRowid(this.maxrowid),this.list.push(s),null==a&&(a=$("#schedule_name").val()),i=0;i<scheduleList.length;i++)scheduleList[i].spDropDownList("updateAddOption",a,this.maxrowid);return this.maxrowid++,!0},editData:function(e,t){var a=new n;$.extend(a,t);var s=this.getRowNum(e);if(0==this.checkData(a,s))return!1;for(a.setRowid(e),this.list.splice(s,1,a),i=0;i<scheduleList.length;i++)scheduleList[i].spDropDownList("updateEditOption",$("#schedule_name").val());return!0},checkData:function(e,t){var a,i,s,n=/_[0-9]$/,l=0;for(""==e.name.replace(/\s/g,"")&&(e.name="NewRule",s=e.name,l=1),a=0;a<this.list.length;a++)if(a!=t)if(i=this.list[a].name,n.test(i)){var o=i.split("_");s=o[0];var r=parseInt(o[1],10);if(e.name==s)l<=r&&(l=r+1);else if(n.test(e.name)){var d=e.name.split("_");d[0]==s&&(l=parseInt(d[1],10),r==cpimter&&l++)}}else e.name==i&&(s=e.name,l=1);return"NewRule"!=e.name&&"Always"!=e.name||(e.name=s+"_"+l,0==l&&l++),0<l&&(e.name=s+"_"+l),!0},deleteData:function(e){var t=this.getRowNum(e);this.list.splice(t,1)}};var a={init:function(e){return p=new t,this},setConfig:function(e){m=e},push:function(e){return p.push(e)},edit:function(e,t){return p.editData(e,t)},addUIOption:function(){var e=-1,t=-1;for(e=0;e<p.list.length;e++){var a=p.list[e].name;if("H24-UH1xLTJa7O"==a||"H5-UH1xLTJa7O"==a||"H52-UH1xLTJa7O"==a||"G24-UH1xLTJa7O"==a||"G5-UH1xLTJa7O"==a||"G52-UH1xLTJa7O"==a)for(t=0;t<scheduleList.length;t++)scheduleList[t].spDropDownList("addOption",p.list[e])}},editData:function(e,t){changeTimeoutAction();var a=new Object,i=p.getData(e);$.extend(a,i);for(var s=0;s<7;s++)for(var n=0;n<a.timeArray[s].length;n++)a.timeArray[s][n]=0;if(60==m.timeFormat)for(s=0;s<a.list.length;s++)for(var l=a.list[s].start;l<a.list[s].end;l++)a.timeArray[a.list[s].date-1][l]=1;else for(s=0;s<a.list.length;s++){var o=2*a.list[s].start,r=2*a.list[s].end;30==a.list[s].startMin&&(o+=1),30==a.list[s].endMin&&(r+=1);for(l=o;l<r;l++)a.timeArray[a.list[s].date-1][l]=1}null==t&&scheduleSelectableUI.editData(a,a.name)},deleteGuestData:function(e){var t=p.findRowid(e);-1!=t&&p.deleteData(t)},deleteData:function(e){var t=-1,a=p.findRowid(e);if(-1!=a)for(p.deleteData(a),t=0;t<scheduleList.length;t++)scheduleList[t].spDropDownList("updateDeleteOption",e)},cloneData:function(e,t){var a=p.findRowid(e),i=p.findRowid(t),s=new Object,n=p.getData(a);return $.extend(s,n),s.name=t,-1==i?p.push(s,t):p.editData(i,s),!0},setScheduleXML:function(){var e=new SOAPSetScheduleSettingsResponse,t=new SOAPSetScheduleBitmapSettings,a=-1,i=-1,s=-1,n=-1,l="";if("GetScheduleSettings"==m.hnapName){if(0<p.list.length)for(a=0;a<p.list.length;a++){var o=this.makeAllWeek(p.list[a]),r=new SOAPScheduleInfoLists;r.ScheduleName=o.name,e.push(r);for(i=0;i<o.list.length;i++){var d="false";0==o.list[i].start&&24==o.list[i].end&&(d="true");var c=new SOAPScheduleInfo;c.ScheduleDate=o.list[i].date,c.ScheduleAllDay=d,c.ScheduleTimeFormat="true",c.ScheduleStartTimeInfo.TimeHourValue=o.list[i].start,c.ScheduleEndTimeInfo.TimeHourValue=o.list[i].end,60==m.timeFormat?(c.ScheduleStartTimeInfo.TimeMinuteValue="00",c.ScheduleEndTimeInfo.TimeMinuteValue="00"):(0==o.list[i].startMin?c.ScheduleStartTimeInfo.TimeMinuteValue="00":c.ScheduleStartTimeInfo.TimeMinuteValue="30",0==o.list[i].endMin?c.ScheduleEndTimeInfo.TimeMinuteValue="00":c.ScheduleEndTimeInfo.TimeMinuteValue="30"),c.ScheduleStartTimeInfo.TimeMidDateValue="false",c.ScheduleEndTimeInfo.TimeMidDateValue="false",e.ScheduleInfoLists[a].push(c)}}else e=new SOAPSetScheduleSettingsResponse_null;return e}if(0<p.list.length)for(a=0;a<p.list.length;a++){var u=new SOAPScheduleBitmapLists,h=new Array;for(this.editData(p.list[a].rowid,!0),s=0;s<p.list[a].timeArray.length;s++)if(30==m.timeFormat)for(n=0;n<p.list[a].timeArray[s].length-1;n+=2)null==p.list[a].timeArray[s][n]&&(p.list[a].timeArray[s][n]=0),null==p.list[a].timeArray[s][n+1]&&(p.list[a].timeArray[s][n+1]=0),l=(p.list[a].timeArray[s][n].toString()+p.list[a].timeArray[s][n+1].toString()).replace(/00/g,"0").replace(/11/g,"F").replace(/10/g,"3").replace(/01/g,"C"),h.push(l);else for(n=0;n<p.list[a].timeArray[s].length;n++)null==p.list[a].timeArray[s][n]&&(p.list[a].timeArray[s][n]=0),l=p.list[a].timeArray[s][n].toString().replace(/1/g,"F"),h.push(l);u.ScheduleName=p.list[a].name,u.Bitmap=h.toString().replace(/,/g,""),t.push(u)}else(t=new Object).Interval=15;return t},makeAllWeek:function(e){for(var t=0;t<e.list.length;t++){var a=e.list[t],i=0;if(1==a.date){for(var s=0,n=e.list.length;s<n;s++)a.start==e.list[s].start&&a.end==e.list[s].end&&i++;if(7==i){for(s=0;s<e.list.length;)e.list[s]!=a&&a.start==e.list[s].start&&a.end==e.list[s].end?e.list.splice(s,1):s++;t=a.date=0}}}return e},showTest:function(){console.log(p)}};a.init(),e.spDropDownListDatalist=a}(window),function(e){var t={confirmPop:function(e){var t=$.Deferred();return $("#createPop .styled_button_s").hide(),$("#scheduleBtn_ok").show(),$("#scheduleBtn_cancel").show(),$("#popMessage").text(e),$("#scheduleBtn_ok").off("click").on("click",function(){t.resolve(),$("#createPop").hide()}),$("#scheduleBtn_cancel").off("click").on("click",function(){t.reject(),$("#createPop").hide()}),$("#createPop").show(),t.promise()},okPop:function(e){var t=$.Deferred();return $("#createPop .styled_button_s").hide(),$("#scheduleBtn_ok").show(),$("#scheduleBtn_cancel").hide(),$("#popMessage").text(e),$("#scheduleBtn_ok").off("click").on("click",function(){t.resolve(),$("#createPop").hide()}),$("#createPop").show(),t.promise()}};window.schedulePop=t}(),function(e){var o,r;function a(){}function t(){this.list=new Array,this.maxrowid=0}a.prototype={setRowid:function(e){this.rowid=e},showName:function(){return HTMLEncode(this.name)},addOption:function(e){var t;t='<option value="'+this.name+'" data-rowid="'+this.rowid+'">'+AllEncode(decode_char_text(this.name))+"</option>",$(e).append(t)}},t.prototype={getData:function(e){var t,a;for(t=0;t<this.list.length&&(a=this.list[t]).rowid!=e;t++);return a},push:function(e){var t=new a;return $.extend(t,e),t.setRowid(this.maxrowid),this.list.push(t),this.maxrowid++,"H24-UH1xLTJa7O"!=e.name&&"H5-UH1xLTJa7O"!=e.name&&"H52-UH1xLTJa7O"!=e.name&&"G24-UH1xLTJa7O"!=e.name&&"G5-UH1xLTJa7O"!=e.name&&"G52-UH1xLTJa7O"!=e.name&&t.addOption("#schedule"),!0}};var i={init:function(){r=new t},setConfig:function(e){o=e},pushAlwaysData:function(){$("#schedule").append('<option value="Always" data-rowid="-1" selected>'+I18N("j","Always OFF")+"</option>")},pushData:function(e){return r.push(e)},triggerShowPop:function(){var e=this;$("#schedule").on("change",function(){e.showData($("#schedule").find(":selected").data("rowid")),$("#editPop").hide()})},showData:function(e){changeTimeoutAction();var t,a=new Object;if(-1!=e)if(t=r.getData(e),$.extend(a,t),60==o.timeFormat)for(var i=0;i<a.list.length;i++)for(var s=a.list[i].start;s<a.list[i].end;s++)a.timeArray[a.list[i].date-1][s]=1;else for(i=0;i<a.list.length;i++){var n=2*a.list[i].start,l=2*a.list[i].end;30==a.list[i].startMin&&(n+=1),30==a.list[i].endMin&&(l+=1);for(s=n;s<l;s++)a.timeArray[a.list[i].date-1][s]=1}else a.name="Always";scheduleSelectableUI.editData(a,a.name)},outputList:function(){return r.list}};i.init(),e.scheduleShowHomeUI=i}(window);