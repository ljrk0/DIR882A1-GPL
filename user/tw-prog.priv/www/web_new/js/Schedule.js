!function(u){var h={disabled:!1,titleWidth:220,contextWidth:"100%",speed:100};u.fn.spDropDownList=function(o,d,c){return this.each(function(){var s=u("#"+u(this).attr("id")),e=s.find("input"),t=s.find(".sbToggle"),n=s.find(".sbSelector"),i=s.find("ul"),a=s.find("li"),r=(s.find("editImg"),s.find(".btn")),l={init:function(e){s.data(e),s.css({width:e.titleWidth}),s.find(".sbHolder").css({width:e.titleWidth}),s.find(".sbOptions").css({width:e.contextWidth}),n.css({width:e.titleWidth-30}),this.buttonChange()},buttonChange:function(){var l=this;u(document).on("click",function(e){i.is(":visible")&&(t.removeClass("sbToggleOpen"),i.slideUp(s.data("speed")))}),s.bind("click",function(e){return e.stopPropagation(),i.is(":hidden")?0==s.data("disabled")&&(t.addClass("sbToggleOpen"),i.slideDown(s.data("speed"))):(t.removeClass("sbToggleOpen"),i.slideUp(s.data("speed"))),!1}),a.bind("click",function(e){if(e.stopPropagation(),"Add"!=u(this).data("name")&&"Always"!=u(this).data("name")&&u(this).data("name")!=s.data("elName")){u(this).data("name");var t=l.displayNickName(s.data("elName")),a=spDropDownListDatalist.cloneData(u(this).data("name"),s.data("elName")),i=I18N("j",'The Schedule is cloned successfully and renamed to "%s".',t);1==a&&(schedulePop.okPop(i),save_button_changed())}"Add"==u(this).data("name")&&(scheduleSelectableUI.addData(s.data("elName")),n.click(),save_button_changed())}),e.bind("click",function(e){var t=I18N("j",'Do you want to change the schedule option to "Always Enable"? If you change the schedule, the orginal schedule setting will be deleted.');e.stopPropagation(),"Always"==u(this).val()&&i.find("[data-name='"+s.data("elName")+"']").is(":visible")&&schedulePop.confirmPop(t).then(function(){l.setVal("Always"),spDropDownListDatalist.deleteData(s.data("elName"))},function(){l.setVal(s.data("elName"))})}),r.bind("click",function(e){e.stopPropagation()})},test:function(){console.log("testtest")},addOption:function(e){s.data("elName")==e.name?(i.find("[data-name='"+e.name+"']").show().append('<img src="image/edit_btn.png?v=2fc10c4616" width="25" height="25" class="editImg" onclick="spDropDownListDatalist.editData('+e.rowid+')">'),i.find("[data-name='"+e.name+"']").find(".editImg").bind("click",function(e){e.stopPropagation(),n.click()}),i.find("[data-name='Add']").hide()):i.find("[data-name='"+e.name+"']").show()},deleteOption:function(){this.setVal("Always"),spDropDownListDatalist.deleteData(s.data("elName"))},updateAddOption:function(e,t){var a;i.closest(".scheduleDropDownList").data("elName")==e&&(a=i.find("input").attr("name"),0<u('input[name="'+a+'"][value="'+e+'"]').closest("li").find(".editImg").length?u('input[name="'+a+'"][value="'+e+'"]').closest("li").find(".editImg").attr("onclick","spDropDownListDatalist.editData("+t+")"):(u('input[name="'+a+'"][value="'+e+'"]').closest("li").append('<img src="image/edit_btn.png?v=2fc10c4616" width="25" height="25" class="editImg" onclick="spDropDownListDatalist.editData('+t+')">'),i.find("[data-name='"+e+"']").find(".editImg").bind("click",function(e){e.stopPropagation(),n.click()})),this.setVal(e),i.find("[data-name='Add']").hide()),i.find("[data-name='"+e+"']").show()},updateEditOption:function(e){i.closest(".scheduleDropDownList").data("elName")==e&&(radioName=i.find("input").attr("name"),this.setVal(e))},updateDeleteOption:function(e){i.find("[data-name='"+e+"']").hide(),i.closest(".scheduleDropDownList").data("elName")==e&&i.find("[data-name='Add']").show()},setVal:function(e){var t,a=this.displayNickName(e);t=i.find("[data-name='"+e+"']").find("input").attr("name"),u('input[name="'+t+'"][value="'+e+'"]').prop("checked",!0),n.text(a)},displayNickName:function(e){var t="";switch(e){case"Always":t=I18N("j","Always");break;case"H24-UH1xLTJa7O":t="Wireless Schedule";break;case"H5-UH1xLTJa7O":t="Wireless 5GHz Schedule";break;case"H52-UH1xLTJa7O":t="Wireless 5GHz-2 Schedule";break;case"G24-UH1xLTJa7O":t="Wireless Guest Zone Schedule";break;case"G5-UH1xLTJa7O":t="Wireless Guest Zone 5GHz Schedule";break;case"G52-UH1xLTJa7O":t="Wireless Guest Zone 5GHz-2 Schedule"}return t},disabled:function(e){"disable"==e?(s.data("disabled",!0),s.find(".sbHolder").addClass("sbHolderDisabled")):(s.data("disabled",!1),s.find(".sbHolder").removeClass("sbHolderDisabled"))}};"object"==typeof o?l.init(u.extend({},h,o)):"string"==typeof o&&l[o]&&l[o](d,c)})}}(jQuery),function(e){var h,r=null,o=null,c=null;function t(e){switch(this.timeFormat=e.timeFormat,this.page=e.page,e.timeFormat){case 60:this.totalColumn=24;break;case 30:this.totalColumn=48;break;case 15:this.totalColumn=96}null!=e.hnapName?this.hnapName=e.hnapName:this.hnapName="GetScheduleSettings"}function u(e,t,a,i,l){this.date=e,this.start=t,this.end=a,this.startMin=null!=i?i:0,this.endMin=null!=l?l:0}function m(){this.list=new Array,this.timeArray=new Array(7);for(var e=0;e<7;e++)this.timeArray[e]=new Array(h.totalColumn);this.tmpDate=null}function p(){var e=document.createElement("div");return e.className="display",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.width="90px",e.style.height="27px",e.style.lineHeight="27px",e.style.background="#FFFA72",e.style.color="#505050",e.style.zIndex="1000",e}function f(e){var t=document.createElement("div");return t.className="sprite",t.style.position="absolute",t.style.top="4px",t.style.left=30==e?"-10px":"6px",t.style.width="20px",t.style.height="20px",t.style.backgroundImage="url('image/closeBtn.png?v=110d43e127')",t.style.backgroundRepeat="no-repeat",t.style.backgroundPosition="center",t.style.cursor="pointer",t.style.backgroundSize="contain",t.title=I18N("j","Delete"),t}m.prototype={r_push:function(e){return this.list.push(e),!0},r_setName:function(e){this.name=e},r_showTimeRange:function(e){var t=new p,a="",i=-1,l=-1,s=3,n=0,r=0,o=0,d=0;switch(h.totalColumn){case 24:s=3;break;case 48:s=6;break;case 96:s=12}switch(e+1){case 1:a="#Monday ";break;case 2:a="#Tuesday ";break;case 3:a="#Wednesday ";break;case 4:a="#Thursday ";break;case 5:a="#Friday ";break;case 6:a="#Saturday ";break;case 7:a="#Sunday "}$(a+".display").remove(),$(a+".sprite").remove();for(var c=0;c<h.totalColumn;c++)if(i<0&&1==this.timeArray[e][c]&&(i=c),0<=i&&(1!=this.timeArray[e][c]?l=c:c==h.totalColumn-1&&(l=h.totalColumn)),0<=i&&0<=l){if(s<l-i){switch($(a+".week li").eq(i).append(t),h.totalColumn){case 24:n=i,r=l,o=":00 - ",d=":00";break;case 48:n=Math.floor(i/2),r=Math.floor(l/2),o=i%2==0?":00 - ":":30 - ",d=l%2==0?":00":":30"}t.innerHTML=n+o+r+d,t=new p}var u=new f(h.timeFormat);(60==h.timeFormat||30==h.timeFormat&&2<=l-i)&&$(a+".week li").eq(l-1).append(u),l=i=-1}},r_makeTimeSet:function(){var e,t,a=-1,i=-1,l=-1,s=-1,n=null;for(this.list=new Array,e=0;e<7;e++)for(t=0;t<h.totalColumn;t++)a<0&&1==this.timeArray[e][t]&&(a=t),0<=a&&(1!=this.timeArray[e][t]?i=t:t==h.totalColumn-1&&(i=h.totalColumn)),0<=a&&0<=i&&(60==h.timeFormat?n=new u(e+1,a,i):(l=a%2==1?30:0,s=i%2==1?30:0,n=new u(e+1,Math.floor(a/2),Math.floor(i/2),l,s)),this.list.push(n),n=null,s=l=i=a=-1)},r_releaseAllWeek:function(){for(var e=0;e<this.list.length;e++)if("0"==this.list[e].date.toString()){for(var t=2;t<=7;t++){var a=new u(t,this.list[e].start,this.list[e].end);this.list.push(a)}this.list[e].date=1}}};var a={getHnapData:function(e){var t=-1,a=-1,i=0,l=-1,s=-1,n=-1,r=0;if("GetScheduleSettings"==h.hnapName){for(t=0;t<e.ScheduleInfoLists.length;t++){var o=new m;for(o.name=e.ScheduleInfoLists[t].ScheduleName.trim(),a=0;a<e.ScheduleInfoLists[t].ScheduleInfo.length;a++){var d=new u;thisData=e.ScheduleInfoLists[t].ScheduleInfo[a],d.date=parseInt(thisData.ScheduleDate,10),d.start=parseInt(thisData.ScheduleStartTimeInfo.TimeHourValue,10),d.end=parseInt(thisData.ScheduleEndTimeInfo.TimeHourValue,10),d.startMin=parseInt(thisData.ScheduleStartTimeInfo.TimeMinuteValue,10),d.endMin=parseInt(thisData.ScheduleEndTimeInfo.TimeMinuteValue,10),o.r_push(d)}o.r_releaseAllWeek(),"wireless"==h.page?spDropDownListDatalist.push(o):("H24-UH1xLTJa7O"!=o.name&&"H5-UH1xLTJa7O"!=o.name&&"H52-UH1xLTJa7O"!=o.name&&"G24-UH1xLTJa7O"!=o.name&&"G5-UH1xLTJa7O"!=o.name&&"G52-UH1xLTJa7O"!=o.name||(i+=1),scheduleTableUI.pushData(o))}"wireless"==h.page?spDropDownListDatalist.addUIOption():scheduleTableUI.setWirelessScheduleNum(i)}else{for(l=0;l<e.ScheduleBitmapLists.length;l++){for((c=new m).r_setName(e.ScheduleBitmapLists[l].ScheduleName),s=0;s<7;s++)for((r=24*s)<0&&(r=0),60==h.timeFormat?c.timeArray[s]=e.ScheduleBitmapLists[l].Bitmap.substr(r,24).replace(/F/gi,"1").split(""):c.timeArray[s]=e.ScheduleBitmapLists[l].Bitmap.substr(r,24).replace(/0/gi,"00").replace(/F/gi,"11").replace(/C/gi,"01").replace(/3/gi,"10").split(""),n=0;n<c.timeArray[s].length;n++)c.timeArray[s][n]=parseInt(c.timeArray[s][n],10);c.r_makeTimeSet(),"wireless"==h.page?spDropDownListDatalist.push(c):("H24-UH1xLTJa7O"!=c.name&&"H5-UH1xLTJa7O"!=c.name&&"H52-UH1xLTJa7O"!=c.name&&"G24-UH1xLTJa7O"!=c.name&&"G5-UH1xLTJa7O"!=c.name&&"G52-UH1xLTJa7O"!=c.name||(i+=1),scheduleTableUI.pushData(c))}"wireless"==h.page?spDropDownListDatalist.addUIOption():scheduleTableUI.setWirelessScheduleNum(i)}},createScheduleTable:function(e,t){var a=0,i=-1,l=-1,s="",n="";for(i=0;i<7;i++){for(s="",l=0;l<h.totalColumn;l++){var r="list";null!=e&&e.timeArray[i][l]&&(r="list ui-selected click-selected-locked"),s+="<li class='"+r+"' style='position:relative' value="+a+"></li>",a++}document.getElementById("calendar").children[i].children[0].innerHTML=s,null!=e&&e.r_showTimeRange(i)}if("wireless"==h.page){switch(t){case"H24-UH1xLTJa7O":n="Wireless Schedule";break;case"H5-UH1xLTJa7O":n="Wireless 5GHz Schedule";break;case"H52-UH1xLTJa7O":n="Wireless 5GHz-2 Schedule";break;case"G24-UH1xLTJa7O":n="Wireless Guest Zone Schedule";break;case"G5-UH1xLTJa7O":n="Wireless Guest Zone 5GHz Schedule";break;case"G52-UH1xLTJa7O":n="Wireless Guest Zone 5GHz-2 Schedule"}$("#schedule_name").val(t),$("#schedule_nickName").text(n)}else $("#schedule_name").val(e.name);30==h.timeFormat&&($(".week").css({width:800}),$(".week li").css({width:13.5}))},createSelectorTrigger:function(){$(".week").bind("mousedown",function(e){e.metaKey=!0,changeTimeoutAction()}).selectable({start:function(e,t){r=new Array,o=new Array},selecting:function(e,t){var a,i,l;if("DIV"!=t.selecting.tagName&&(o.push(t.selecting),null==c.tmpDate&&(a=Math.floor(t.selecting.value/h.totalColumn),i=t.selecting.value%h.totalColumn,l=$(t.selecting),c.tmpDate=a,1==c.timeArray[a][i])))for(;0<i;){if(i--,1!=c.timeArray[a][i]||0==i){0==i&&(l=l.prev()),l.children(".display").remove();break}l=l.prev()}},selected:function(e,t){var a,i;"DIV"!=t.selected.tagName&&($(t.selected).addClass("click-selected-locked"),a=Math.floor(t.selected.value/h.totalColumn),i=t.selected.value%h.totalColumn,c.timeArray[a][i]=1)},unselectig:function(e,t){0==r.length&&r.push(t.unselecting),0<o.length&&o.pop()},unselected:function(e,t){0==r.length&&r.push(t.unselected),$(t.unselected).addClass("ui-selected")},stop:function(e,t){var a,i,l,s,n=-1;if(1==r.length)if(a=$(r[0]),i=Math.floor(a.val()/h.totalColumn),23==(l=a.val()%h.totalColumn)||1!=c.timeArray[i][l+1]){for(s=0,n=l;0<=n&&1==c.timeArray[i][n];n--)c.timeArray[i][n]=0,s++;for(a.children(".sprite").remove(),n=0;n<s;n++)a.removeClass("ui-selected click-selected-locked ui-unselecting"),n==s-1?a.children(".display").remove():a=a.prev()}else null!=c.tmpDate&&c.r_showTimeRange(c.tmpDate);else if(0<o.length&&null!=o[0]&&null!=o[1]&&0<$(o[0]).children(".sprite").length&&o[0].value>o[1].value){for($(o[0]).children(".sprite").remove(),n=0;n<o.length;n++)a=$(o[n]),i=Math.floor(a.val()/h.totalColumn),l=a.val()%h.totalColumn,c.timeArray[i][l]=0,a.removeClass("ui-selected click-selected-locked ui-unselecting");c.r_showTimeRange(c.tmpDate)}else c.r_showTimeRange(c.tmpDate);c.tmpDate=null}})},scheduleValid:function(){var t=this;$.validator.addMethod("trimWhiteSpace",function(e,t){var a=!0;return e!=e.trim()&&(a=!1),a},I18N("j","Invalid %s. Only A-Z, a-z, 0-9, “-”, “_”, and spaces are allowed.",I18N("j","Name"))),$.validator.addMethod("checkGenName",function(e,t){var a=!0;return""!=e&&(a=COMM_ValidName(e)),a},I18N("j","Invalid %s. Only A-Z, a-z, 0-9, “-”, “_”, and spaces are allowed.",I18N("j","Name"))),$.validator.addMethod("checkReservedName",function(e,t){var a=!0,i=e.toLowerCase();return"always"!=i&&"h24-uh1xltja7o"!=i&&"wireless schedule"!=i&&"h5-uh1xltja7o"!=i&&"wireless 5ghz schedule"!=i&&"h52-uh1xltja7o"!=i&&"wireless 5ghz-2 schedule"!=i&&"g24-uh1xltja7o"!=i&&"wireless guest zone schedule"!=i&&"g5-uh1xltja7o"!=i&&"wireless guest zone 5ghz schedule"!=i&&"g52-uh1xltja7o"!=i&&"wireless guest zone 5ghz-2 schedule"!=i||(a=!1),a},I18N("j","The name is reserved. Please assign another name for the schedule.")),$("#schedule_form").validate({rules:{schedule_name:{trimWhiteSpace:!0,checkGenName:!0,checkReservedName:!0}},submitHandler:function(e){return t.closeCreateRulePOP(),!1}})},closeCreateRulePOP:function(){var e=!1;c.r_setName($("#schedule_name").val()),c.r_makeTimeSet(),null!=c.rowid?"wireless"==h.page?e=spDropDownListDatalist.edit(c.rowid,c):(e=scheduleTableUI.editData(c.rowid,c),scheduleTableUI.check_TotalRule()):"wireless"==h.page?e=spDropDownListDatalist.push(c):(e=scheduleTableUI.pushData(c),scheduleTableUI.check_TotalRule()),1==e&&this.clearCreateRulePOP()},clearCreateRulePOP:function(){changeTimeoutAction(),$("#schedule_form input").removeClass("error"),$("label.error").hide(),document.getElementById("scheduleSelectPop").style.display="none",document.getElementById("schedule_name").value="",$("li").removeClass("ui-selected click-selected-locked ui-unselecting"),$("li .sprite").remove(),$("li .display").remove(),c=null}},i={init:function(e){return h=new t(e),a.createSelectorTrigger(),a.scheduleValid(),"wireless"==h.page&&$("#schedule_name").hide(),30==h.timeFormat&&$("#scheduleSelectPop #border").css({background:"url(image/scheduleTable30.png?v=a3a1f295ba) left top no-repeat"}),$("#scheduleSelectPop #closeCreatePopBtn").on("click",function(){a.clearCreateRulePOP()}),"wireless"==h.page?spDropDownListDatalist.setConfig(h):scheduleTableUI.setConfig(h),this},getData:function(e){return a.getHnapData(e),this},addData:function(e){return changeTimeoutAction(),$("#scheduleSelectPop").show(),c=new m,a.createScheduleTable(c,e),this},editData:function(e,t){changeTimeoutAction(),$("#scheduleSelectPop").show(),c=e,a.createScheduleTable(c,t)},testStack:function(){console.log(o),console.log(c)}};e.scheduleSelectableUI=i}(window),function(e){var m,p;function s(){}function t(){this.list=new Array,this.maxrowid=0}s.prototype={setRowid:function(e){this.rowid=e}},t.prototype={getRowNum:function(e){var t=0;for(t=0;t<this.list.length&&e!=this.list[t].rowid;t++);return t},findRowid:function(e){var t=-1,a=-1;for(t=0;t<this.list.length;t++)if(e==this.list[t].name){a=this.list[t].rowid;break}return a},getData:function(e){var t,a;for(t=0;t<this.list.length&&(a=this.list[t]).rowid!=e;t++);return a},push:function(e,t){var a=t,l=new s;for($.extend(l,e),l.setRowid(this.maxrowid),this.list.push(l),null==a&&(a=$("#schedule_name").val()),i=0;i<scheduleList.length;i++)scheduleList[i].spDropDownList("updateAddOption",a,this.maxrowid);return this.maxrowid++,!0},editData:function(e,t){var a=new s;$.extend(a,t);var l=this.getRowNum(e);if(0==this.checkData(a,l))return!1;for(a.setRowid(e),this.list.splice(l,1,a),i=0;i<scheduleList.length;i++)scheduleList[i].spDropDownList("updateEditOption",$("#schedule_name").val());return!0},checkData:function(e,t){var a,i,l,s=/_[0-9]$/,n=0;for(""==e.name.replace(/\s/g,"")&&(e.name="NewRule",l=e.name,n=1),a=0;a<this.list.length;a++)if(a!=t)if(i=this.list[a].name,s.test(i)){var r=i.split("_");l=r[0];var o=parseInt(r[1],10);if(e.name==l)n<=o&&(n=o+1);else if(s.test(e.name)){var d=e.name.split("_");d[0]==l&&(n=parseInt(d[1],10),o==cpimter&&n++)}}else e.name==i&&(l=e.name,n=1);return"NewRule"!=e.name&&"Always"!=e.name||(e.name=l+"_"+n,0==n&&n++),0<n&&(e.name=l+"_"+n),!0},deleteData:function(e){var t=this.getRowNum(e);this.list.splice(t,1)}};var a={init:function(e){return p=new t,this},setConfig:function(e){m=e},push:function(e){return p.push(e)},edit:function(e,t){return p.editData(e,t)},addUIOption:function(){var e=-1,t=-1;for(e=0;e<p.list.length;e++){var a=p.list[e].name;if("H24-UH1xLTJa7O"==a||"H5-UH1xLTJa7O"==a||"H52-UH1xLTJa7O"==a||"G24-UH1xLTJa7O"==a||"G5-UH1xLTJa7O"==a||"G52-UH1xLTJa7O"==a)for(t=0;t<scheduleList.length;t++)scheduleList[t].spDropDownList("addOption",p.list[e])}},editData:function(e,t){changeTimeoutAction();var a=new Object,i=p.getData(e);if($.extend(a,i),60==m.timeFormat)for(var l=0;l<a.list.length;l++)for(var s=a.list[l].start;s<a.list[l].end;s++)a.timeArray[a.list[l].date-1][s]=1;else for(l=0;l<a.list.length;l++){var n=2*a.list[l].start,r=2*a.list[l].end;30==a.list[l].startMin&&(n+=1),30==a.list[l].endMin&&(n+=1);for(s=n;s<r;s++)a.timeArray[a.list[l].date-1][s]=1}null==t&&scheduleSelectableUI.editData(a,a.name)},deleteGuestData:function(e){var t=p.findRowid(e);-1!=t&&p.deleteData(t)},deleteData:function(e){var t=-1,a=p.findRowid(e);if(-1!=a)for(p.deleteData(a),t=0;t<scheduleList.length;t++)scheduleList[t].spDropDownList("updateDeleteOption",e)},cloneData:function(e,t){var a=p.findRowid(e),i=p.findRowid(t),l=new Object,s=p.getData(a);return $.extend(l,s),l.name=t,-1==i?p.push(l,t):p.editData(i,l),!0},setScheduleXML:function(){var e=new SOAPSetScheduleSettingsResponse,t=new SOAPSetScheduleBitmapSettings,a=-1,i=-1,l=-1,s=-1,n="";if("GetScheduleSettings"==m.hnapName){if(0<p.list.length)for(a=0;a<p.list.length;a++){var r=this.makeAllWeek(p.list[a]),o=new SOAPScheduleInfoLists;o.ScheduleName=r.name,e.push(o);for(i=0;i<r.list.length;i++){var d="false";0==r.list[i].start&&24==r.list[i].end&&(d="true");var c=new SOAPScheduleInfo;c.ScheduleDate=r.list[i].date,c.ScheduleAllDay=d,c.ScheduleTimeFormat="true",c.ScheduleStartTimeInfo.TimeHourValue=r.list[i].start,c.ScheduleEndTimeInfo.TimeHourValue=r.list[i].end,60==m.timeFormat?(c.ScheduleStartTimeInfo.TimeMinuteValue="00",c.ScheduleEndTimeInfo.TimeMinuteValue="00"):(0==r.list[i].startMin?c.ScheduleStartTimeInfo.TimeMinuteValue="00":c.ScheduleStartTimeInfo.TimeMinuteValue="30",0==r.list[i].endMin?c.ScheduleEndTimeInfo.TimeMinuteValue="00":c.ScheduleEndTimeInfo.TimeMinuteValue="30"),c.ScheduleStartTimeInfo.TimeMidDateValue="false",c.ScheduleEndTimeInfo.TimeMidDateValue="false",e.ScheduleInfoLists[a].push(c)}}else e=new SOAPSetScheduleSettingsResponse_null;return e}if(0<p.list.length)for(a=0;a<p.list.length;a++){var u=new SOAPScheduleBitmapLists,h=new Array;for(this.editData(p.list[a].rowid,!0),l=0;l<p.list[a].timeArray.length;l++)if(30==m.timeFormat)for(s=0;s<p.list[a].timeArray[l].length-1;s+=2)null==p.list[a].timeArray[l][s]&&(p.list[a].timeArray[l][s]=0),null==p.list[a].timeArray[l][s+1]&&(p.list[a].timeArray[l][s+1]=0),n=(p.list[a].timeArray[l][s].toString()+p.list[a].timeArray[l][s+1].toString()).replace(/00/g,"0").replace(/11/g,"F").replace(/10/g,"3").replace(/01/g,"C"),h.push(n);else for(s=0;s<p.list[a].timeArray[l].length;s++)null==p.list[a].timeArray[l][s]&&(p.list[a].timeArray[l][s]=0),n=p.list[a].timeArray[l][s].toString().replace(/1/g,"F"),h.push(n);u.ScheduleName=p.list[a].name,u.Bitmap=h.toString().replace(/,/g,""),u.Interval=currentDevice.featureScheduleRuleSlotInterval,t.push(u)}else t=new Object;return t},makeAllWeek:function(e){for(var t=0;t<e.list.length;t++){var a=e.list[t],i=0;if(1==a.date){for(var l=0,s=e.list.length;l<s;l++)a.start==e.list[l].start&&a.end==e.list[l].end&&i++;if(7==i){for(l=0;l<e.list.length;)e.list[l]!=a&&a.start==e.list[l].start&&a.end==e.list[l].end?e.list.splice(l,1):l++;t=a.date=0}}}return e},showTest:function(){console.log(p)}};a.init(),e.spDropDownListDatalist=a}(window),function(e){var t={confirmPop:function(e){var t=$.Deferred();return $("#createPop .styled_button_s").hide(),$("#scheduleBtn_ok").show(),$("#scheduleBtn_cancel").show(),$("#popMessage").text(e),$("#scheduleBtn_ok").off("click").on("click",function(){t.resolve(),$("#createPop").hide()}),$("#scheduleBtn_cancel").off("click").on("click",function(){t.reject(),$("#createPop").hide()}),$("#createPop").show(),t.promise()},okPop:function(e){var t=$.Deferred();return $("#createPop .styled_button_s").hide(),$("#scheduleBtn_ok").show(),$("#scheduleBtn_cancel").hide(),$("#popMessage").text(e),$("#scheduleBtn_ok").off("click").on("click",function(){t.resolve(),$("#createPop").hide()}),$("#createPop").show(),t.promise()}};window.schedulePop=t}();