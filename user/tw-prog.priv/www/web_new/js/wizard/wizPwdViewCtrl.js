/* svn info: $Revision: 1564 $ $Date: 2019-08-01 17:53:44 +0800 (Thu, 01 Aug 2019) $ */
define(["wizPath/wizardModel","wizPath/wizardView"],function(e,r){var t,i,n=null;function a(e){return t=$.Deferred(),i=e,$("#wizard_title").html(I18N("j","Admin Password")),$("#DUT").attr("src","image/Device_yellow.png"),$("#Wizard6").show(),0==isTouch()&&$("#Wizard6_Admin_Pwd").focus(),$("#wizButton_back").off("click").on("click",function(){t.resolve("back")}),$("#wizButton_next").off("click").on("click",function(){$("#Wizard6_form").submit()}),$("#closeWizBtn").off("vclick").on("vclick",function(){t.reject()}),function(){null!=n&&n.resetForm();$.validator.addMethod("checkASCIIChar",function(e,r){return 0==e.length||CheckASCII(e)},I18N("j","Text field contains illegal characters.")),$.validator.addMethod("requireDevicePassword",function(e,r){var t=!0;return 0==e.length&&(t=!1),t},I18N("j","err_check_Password")),$.validator.addMethod("checkDevicePassword",function(e,r){var t=!0;return(15<e.length||e.length<6)&&(t=!1),t},I18N("j","err_check_DeviceAdminPassword")),$.validator.addMethod("checkAdminPassword",function(e,r){var t=!0;return/^(?![^A-Za-z]+$)(?![^0-9]+$)[\x21-\x7e]{6,30}$/.test(e)||(t=!1),t},I18N("j","Password should be 6~30 characters and a combination of letters, numbers and special characters without space.")),n=$("#Wizard6_form").validate({rules:{Wizard6_Admin_Pwd:{checkAdminPassword:!0}},submitHandler:function(e){return i.password=$("#Wizard6_Admin_Pwd").val(),currentDevice.featureNewTime?t.resolve("timeZone"):currentDevice.featureAutoUpgrade?t.resolve("autoUpgrade"):t.resolve("summary"),!1},skipBr:function(e){var r=e.parent("div");return 0!=r.length}})}(),t.promise()}return{init:function(e){return a(e)}}});