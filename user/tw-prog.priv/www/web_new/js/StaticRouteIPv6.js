/* svn info: $Revision: 847 $ $Date: 2018-06-06 18:37:11 +0800 (Wed, 06 Jun 2018) $ */
function Datalist(){this.list=new Array,this.maxrowid=0}function Data(t,i,e,s,a,r){var o=parseInt(a,10);this.name=t,this.ipAddress=i,this.mask=e,this.gateway=s,this.metric=o,this.dev=r,this.setEnable("true")}Datalist.prototype.getData=function(t){var i,e;for(i=0;i<this.list.length&&(e=this.list[i]).rowid!=t;i++);return e},Datalist.prototype.getRowNum=function(t){var i=0;for(i=0;i<this.list.length&&t!=this.list[i].rowid;i++);return i},Datalist.prototype.editData=function(t,i){var e=this.getRowNum(t);return 0!=this.checkData(i,e)&&(i.setRowid(t),this.list.splice(e,1,i),i.setDataToRow($("#tr"+i.rowid)),!0)},Datalist.prototype.deleteData=function(t){var i=this.getRowNum(t);this.list.splice(i,1),$("#tr"+t).remove()},Datalist.prototype.push=function(t){return 0!=this.checkData(t,null)&&(t.setRowid(this.maxrowid),this.list.push(t),this.maxrowid++,t.addRowToHTML("tblStaticRoute"),!0)},Datalist.prototype.checkData=function(t,i){var e;for(e=0;e<this.list.length;e++)if(e!=i){if(this.list[e].name==t.name)return alert(I18N("j","Name cannot be the same.")),!1;if(this.list[e].ipAddress==t.ipAddress&&this.list[e].tcpPort==t.tcpPort&&this.list[e].udpPort==t.udpPort&&this.list[e].schedule==t.schedule)return alert(I18N("j","Rule cannot be the same.")),!1}return!0},Datalist.prototype.length=function(){return this.list.length},Data.prototype={rowid:null,enable:null,name:null,ipAddress:null,mask:null,gateway:null,metric:null,dev:null,setRowid:function(t){this.rowid=t},setEnable:function(t){this.enable=t},showEnable:function(){var t="",i="true";return"true"==this.enable&&(t="checked",i="false"),'<input type="checkbox" onChange="datalist.list['+this.rowid+"].setEnable('"+i+"')\" "+t+"/>"},showName:function(){return HTMLEncode(this.name)},showDev:function(){return"WAN"==this.dev?I18N("j","WAN"):"LAN"==this.dev?I18N("j","LAN"):void 0},addRowToHTML:function(t){var i;i="<tr id='tr"+this.rowid+"'></tr>",$("#"+t+"> tbody").append(i),this.setDataToRow($("#tr"+this.rowid))},setDataToRow:function(t){var i;i="<td>"+this.showEnable()+"</td>",i+="<td>"+this.showName()+"</td>",i+="<td>"+this.ipAddress+"</td>",i+="<td>"+this.mask+"</td>",i+="<td>"+this.gateway+"</td>",i+="<td>"+this.metric+"</td>",i+="<td>"+this.showDev()+"</td>",i+="<td><img src='image/edit_btn.png?v=2fc10c4616' width=28 height=28 style='cursor:pointer' onclick='editData("+this.rowid+")'/></td>",i+="<td><img src='image/trash.png?v=8fee37bb10' width=41 height=41 style='cursor:pointer' onclick='deleteData("+this.rowid+")'/></td>",t.html(i)}};