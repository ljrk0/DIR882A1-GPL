/* svn info: $Revision: 847 $ $Date: 2018-06-06 18:37:11 +0800 (Wed, 06 Jun 2018) $ */
function pd(t){RGraph.pr(t)}function p(t){RGraph.pr(t)}function a(t){alert(t)}function cl(t){return console.log(t)}"undefined"==typeof RGraph&&(RGraph={isRGraph:!0,type:"common"}),RGraph.Registry={},RGraph.Registry.store=[],RGraph.Registry.store["chart.event.handlers"]=[],RGraph.Registry.store.__rgraph_event_listeners__=[],RGraph.background={},RGraph.objects=[],RGraph.Resizing={},RGraph.events=[],RGraph.cursor=[],RGraph.DOM2Events={},RGraph.ObjectRegistry={},RGraph.ObjectRegistry.objects={},RGraph.ObjectRegistry.objects.byUID=[],RGraph.ObjectRegistry.objects.byCanvasID=[],HALFPI=Math.PI/2,PI=Math.PI,TWOPI=2*PI,RGraph.getScale=function(t,e){if(0==t)return["0.2","0.4","0.6","0.8","1.0"];var r=t;if(t<=1){if(.5<t)return[.2,.4,.6,.8,Number(1).toFixed(1)];if(.1<=t)return e.Get("chart.scale.round")?[.2,.4,.6,.8,1]:[.1,.2,.3,.4,.5];for(var a=t,n=0;a<1.01;)n+=1,a*=10;var o=["2e-"+n,"4e-"+n,"6e-"+n,"8e-"+n,"10e-"+n];return t<="5e-"+n&&(o=["1e-"+n,"2e-"+n,"3e-"+n,"4e-"+n,"5e-"+n]),o}0<String(t).indexOf(".")&&(t=String(t).replace(/\.\d+$/,""));for(var i=Math.pow(10,Number(String(Number(t)).length-1)),s=i;s<t;)s+=i/2;return Number(r)>Number(s)&&(s+=i/2),t<10&&(s=Number(r)<=5?5:10),e&&"boolean"==typeof e.Get("chart.scale.round")&&e.Get("chart.scale.round")&&(s=10*i),[.2*s,.4*s,.6*s,.8*s,s]},RGraph.array_max=function(t){var e=null;if("number"==typeof t)return t;for(var r=0;r<t.length;++r)if("number"==typeof t[r]){var a=arguments[1]?Math.abs(t[r]):t[r];e="number"==typeof e?Math.max(e,a):a}return e},RGraph.array_pad=function(t,e){if(t.length<e)for(var r=arguments[2]?arguments[2]:null,a=t.length;a<e;++a)t[a]=r;return t},RGraph.array_sum=function(t){if("number"==typeof t)return t;var e,r,a=t.length;for(r=e=0;e<a;r+=t[e++]);return r},RGraph.array_linearize=function(){for(var t=[],e=0;e<arguments.length;++e)if("object"==typeof arguments[e]&&arguments[e])for(var r=0;r<arguments[e].length;++r)for(var a=RGraph.array_linearize(arguments[e][r]),n=0;n<a.length;++n)t.push(a[n]);else t.push(arguments[e]);return t},RGraph.Text=function(t,e,r,a,n,o){if(("string"==typeof o||"number"==typeof o)&&"undefined"!=o){var i=RGraph.MeasureText("M",arguments[11],e,r);if("string"==typeof o&&o.match(/\r\n/)){var s=o.split("\r\n");arguments[6]&&"center"==arguments[6]&&(n-=i[1]*((s.length-1)/2));for(var h=1;h<s.length;++h)RGraph.Text(t,e,r,-90==arguments[9]?a+1.5*r:a,n+i[1]*h,s[h],arguments[6]?arguments[6]:null,arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);o=s[0]}RGraph.isOld()&&(n+=2),t.font=(arguments[11]?"Bold ":"")+r+"pt "+e;var c=t.fillStyle,l=t.lineWidth;if(null==typeof arguments[6]&&(arguments[6]="bottom"),null==typeof arguments[7]&&(arguments[7]="left"),null==typeof arguments[8]&&(arguments[8]=null),null==typeof arguments[9]&&(arguments[9]=0),null==typeof arguments[12]&&(arguments[12]=!0),-1!=navigator.userAgent.indexOf("Opera")&&(t.canvas.__rgraph_valign__=arguments[6],t.canvas.__rgraph_halign__=arguments[7]),t.save(),t.canvas.__rgraph_originalx__=a,t.canvas.__rgraph_originaly__=n,t.translate(a,n),n=a=0,arguments[9]&&t.rotate(arguments[9]/57.3),arguments[6]){var u=arguments[6];"center"==u?t.translate(0,r/2):"top"==u&&t.translate(0,r)}if(arguments[7]){var p=arguments[7],g=t.measureText(o).width;p&&("center"==p?t.translate(g/2*-1,0):"right"==p&&t.translate(-1*g,0))}if(t.fillStyle=c,t.save(),t.fillText(o,0,0),t.lineWidth=1,arguments[8]){g=t.measureText(o).width;var f=RGraph.isIE8()?2:0;if(t.translate(a,n),t.strokeRect(Math.round(-3),Math.round(-3-r-f),g+6,0+r+6),arguments[10]){f=RGraph.isIE8()?2:0,g=t.measureText(o).width;t.fillStyle=arguments[10],t.fillRect(Math.round(a-3),Math.round(n-r-3-f),g+6,r+6)}t.fillStyle=c,t.fillText(o,0,0),arguments[12]&&t.fillRect("left"==arguments[7]?0:("center"==arguments[7]?g/2:g)-2,"bottom"==arguments[6]?0:("center"==arguments[6]?(0-r)/2:0-r)-2,4,4)}t.restore(),t.lineWidth=l,t.restore()}},RGraph.Clear=function(t){if(t){RGraph.FireCustomEvent(t.__object__,"onbeforeclear");var e=t.getContext("2d"),r=arguments[1];if(RGraph.isIE8()&&!r&&(r="white"),!r||r&&"transparent"==r?(e.clearRect(0,0,t.width,t.height),e.globalCompositeOperation="source-over"):(e.fillStyle=r,(e=t.getContext("2d")).beginPath(),RGraph.isIE8()?e.fillRect(0,0,t.width,t.height):e.fillRect(-10,-10,t.width+20,t.height+20),e.fill()),RGraph.ClearAnnotations,RGraph.Registry.Get("chart.background.image."+t.id)){var a=RGraph.Registry.Get("chart.background.image."+t.id);a.style.position="absolute",a.style.left="-10000px",a.style.top="-10000px"}RGraph.Registry.Get("chart.tooltip")&&RGraph.HideTooltip(),t.style.cursor="default",RGraph.FireCustomEvent(t.__object__,"onclear")}},RGraph.DrawTitle=function(t,e,r){var a=t.canvas,n=t.context,o=t.Get("chart.gutter.left"),i=t.Get("chart.gutter.right"),s=t.Get("chart.gutter.bottom"),h=arguments[4]?arguments[4]:12,c=t.Get("chart.title.bold"),l=arguments[3]?arguments[3]:(t.canvas.width-o-i)/2+o,u=t.Get("chart.key.position"),p=t.Get("chart.title.vpos"),g=t.Get("chart.title.hpos"),f=t.Get("chart.title.background");if("bar"==t.type&&"3d"==t.Get("chart.variant")&&(u="gutter"),n.beginPath(),n.fillStyle=t.Get("chart.text.color")?t.Get("chart.text.color"):"black",u&&"gutter"!=u)var d="center";else if(u)d="bottom";else var d="center";"number"==typeof t.Get("chart.title.vpos")?(p=t.Get("chart.title.vpos")*r,"top"==t.Get("chart.xaxispos")&&(p=t.Get("chart.title.vpos")*s+r+(t.canvas.height-r-s))):(p=r-h-5,"top"==t.Get("chart.xaxispos")&&(p=t.canvas.height-s+h+5)),"number"==typeof g&&(l=g*a.width),t.Get("chart.title.color");var G=n.fillStyle,y=t.Get("chart.title.color");n.fillStyle=y||"black";var b=t.Get("chart.text.font");"string"==typeof t.Get("chart.title.font")&&(b=t.Get("chart.title.font")),RGraph.Text(n,b,h,l,p,e,d,"center",null!=f,null,f,c),n.fillStyle=G},RGraph.getMouseXY=function(t){var e,r,a=t.target,n=a,o=0,i=0,s=(parseInt(n.style.borderLeftWidth)||0)+(parseInt(n.style.paddingLeft)||0),h=(parseInt(n.style.borderTopWidth)||0)+(parseInt(n.style.paddingTop)||0);if("number"==typeof t.offsetX&&"number"==typeof t.offsetY)e=t.offsetX-s,r=t.offsetY-h;else{if(void 0!==a.offsetParent)for(;o+=a.offsetLeft,i+=a.offsetTop,a=a.offsetParent;);e=t.pageX-o-s,r=t.pageY-i-h}return[e,r]},RGraph.getCanvasXY=function(t){for(var e=0,r=0,a=t;e+=a.offsetLeft,r+=a.offsetTop,(a=a.offsetParent)&&"body"!=a.tagName.toLowerCase(););var n=t.style.paddingLeft?parseInt(t.style.paddingLeft):0,o=t.style.paddingTop?parseInt(t.style.paddingTop):0;return[e+n+(t.style.borderLeftWidth?parseInt(t.style.borderLeftWidth):0),r+o+(t.style.borderTopWidth?parseInt(t.style.borderTopWidth):0)]},RGraph.Register=function(t){t.Get("chart.noregister")||(RGraph.ObjectRegistry.Add(t),t.Set("chart.noregister",!0))},RGraph.Redraw=function(){for(var t=RGraph.ObjectRegistry.objects.byCanvasID,e=document.getElementsByTagName("canvas"),r=0;r<e.length;++r)e[r].__object__&&e[r].__object__.isRGraph&&(e[r].noclear||RGraph.Clear(e[r],arguments[0]?arguments[0]:null));for(r=0;r<t.length;++r)if(t[r]){t[r][0];t[r][1].Draw()}},RGraph.RedrawCanvas=function(t){var e=RGraph.ObjectRegistry.getObjectsByCanvasID(t.id);(!arguments[1]||"boolean"==typeof arguments[1]&&0==!arguments[1])&&RGraph.Clear(t);for(var r=0;r<e.length;++r)e[r]&&e[r]&&e[r].isRGraph&&e[r].Draw()},RGraph.background.Draw=function(t){t.canvas;var e=t.context,r=0,a=t.Get("chart.gutter.left"),n=t.Get("chart.gutter.right"),o=t.Get("chart.gutter.top"),i=t.Get("chart.gutter.bottom"),s=t.Get("chart.variant");if(e.fillStyle=t.Get("chart.text.color"),"3d"==s&&(e.save(),e.translate(10,-5)),"string"==typeof t.Get("chart.title.xaxis")&&t.Get("chart.title.xaxis").length){var h=t.Get("chart.text.size")+2,c=t.Get("chart.text.font"),l=t.Get("chart.title.xaxis.bold");"number"==typeof t.Get("chart.title.xaxis.size")&&(h=t.Get("chart.title.xaxis.size")),"string"==typeof t.Get("chart.title.xaxis.font")&&(c=t.Get("chart.title.xaxis.font"));var u=(t.canvas.width-t.gutterLeft-t.gutterRight)/2+t.gutterLeft,p=t.canvas.height-t.Get("chart.gutter.bottom")+25;"number"==typeof t.Get("chart.title.xaxis.pos")&&(p=t.canvas.height-i*t.Get("chart.title.xaxis.pos")),e.beginPath(),RGraph.Text(e,c,h,u,p,t.Get("chart.title.xaxis"),"center","center",!1,!1,!1,l),e.fill()}if("string"==typeof t.Get("chart.title.yaxis")&&t.Get("chart.title.yaxis").length){h=t.Get("chart.text.size")+2,c=t.Get("chart.text.font");var g=270,f=(l=t.Get("chart.title.yaxis.bold"),t.Get("chart.title.yaxis.color"));if("number"==typeof t.Get("chart.title.yaxis.pos"))var d=t.Get("chart.title.yaxis.pos")*t.Get("chart.gutter.left");else d=(t.Get("chart.gutter.left")-25)/t.Get("chart.gutter.left")*t.Get("chart.gutter.left");"number"==typeof t.Get("chart.title.yaxis.size")&&(h=t.Get("chart.title.yaxis.size")),"string"==typeof t.Get("chart.title.yaxis.font")&&(c=t.Get("chart.title.yaxis.font")),"right"==t.Get("chart.title.yaxis.align")||"right"==t.Get("chart.title.yaxis.position")?(g=90,d=t.Get("chart.title.yaxis.pos")?t.canvas.width-t.Get("chart.gutter.right")+t.Get("chart.title.yaxis.pos")*t.Get("chart.gutter.right"):t.canvas.width-t.Get("chart.gutter.right")+t.Get("chart.text.size")+5):d=d,e.beginPath(),e.fillStyle=f,RGraph.Text(e,c,h,d,(t.canvas.height-t.gutterTop-t.gutterBottom)/2+t.gutterTop,t.Get("chart.title.yaxis"),"center","center",!1,g,!1,l),e.fill()}t.context.beginPath(),e.fillStyle=t.Get("chart.background.barcolor1"),r=t.canvas.height-i;for(var G=o;G<r;G+=80)t.context.fillRect(a,G,t.canvas.width-a-n,Math.min(40,t.canvas.height-i-G));e.fillStyle=t.Get("chart.background.barcolor2"),r=RGraph.GetHeight(t)-i;for(G=40+o;G<r;G+=80)t.context.fillRect(a,G,t.canvas.width-a-n,G+40>t.canvas.height-i?t.canvas.height-(i+G):40);if(e.stroke(),t.Get("chart.background.grid")){if(t.Get("chart.background.grid.autofit")){t.Get("chart.background.grid.autofit.align")&&(t.Set("chart.background.grid.autofit.numhlines",t.Get("chart.ylabels.count")),"line"==t.type?t.Get("chart.labels")&&t.Get("chart.labels").length?t.Set("chart.background.grid.autofit.numvlines",t.Get("chart.labels").length-1):t.Set("chart.background.grid.autofit.numvlines",t.data[0].length-1):"bar"==t.type&&t.Get("chart.labels")&&t.Get("chart.labels").length&&t.Set("chart.background.grid.autofit.numvlines",t.Get("chart.labels").length));var b=(t.canvas.width-a-n)/t.properties["chart.background.grid.autofit.numvlines"],v=(t.canvas.height-o-i)/t.properties["chart.background.grid.autofit.numhlines"];t.Set("chart.background.grid.vsize",b),t.Set("chart.background.grid.hsize",v)}if(e.beginPath(),e.lineWidth=t.Get("chart.background.grid.width")?t.Get("chart.background.grid.width"):1,e.strokeStyle=t.Get("chart.background.grid.color"),t.Get("chart.background.grid.hlines"))for(r=RGraph.GetHeight(t)-i,y=o;y<r;y+=t.Get("chart.background.grid.hsize"))e.moveTo(a,Math.round(y)),e.lineTo(t.canvas.width-n,Math.round(y));if(t.Get("chart.background.grid.vlines")){var R=t.canvas.width-n;for(x=a;x<=R;x+=t.Get("chart.background.grid.vsize"))e.moveTo(Math.round(x),o),e.lineTo(Math.round(x),t.canvas.height-i)}t.Get("chart.background.grid.border")&&(e.strokeStyle=t.Get("chart.background.grid.color"),e.strokeRect(Math.round(a),Math.round(o),t.canvas.width-a-n,t.canvas.height-o-i))}e.stroke(),"3d"==s&&e.restore(),"string"==typeof t.Get("chart.title")&&("gantt"==t.type&&(o-=10),RGraph.DrawTitle(t,t.Get("chart.title"),o,null,t.Get("chart.title.size")?t.Get("chart.title.size"):t.Get("chart.text.size")+2)),e.stroke()},RGraph.GetDays=function(t){var e=t.getFullYear(),r=t.getDate(),a=t.getMonth();return 0==a||(1<=a&&(r+=31),2<=a&&(r+=28),2008<=e&&e%4==0&&(r+=1),3<=a&&(r+=31),4<=a&&(r+=30),5<=a&&(r+=31),6<=a&&(r+=30),7<=a&&(r+=31),8<=a&&(r+=31),9<=a&&(r+=30),10<=a&&(r+=31),11<=a&&(r+=30)),r},RGraph.array_clone=function(t){if(null==t||"object"!=typeof t)return t;for(var e,r,a=[],n=0;n<t.length;++n)"number"==typeof t[n]?a[n]=(r=t[n],Number(r)):"string"==typeof t[n]?a[n]=(e=t[n],String(e)):"function"==typeof t[n]?a[n]=t[n]:a[n]=RGraph.array_clone(t[n]);return a},RGraph.number_format=function(t,e){var r,a,n=arguments[2]?String(arguments[2]):"",o=arguments[3]?String(arguments[3]):"",i="",s="",h=t.Get("chart.scale.point")?t.Get("chart.scale.point"):".",c=t.Get("chart.scale.thousand")?t.Get("chart.scale.thousand"):",";if(RegExp.$1="","function"==typeof t.Get("chart.scale.formatter"))return t.Get("chart.scale.formatter")(t,e);if(0<String(e).indexOf("e"))return String(n+String(e)+o);if(0<(e=String(e)).indexOf(".")){var l=e;e=e.replace(/\.(.*)/,""),s=l.replace(/(.*)\.(.*)/,"$2")}var u=c;for(r=e.length-1,a=0;0<=r;a++,r--){a%3==0&&0!=a&&(i+=u),i+=e.charAt(r)}var p=i;for(i="",r=p.length-1;0<=r;r--)i+=p.charAt(r);return 0==i.indexOf("-"+t.Get("chart.scale.thousand"))&&(i="-"+i.substr(("-"+t.Get("chart.scale.thousand")).length)),s.length&&(i=i+h+s,s="",RegExp.$1=""),"-"==i.charAt(0)&&(i=i.replace(/-/,""),n="-"+n),n+i+o},RGraph.DrawBars=function(t){var e=t.Get("chart.background.hbars");for(t.context.beginPath(),i=0;i<e.length;++i){null==e[i][1]?e[i][1]=t.max:e[i][0]+e[i][1]>t.max&&(e[i][1]=t.max-e[i][0]),Math.abs(e[i][1])>t.max&&(e[i][1]=-1*t.max),Math.abs(e[i][0])>t.max&&(e[i][0]=t.max),e[i][0]+e[i][1]<-1*t.max&&(e[i][1]=-1*(t.max+e[i][0])),"bottom"==t.Get("chart.xaxispos")&&(e[i][0]<0||e[i][1]+e[i][1]<0)&&alert("["+t.type.toUpperCase()+" (ID: "+t.id+") BACKGROUND HBARS] You have a negative value in one of your background hbars values, whilst the X axis is in the center");var r=t.grapharea-(e[i][0]-t.min)/(t.max-t.min)*t.grapharea,a=Math.min(e[i][1],t.max-e[i][0])/(t.max-t.min)*t.grapharea;"center"==t.Get("chart.xaxispos")&&(r/=2,a/=2),r+=t.Get("chart.gutter.top");var n=t.Get("chart.gutter.left"),o=r-a,s=t.canvas.width-t.Get("chart.gutter.left")-t.Get("chart.gutter.right"),h=a;-1!=navigator.userAgent.indexOf("Opera")&&"center"==t.Get("chart.xaxispos")&&h<0&&(o-=h*=-1),"top"==t.Get("chart.xaxispos")&&(o=t.canvas.height-o,h*=-1),t.context.fillStyle=e[i][2],t.context.fillRect(n,o,s,h)}t.context.fill()},RGraph.DrawInGraphLabels=function(t){t.canvas;var e=t.context,r=t.Get("chart.labels.ingraph"),a=[];if(r){for(var n=0;n<r.length;++n)if("number"==typeof r[n])for(var o=0;o<r[n];++o)a.push(null);else"string"==typeof r[n]||"object"==typeof r[n]?a.push(r[n]):a.push("");if(RGraph.NoShadow(t),a&&0<a.length)for(n=0;n<a.length;++n)if(a[n]){var i=t.coords[n];if(i&&0<i.length){var s="bar"==t.type?i[0]+i[2]/2:i[0],h="bar"==t.type?i[1]+i[3]/2:i[1],c="number"==typeof a[n][4]?a[n][4]:25;if(e.beginPath(),e.fillStyle="black",e.strokeStyle="black","bar"==t.type){if("top"==t.Get("chart.xaxispos")&&(c*=-1),"dot"==t.Get("chart.variant")){e.moveTo(Math.round(s),t.coords[n][1]-5),e.lineTo(Math.round(s),t.coords[n][1]-5-c);var l=Math.round(s),u=t.coords[n][1]-5-c}else if("arrow"==t.Get("chart.variant")){e.moveTo(Math.round(s),t.coords[n][1]-5),e.lineTo(Math.round(s),t.coords[n][1]-5-c);l=Math.round(s),u=t.coords[n][1]-5-c}else{e.arc(Math.round(s),h,2.5,0,6.28,0),e.moveTo(Math.round(s),h),e.lineTo(Math.round(s),h-c);l=Math.round(s),u=h-c}e.stroke(),e.fill()}else if("line"==t.type){if("object"==typeof a[n]&&"number"==typeof a[n][3]&&-1==a[n][3]){e.moveTo(Math.round(s),h+5),e.lineTo(Math.round(s),h+5+c),e.stroke(),e.beginPath(),e.moveTo(Math.round(s),h+5),e.lineTo(Math.round(s)-3,h+10),e.lineTo(Math.round(s)+3,h+10),e.closePath();l=s,u=h+5+c}else{l=s,u=h-5-c;e.moveTo(Math.round(s),h-5),e.lineTo(Math.round(s),h-5-c),e.stroke(),e.beginPath(),e.moveTo(Math.round(s),h-5),e.lineTo(Math.round(s)-3,h-10),e.lineTo(Math.round(s)+3,h-10),e.closePath()}e.fill()}e.beginPath(),e.fillStyle="object"==typeof a[n]&&"string"==typeof a[n][1]?a[n][1]:"black",RGraph.Text(e,t.Get("chart.text.font"),t.Get("chart.text.size"),l,u,"object"==typeof a[n]&&"string"==typeof a[n][0]?a[n][0]:a[n],"bottom","center",!0,null,"object"==typeof a[n]&&"string"==typeof a[n][2]?a[n][2]:"white"),e.fill()}}}},RGraph.FixEventObject=function(t){(RGraph.isIE8()||RGraph.isIE7())&&((t=event).pageX=event.clientX+document.body.scrollLeft,t.pageY=event.clientY+document.body.scrollTop,t.target=event.srcElement,!document.body.scrollTop&&document.documentElement.scrollTop&&(t.pageX+=parseInt(document.documentElement.scrollLeft),t.pageY+=parseInt(document.documentElement.scrollTop)));if(void 0===t.offsetX&&void 0===t.offsetY){var e=RGraph.getMouseXY(t);t.offsetX=e[0],t.offsetY=e[1]}return t.stopPropagation||(t.stopPropagation=function(){window.event.cancelBubble=!0}),t},RGraph.HideCrosshairCoords=function(){var t=RGraph.Registry.Get("chart.coordinates.coords.div");t&&1==t.style.opacity&&t.__object__.Get("chart.crosshairs.coords.fadeout")&&(setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.opacity=.9},50),setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.opacity=.8},100),setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.opacity=.7},150),setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.opacity=.6},200),setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.opacity=.5},250),setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.opacity=.4},300),setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.opacity=.3},350),setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.opacity=.2},400),setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.opacity=.1},450),setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.opacity=0},500),setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.display="none"},550))},RGraph.Draw3DAxes=function(t){var e=t.Get("chart.gutter.left"),r=t.Get("chart.gutter.right"),a=t.Get("chart.gutter.top"),n=t.Get("chart.gutter.bottom"),o=t.context,i=t.canvas;o.strokeStyle="#aaa",o.fillStyle="#ddd",o.beginPath(),o.moveTo(e,a),o.lineTo(e+10,a-5),o.lineTo(e+10,i.height-n-5),o.lineTo(e,i.height-n),o.closePath(),o.stroke(),o.fill(),o.beginPath(),o.moveTo(e,i.height-n),o.lineTo(e+10,i.height-n-5),o.lineTo(i.width-r+10,i.height-n-5),o.lineTo(i.width-r,i.height-n),o.closePath(),o.stroke(),o.fill()},RGraph.OldBrowserCompat=function(t){t&&(t.measureText||(t.measureText=function(t){var e=document.createElement("DIV");e.innerHTML=t,e.style.position="absolute",e.style.top="-100px",e.style.left=0,document.body.appendChild(e);var r={width:e.offsetWidth};return e.style.display="none",r}),t.fillText||(t.fillText=function(t,e,r){return!1}),t.canvas.addEventListener||(window.addEventListener=function(t,e,r){return this.attachEvent("on"+t,e)},t.canvas.addEventListener=function(t,e,r){return this.attachEvent("on"+t,e)}))},RGraph.strokedCurvyRect=function(t,e,r,a,n){var o=arguments[5]?arguments[5]:3,i=!(!arguments[6]&&null!=arguments[6]),s=!(!arguments[7]&&null!=arguments[7]),h=!(!arguments[8]&&null!=arguments[8]),c=!(!arguments[9]&&null!=arguments[9]);t.beginPath(),t.moveTo(e+(i?o:0),r),t.lineTo(e+a-(s?o:0),r),s&&t.arc(e+a-o,r+o,o,PI+HALFPI,TWOPI,!1),t.lineTo(e+a,r+n-(h?o:0)),h&&t.arc(e+a-o,r-o+n,o,TWOPI,HALFPI,!1),t.lineTo(e+(c?o:0),r+n),c&&t.arc(e+o,r-o+n,o,HALFPI,PI,!1),t.lineTo(e,r+(i?o:0)),i&&t.arc(e+o,r+o,o,PI,PI+HALFPI,!1),t.stroke()},RGraph.filledCurvyRect=function(t,e,r,a,n){var o=arguments[5]?arguments[5]:3,i=!(!arguments[6]&&null!=arguments[6]),s=!(!arguments[7]&&null!=arguments[7]),h=!(!arguments[8]&&null!=arguments[8]),c=!(!arguments[9]&&null!=arguments[9]);t.beginPath(),i?(t.moveTo(e+o,r+o),t.arc(e+o,r+o,o,PI,PI+HALFPI,!1)):t.fillRect(e,r,o,o),s?(t.moveTo(e+a-o,r+o),t.arc(e+a-o,r+o,o,PI+HALFPI,0,!1)):(t.moveTo(e+a-o,r),t.fillRect(e+a-o,r,o,o)),h?(t.moveTo(e+a-o,r+n-o),t.arc(e+a-o,r-o+n,o,0,HALFPI,!1)):(t.moveTo(e+a-o,r+n-o),t.fillRect(e+a-o,r+n-o,o,o)),c?(t.moveTo(e+o,r+n-o),t.arc(e+o,r-o+n,o,HALFPI,PI,!1)):(t.moveTo(e,r+n-o),t.fillRect(e,r+n-o,o,o)),t.fillRect(e+o,r,a-o-o,n),t.fillRect(e,r+o,o+1,n-o-o),t.fillRect(e+a-o-1,r+o,o+1,n-o-o),t.fill()},RGraph.HideZoomedCanvas=function(){if("object"==typeof __zoomedimage__){if(obj=__zoomedimage__.obj,obj.Get("chart.zoom.fade.out")){for(var t=10,e=1;0<=t;--t,++e)"object"==typeof __zoomedimage__&&setTimeout("__zoomedimage__.style.opacity = "+String(t/10),15*e);"object"==typeof __zoomedbackground__&&setTimeout("__zoomedbackground__.style.opacity = "+String(t/10),15*e)}"object"==typeof __zoomedimage__&&setTimeout("__zoomedimage__.style.display = 'none'",obj.Get("chart.zoom.fade.out")?160:0),"object"==typeof __zoomedbackground__&&setTimeout("__zoomedbackground__.style.display = 'none'",obj.Get("chart.zoom.fade.out")?160:0)}},RGraph.AddCustomEventListener=function(t,e,r){return void 0===RGraph.events[t.uid]&&(RGraph.events[t.uid]=[]),RGraph.events[t.uid].push([t,e,r]),RGraph.events[t.uid].length-1},RGraph.FireCustomEvent=function(t,e){if(t&&t.isRGraph){t[e]&&t[e](t);var r=t.uid;if("string"==typeof r&&"object"==typeof RGraph.events&&"object"==typeof RGraph.events[r]&&0<RGraph.events[r].length)for(var a=0;a<RGraph.events[r].length;++a)RGraph.events[r][a]&&RGraph.events[r][a][1]==e&&RGraph.events[r][a][2](t)}},RGraph.getGutterSuggest=function(t,e){for(var r=0,a=0;a<e.length;++a)r=Math.min(r,e[a]);r=Math.abs(r);var n=RGraph.number_format(t,RGraph.array_max(RGraph.getScale(Math.max(r,RGraph.array_max(e)),t)),t.Get("chart.units.pre"),t.Get("chart.units.post"));if("hbar"==t.type){n="";var o=0;for(a=0;a<t.Get("chart.labels").length;++a)n=t.Get("chart.labels").length>n.length?t.Get("chart.labels")[a]:n}return t.context.font=t.Get("chart.text.size")+"pt "+t.Get("chart.text.font"),o=t.context.measureText(n).width+5,"hbar"==t.type?o/3:o},RGraph.SetConfig=function(t,e){for(i in e)"string"==typeof i&&t.Set(i,e[i]);return t},RGraph.RemoveAllCustomEventListeners=function(){var t=arguments[0];t&&RGraph.events[t]?RGraph.events[t]=[]:RGraph.events=[]},RGraph.RemoveCustomEventListener=function(t,e){"object"==typeof RGraph.events&&"object"==typeof RGraph.events[t.id]&&"object"==typeof RGraph.events[t.id][e]&&(RGraph.events[t.id][e]=null)},RGraph.DrawBackgroundImage=function(t){if("string"==typeof t.Get("chart.background.image")){if(void 0===t.canvas.__rgraph_background_image__){var e=new Image;e.__object__=t,e.__canvas__=t.canvas,e.__context__=t.context,e.src=t.Get("chart.background.image"),t.canvas.__rgraph_background_image__=e}else e=t.canvas.__rgraph_background_image__;e.onload=function(){t.__rgraph_background_image_loaded__=!0,RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas)};var r=t.Get("chart.gutter.left"),a=t.Get("chart.gutter.right"),n=t.Get("chart.gutter.top"),o=t.Get("chart.gutter.bottom"),i=t.Get("chart.background.image.stretch"),s=t.Get("chart.background.image.align");if("string"==typeof s){if(-1!=s.indexOf("right"))var h=t.canvas.width-e.width-a;else h=r;if(-1!=s.indexOf("bottom"))var c=t.canvas.height-e.height-o;else c=n}else h=r,c=n;h="number"==typeof t.Get("chart.background.image.x")?t.Get("chart.background.image.x"):h,c="number"==typeof t.Get("chart.background.image.y")?t.Get("chart.background.image.y"):c;var l=i?t.canvas.width-r-a:e.width,u=i?t.canvas.height-n-o:e.height;"number"==typeof t.Get("chart.background.image.w")&&(l=t.Get("chart.background.image.w")),"number"==typeof t.Get("chart.background.image.h")&&(u=t.Get("chart.background.image.h")),t.context.drawImage(e,h,c,l,u)}},RGraph.hasTooltips=function(t){if("object"==typeof t.Get("chart.tooltips")&&t.Get("chart.tooltips")){for(var e=0;e<t.Get("chart.tooltips").length;++e)if(!RGraph.is_null(t.Get("chart.tooltips")[e]))return!0}else if("function"==typeof t.Get("chart.tooltips"))return!0;return!1},RGraph.CreateUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},RGraph.ObjectRegistry.Add=function(t){var e=t.uid,r=t.canvas.id;RGraph.ObjectRegistry.objects.byUID.push([e,t]),RGraph.ObjectRegistry.objects.byCanvasID.push([r,t])},RGraph.ObjectRegistry.Remove=function(t){for(var e=t.id,r=t.uid,a=0;a<RGraph.ObjectRegistry.objects.byUID.length;++a)RGraph.ObjectRegistry.objects.byUID[a]&&RGraph.ObjectRegistry.objects.byUID[a][1].uid==r&&(RGraph.ObjectRegistry.objects.byUID[a]=null);for(a=0;a<RGraph.ObjectRegistry.objects.byCanvasID.length;++a)RGraph.ObjectRegistry.objects.byCanvasID[a]&&RGraph.ObjectRegistry.objects.byCanvasID[a][0]==e&&(RGraph.ObjectRegistry.objects.byCanvasID[a]=null)},RGraph.ObjectRegistry.Clear=function(){if(arguments[0])for(var t="object"==typeof arguments[0]?arguments[0].id:arguments[0],e=RGraph.ObjectRegistry.getObjectsByCanvasID(t),r=0;r<e.length;++r)RGraph.ObjectRegistry.Remove(e[r]);else RGraph.ObjectRegistry.objects={},RGraph.ObjectRegistry.objects.byUID=[],RGraph.ObjectRegistry.objects.byCanvasID=[]},RGraph.ObjectRegistry.getObjectsByCanvasID=function(t){for(var e=RGraph.ObjectRegistry.objects.byCanvasID,r=[],a=0;a<e.length;++a)e[a]&&e[a][0]==t&&r.push(e[a][1]);return r},RGraph.ObjectRegistry.getFirstObjectByXY=RGraph.ObjectRegistry.getObjectByXY=function(t){for(var e=t.target,r=RGraph.ObjectRegistry.getObjectsByCanvasID(e.id),a=r.length-1;0<=a;--a){var n=r[a].getObjectByXY(t);if(n)return n}},RGraph.ObjectRegistry.getObjectsByXY=function(t){for(var e=t.target,r=[],a=RGraph.ObjectRegistry.getObjectsByCanvasID(e.id),n=a.length-1;0<=n;--n){var o=a[n].getObjectByXY(t);o&&r.push(o)}return r},RGraph.ObjectRegistry.getObjectByUID=function(t){for(var e=RGraph.ObjectRegistry.objects.byUID,r=0;r<e.length;++r)if(e[r]&&e[r][1].uid==t)return e[r][1]},RGraph.ObjectRegistry.getObjectsByType=function(t,e){"string"==typeof t&&(t=document.getElementById(t));for(var r=RGraph.ObjectRegistry.getObjectsByCanvasID(t.id),a=[],n=0;n<r.length;++n)r[n]&&r[n].type&&r[n].type==e&&a.push(r[n]);return a},RGraph.ObjectRegistry.getFirstObjectByType=function(t,e){var r=RGraph.ObjectRegistry.getObjectsByType(t,e);return 0<r.length?r[0]:null},RGraph.getAngleByXY=function(t,e,r,a){var n=Math.atan((a-e)/(r-t));return n=Math.abs(n),t<=r&&e<=a?n+=TWOPI:t<=r&&a<e?n=HALFPI-n+(PI+HALFPI):r<t&&a<e?n+=PI:n=PI-n,n>TWOPI&&(n-=TWOPI),n},RGraph.getHypLength=function(t,e,r,a){return Math.sqrt((r-t)*(r-t)+(a-e)*(a-e))},RGraph.getRadiusEndPoint=function(t,e,r,a){return[t+Math.cos(r)*a,e+Math.sin(r)*a]},RGraph.InstallEventListeners=function(t){RGraph.isOld()||(RGraph.InstallCanvasClickListener?(RGraph.InstallWindowMousedownListener(t),RGraph.InstallWindowMouseupListener(t),RGraph.InstallCanvasMousemoveListener(t),RGraph.InstallCanvasMouseupListener(t),RGraph.InstallCanvasMousedownListener(t),RGraph.InstallCanvasClickListener(t)):(RGraph.hasTooltips(t)||t.Get("chart.adjustable")||t.Get("chart.annotatable")||t.Get("chart.contextmenu")||t.Get("chart.resizable")||t.Get("chart.key.interactive")||t.Get("chart.events.click")||t.Get("chart.events.mousemove"))&&alert("[RGRAPH] You appear to have used dynamic features but not included the file: RGraph.common.dynamic.js"))},RGraph.pr=function(t){var e="",r=arguments[2]?arguments[2]:"";switch(typeof t){case"number":""==r&&(e+="Number: "),e+=String(t);break;case"string":""==r&&(e+="String ("+t.length+"):"),e+='"'+String(t)+'"';break;case"object":if(null==t){e+="null";break}for(var a in e+="Object\n"+r+"(\n",t)"string"!=typeof a&&"number"!=typeof a||(e+=r+" "+a+" => "+RGraph.pr(t[a],!0,r+"    ")+"\n");e=e+r+")";break;case"function":e+=t;break;case"boolean":e+="Boolean: "+(t?"true":"false")}if(arguments[1])return e;alert(e)},RGraph.DashedLine=function(t,e,r,a,n){var o=5;"number"==typeof arguments[5]&&(o=arguments[5]);for(var i=a-e,s=n-r,h=Math.floor(Math.sqrt(i*i+s*s)/o),c=i/h,l=s/h,u=0;u%2==0&&0<u?t.lineTo(e,r):t.moveTo(e,r),e+=c,r+=l,u++<=h;);},RGraph.AJAX=function(t,e){if(window.XMLHttpRequest)var r=new XMLHttpRequest;else if(window.ActiveXObject)r=new ActiveXObject("Microsoft.XMLHTTP");r.onreadystatechange=function(){4==this.readyState&&200==this.status&&(this.__user_callback__=e,this.__user_callback__())},r.open("GET",t,!0),r.send()},RGraph.RotateCanvas=function(t,e,r,a){var n=t.getContext("2d");n.translate(e,r),n.rotate(a),n.translate(0-e,0-r)},RGraph.DrawAxes=RGraph.DrawYAxis=function(t,e){var r=t.gutterTop,a=(t.gutterBottom,e["axis.context"]?e["axis.context"]:t.context),n=e["axis.x"],o=t.properties["chart.gutter.top"],i=e["axis.min"]?e["axis.min"]:0,s=e["axis.max"],h=e["axis.color"]?e["axis.color"]:"black",c=e["axis.title"]?e["axis.title"]:"",l=e["axis.title.color"]?e["axis.title.color"]:h,u=e["axis.text.color"]?e["axis.color"]:h,p=t.canvas.height-t.gutterBottom-t.gutterTop,g=e["axis.numticks"]?e["axis.numticks"]:10,f=e["axis.numlabels"]?e["axis.numlabels"]:5,d=p/g,G=e["axis.font"]?e["axis.font"]:"Arial",y=e["axis.text.size"]?e["axis.text.size"]:10,b="string"==typeof e["axis.align"]?e["axis.align"]:"left",v=e["axis.scale.formatter"],R=e["axis.scale.decimals"],x=e["axis.units.pre"],m=e["axis.units.post"];a.lineWidth+=.01,a.strokeStyle=h,a.beginPath(),a.moveTo(Math.round(n),o),a.lineTo(Math.round(n),o+p),a.stroke(),a.beginPath();for(var _=0;_<=g;++_)a.moveTo("right"==b?n+3:n-3,Math.round(o+d*_)),a.lineTo(n,Math.round(o+d*_));a.stroke(),a.fillStyle=u,a.beginPath();var T=0;for(_=0;_<=f;++_){var j=(f-_)/f*(s-i)+i,I=RGraph.number_format(t,j.toFixed(R),x,m);I=String("function"==typeof v?v(t,j):I),T=Math.max(T,a.measureText(I).width);RGraph.Text(a,G,y,n-("right"==b?-5:5),r+p/f*_,I,"center","right"==b?"left":"right")}a.stroke(),c&&(a.beginPath(),a.fillStyle=l,RGraph.Text(a,G,y+2,"right"==b?n+y+T+2:n-y-T-2,p/2+r,c,"center","center",null,"right"==b?90:-90),a.stroke())},RGraph.DrawXAxis=function(t,e){var r=e["axis.context"]?e["axis.context"]:t.context,a=t.gutterLeft,n=(t.gutterRight,t.properties["chart.gutter.left"]),o=e["axis.y"],i=e["axis.min"]?e["axis.min"]:0,s=e["axis.max"]?e["axis.max"]:null,h=e["axis.labels"]?e["axis.labels"]:null,c="string"==typeof e["axis.labels.position"]?e["axis.labels.position"]:"section",l=e["axis.color"]?e["axis.color"]:"black",u=e["axis.title.color"]?e["axis.title.color"]:l,p=e["axis.text.color"]?e["axis.text.color"]:l,g=t.canvas.width-t.gutterLeft-t.gutterRight,f=(t.canvas.height,t.gutterBottom,t.gutterTop,e["axis.text.font"]?e["axis.text.font"]:"Arial"),d=e["axis.text.size"]?e["axis.text.size"]:10,G="string"==typeof e["axis.align"]?e["axis.align"]:"bottom",y=e["axis.numlabels"]?e["axis.numlabels"]:5,b=e["axis.scale.formatter"],v=Number(e["axis.scale.decimals"]),R=e["axis.units.pre"]?e["axis.units.pre"]:"",x=e["axis.units.post"]?e["axis.units.post"]:"",m=e["axis.title"]?e["axis.title"]:"",_="number"==typeof e["axis.numticks"]?e["axis.numticks"]:h&&h.length?h.length:10,T=e["axis.hmargin"]?e["axis.hmargin"]:0;if(r.lineWidth=1.001,r.strokeStyle=l,r.beginPath(),r.moveTo(n,Math.round(o)),r.lineTo(n+g,Math.round(o)),r.stroke(),r.fillStyle=p,h){y=h.length,r.beginPath();for(var j=0;j<h.length;++j)RGraph.Text(r,f,d,"edge"==c?(g-T-T)/(h.length-1)*j+a+T:(g-T-T)/h.length*j+g/h.length/2+a+T,"bottom"==G?o+d+2:o-d-2,String(h[j]),"center","center");r.fill(),r.beginPath();for(j=0;j<=_;++j)r.moveTo(Math.round(n+g/_*j),o),r.lineTo(Math.round(n+g/_*j),o+("bottom"==G?3:-3));r.stroke()}else{s||alert("[DRAWXAXIS] If not specifying axis.labels you must specify axis.max!"),r.beginPath();for(j=0;j<=y;++j){var I=(s-i)/y*j+i,k=String("function"==typeof b?b(t,I):RGraph.number_format(t,I.toFixed(v),R,x));RGraph.Text(r,f,d,g/y*j+a,"bottom"==G?o+d+2:o-d-2,k,"center","center")}r.fill(),r.beginPath();for(j=0;j<=_;++j)r.moveTo(Math.round(n+g/_*j),o),r.lineTo(Math.round(n+g/_*j),o+("bottom"==G?3:-3));r.stroke()}if(m){var w=RGraph.MeasureText(m,!1,f,d+2);r.fillStyle=u,RGraph.Text(r,f,d+2,g/2+t.gutterLeft,"bottom"==G?o+w[1]+10:o-w[1]-10,m,"center","center")}},RGraph.MeasureText=function(t,e,r,a){var n=document.createElement("DIV");n.innerHTML=t,n.style.position="absolute",n.style.top="-100px",n.style.left="-100px",n.style.fontFamily=r,n.style.fontWeight=e?"bold":"normal",n.style.fontSize=a+"pt",document.body.appendChild(n);a=[n.offsetWidth,n.offsetHeight];return document.body.removeChild(n),a},RGraph.AddEffects||(RGraph.AddEffects=function(t){}),RGraph.LinearGradient=function(t,e,r,a,n,o,i){for(var s=t.context.createLinearGradient(e,r,a,n),h=arguments.length-5,c=5;c<arguments.length;++c){var l=arguments[c],u=(c-5)/(h-1);s.addColorStop(u,l)}return s},RGraph.RadialGradient=function(t,e,r,a,n,o,i,s,h){for(var c=t.context.createRadialGradient(e,r,a,n,o,i),l=arguments.length-7,u=7;u<arguments.length;++u){var p=arguments[u],g=(u-7)/(l-1);c.addColorStop(g,p)}return c},RGraph.array_shift=function(t){for(var e=[],r=1;r<t.length;++r)e.push(t[r]);return e},RGraph.AddEventListener=function(t,e,r){var a=arguments[3]?arguments[3]:"unknown";RGraph.Registry.Get("chart.event.handlers").push([t,e,r,a])},RGraph.ClearEventListeners=function(t){if(t&&"window"==t)window.removeEventListener("mousedown",window.__rgraph_mousedown_event_listener_installed__,!1),window.removeEventListener("mouseup",window.__rgraph_mouseup_event_listener_installed__,!1);else{var e=document.getElementById(t);e.removeEventListener("mouseup",e.__rgraph_mouseup_event_listener_installed__,!1),e.removeEventListener("mousemove",e.__rgraph_mousemove_event_listener_installed__,!1),e.removeEventListener("mousedown",e.__rgraph_mousedown_event_listener_installed__,!1),e.removeEventListener("click",e.__rgraph_click_event_listener_installed__,!1)}},RGraph.HidePalette=function(){var t=RGraph.Registry.Get("palette");"object"==typeof t&&t&&(t.style.visibility="hidden",t.style.display="none",RGraph.Registry.Set("palette",null))},RGraph.random=function(t,e){var r=arguments[2]?arguments[2]:0,a=Math.random();return Number(((e-t)*a+t).toFixed(r))},RGraph.NoShadow=function(t){t.context.shadowColor="rgba(0,0,0,0)",t.context.shadowBlur=0,t.context.shadowOffsetX=0,t.context.shadowOffsetY=0},RGraph.SetShadow=function(t,e,r,a,n){t.context.shadowColor=e,t.context.shadowOffsetX=r,t.context.shadowOffsetY=a,t.context.shadowBlur=n},RGraph.array_reverse=function(t){for(var e=[],r=t.length-1;0<=r;r--)e.push(t[r]);return e},RGraph.Registry.Set=function(t,e){return RGraph.Registry.store[t]=e},RGraph.Registry.Get=function(t){return RGraph.Registry.store[t]},RGraph.degrees2Radians=function(t){return t*(PI/180)},RGraph.is_array=function(t){return null!=t&&-1!=t.constructor.toString().indexOf("Array")},RGraph.trim=function(t){return RGraph.ltrim(RGraph.rtrim(t))},RGraph.ltrim=function(t){return t.replace(/^(\s|\0)+/,"")},RGraph.rtrim=function(t){return t.replace(/(\s|\0)+$/,"")},RGraph.GetHeight=function(t){return t.canvas.height},RGraph.GetWidth=function(t){return t.canvas.width},RGraph.is_null=function(t){return null==t||"object"==typeof t&&!t},RGraph.Timer=function(t){var e=new Date;console.log(t+": "+e.getSeconds()+"."+e.getMilliseconds())},RGraph.Async=function(t){return setTimeout(t,arguments[1]?arguments[1]:1)},RGraph.isIE7=function(){return 0<navigator.userAgent.indexOf("MSIE 7")},RGraph.isIE8=function(){return 0<navigator.userAgent.indexOf("MSIE 8")},RGraph.isIE9=function(){return 0<navigator.userAgent.indexOf("MSIE 9")},RGraph.isIE9up=function(){return navigator.userAgent.match(/MSIE (\d+)/),9<=Number(RegExp.$1)},RGraph.isOld=function(){return RGraph.isIE7()||RGraph.isIE8()},RGraph.Reset=function(t){t.width=t.width,RGraph.ObjectRegistry.Clear(t)};