/* svn info: $Revision: 847 $ $Date: 2018-06-06 18:37:11 +0800 (Wed, 06 Jun 2018) $ */
function USBDatalist(){this.list=new Array}function usb_data(t){this.Live=!0,this.updateData(t)}USBDatalist.prototype={length:function(){return this.list.length},prepareUpdate:function(){for(var t in this.list)this.list[t].Live=!1},updateData:function(t){var a,e=!1;for(var i in this.list)if((a=this.list[i]).Port==t.Port){e=a.Live=!0;break}if(e)a.updateData(t),a.updateHTML();else{var s=new usb_data(t);this.list.push(s),s.addRowToHTML("usb_list"),s.updateHTML()}},updateDetailData:function(t){var a,e=!1;for(var i in this.list)if((a=this.list[i]).Port==t.Port){e=a.Live=!0;break}if(e)a.updateData(t),a.updateDetailHTML();else{var s=new usb_data(t);this.list.push(s),s.addRowToHTMLDetail("usbDetail_list"),s.updateDetailHTML()}},clean:function(){for(var t in this.list)obj=this.list[t],0==obj.Live&&(obj.removeFromHTML(),this.list.splice(t,1))},cleanDetail:function(){for(var t in this.list)obj=this.list[t],0==obj.Live&&(obj.removeDetailFromHTML(),this.list.splice(t,1))}},usb_data.prototype={Port:null,Model:null,TotalSpace:null,FreeSpace:null,SmartStatus:null,Live:null,PartitionInfoLists:null,calSpace:function(t,a){var e;return 1024<=t?(t=parseFloat(t/1024).toFixed(2),e=this.calSpace(t,a+1)):e=t+" "+["KB","MB","GB","TB"][a],e},updateData:function(t){this.Port=t.Port,this.Model=t.Model,this.TotalSpace=t.TotalSpace,this.FreeSpace=t.FreeSpace,this.SmartStatus=t.SmartStatus,this.PartitionInfoLists=t.PartitionInfoLists},updateHTML:function(){var t=parseInt(this.TotalSpace),a=parseInt(this.FreeSpace),e=(100*parseFloat((t-a)/t)).toFixed(2);$("#usbdev"+this.Port+"_Model").html(HTMLEncode(this.Model)),$("#usbdev"+this.Port+"_FreeSpace").html(this.calSpace(a,0)),$("#usbdev"+this.Port+"_TotalSpace").html(this.calSpace(t,0)),90<e?$("#usbdev"+this.Port+"_Percent").removeClass("progress-bar-success progress-bar-warning").addClass("progress-bar-danger"):70<e?$("#usbdev"+this.Port+"_Percent").removeClass("progress-bar-danger progress-bar-info").addClass("progress-bar-warning"):($("#usbdev"+this.Port+"_Percent").removeClass("progress-bar-danger progress-bar-warning").addClass("progress-bar-info"),$("#usbdev"+this.Port+"_Percent").css({"background-color":"#4497A9"})),$("#usbdev"+this.Port+"_Percent").css("width",e+"%").attr("aria-valuenow",e).html(e+"%"),0<=this.SmartStatus.indexOf("ERROR")?$("#usbdev"+this.Port+"_Warning").show():$("#usbdev"+this.Port+"_Warning").hide()},removeFromHTML:function(){$("#usbdev"+this.Port).remove()},addRowToHTML:function(t){var a;a='<div id="usbdev'+this.Port+'" class="list-group-item" style="border:0px"></div>',$("#"+t).append(a),this.setDataToRow($("#usbdev"+this.Port))},setDataToRow:function(t){var a;a='<h4 class="list-group-item-heading" style="color:#4598aa"><img src="image/usb_Icon.png?v=ce4192db02" alt="" width="28" height="28" />'+I18N("j","USB Port")+':&nbsp;<label id="usbdev'+this.Port+'_Model">'+HTMLEncode(this.Model)+'</label></h4><div class="list-group-item-text"><table class="usbtable"><tr><div class="progress" style="margin-left:0px;margin-bottom:-0px;width:80%;height:30px"><div id="usbdev'+this.Port+'_Percent" class="progress-bar myProgressBar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div></tr><tr><th>'+I18N("j","Available Space")+':</th><td id="usbdev'+this.Port+'_FreeSpace"></td></tr><tr><th>'+I18N("j","Total Space")+':</th><td id="usbdev'+this.Port+'_TotalSpace"></td></tr><tr id="usbdev'+this.Port+'_Warning" style="display:none"><th colspan="2" class="usb_warning"><span style="padding-right:20px;font-size:12pt">'+I18N("j","Health Status: Warning")+'</span><img src="image/warning_s.png?v=9ab5532f4d" width="25" height="25" style="border:0" /></th></tr></table></div></div>',t.html(a)},updateDetailHTML:function(){var t=parseInt(this.TotalSpace),a=parseInt(this.FreeSpace);$("#usbDetaildev"+this.Port+"_Model").html(HTMLEncode(this.Model)),$("#usbDetaildev"+this.Port+"_FreeSpace").html(this.calSpace(a,0)),$("#usbDetaildev"+this.Port+"_TotalSpace").html(this.calSpace(t,0)),$("#usbDetaildev"+this.Port+"_SmartStatus").html(HTMLEncode(this.SmartStatus));var e="",i=0;for(var s in this.PartitionInfoLists.PartitionInfo){var r=this.PartitionInfoLists.PartitionInfo[s],o=r.TotalSpace;if(""!=o){var l=r.FreeSpace,n=100*parseFloat((o-l)/o).toFixed(2);e+=90<n?'<a href="#" style="margin-left:31px;" onclick="setFolderValue(\''+r.PartitionName+"')\">"+I18N("j","Partition")+" "+String.fromCharCode(97+i).toUpperCase()+'</a><br/><div class="progress" style="margin-left:31px;margin-bottom:0px;width:90%;height:30px;"><div id="usbDetaildev'+this.Port+"_Percent"+r.PartitionName+'" style="width:'+n+'%;font-size: 12pt;padding-top: 5px;" class="progress-bar myProgressBar progress-bar-danger" role="progressbar" text="'+n+'" aria-valuenow="'+n+'" aria-valuemin="0" aria-valuemax="100">'+n+"%</div></div><br/>":70<n?'<a href="#" style="margin-left:31px;" onclick="setFolderValue(\''+r.PartitionName+"')\">"+I18N("j","Partition")+" "+String.fromCharCode(97+i).toUpperCase()+'</a><br/><div class="progress" style="margin-left:31px;margin-bottom:0px;width:90%;height:30px;"><div id="usbDetaildev'+this.Port+"_Percent"+r.PartitionName+'" style="width:'+n+'%;font-size: 12pt;padding-top: 5px;" class="progress-bar myProgressBar progress-bar-warning" role="progressbar" text="'+n+'" aria-valuenow="'+n+'" aria-valuemin="0" aria-valuemax="100">'+n+"%</div></div><br/>":'<a href="#" style="margin-left:31px;" onclick="setFolderValue(\''+r.PartitionName+"')\">"+I18N("j","Partition")+" "+String.fromCharCode(97+i).toUpperCase()+'</a><br/><div class="progress" style="margin-left:31px;margin-bottom:0px;width:90%;height:30px;"><div id="usbDetaildev'+this.Port+"_Percent"+r.PartitionName+'" style="width:'+n+'%;background-color: rgb(68, 151, 169);font-size: 12pt;padding-top: 5px;" class="progress-bar myProgressBar" role="progressbar" text="'+n+'" aria-valuenow="'+n+'" aria-valuemin="0" aria-valuemax="100">'+n+"%</div></div><br/>",i++}}$("#usbDetaildev"+this.Port+"_PartitionPart").html(e)},removeDetailFromHTML:function(){$("#usbDetaildev"+this.Port).remove()},addRowToHTMLDetail:function(t){var a;a='<div id="usbDetaildev'+this.Port+'" class="list-group-item" style="border:0px"></div>',$("#"+t).append(a),this.setDataToRowDetail($("#usbDetaildev"+this.Port))},setDataToRowDetail:function(t){var a;a='<h4 class="list-group-item-heading" style="color:#4598aa"><img src="image/usb_Icon.png?v=ce4192db02" alt="" width="28" height="28" />'+I18N("j","USB Port")+':&nbsp;<label id="usbDetaildev'+this.Port+'_Model">'+HTMLEncode(this.Model)+'</label></h4><div class="list-group-item-text"><table class="usbtable"><tr><th style="font-weight: bold">'+I18N("j","S.M.A.R.T Status")+':</th><td id="usbDetaildev'+this.Port+'_SmartStatus"></td></tr><tr><th style="font-weight: bold">'+I18N("j","Available Space")+':</th><td id="usbDetaildev'+this.Port+'_FreeSpace"></td></tr><tr><th style="font-weight: bold">'+I18N("j","Total Space")+':</th><td id="usbDetaildev'+this.Port+'_TotalSpace"></td></tr><tr></tr></table></div><div id="usbDetaildev'+this.Port+'_PartitionPart"></div>',t.html(a)}};