/* svn info: $Revision: 1255 $ $Date: 2019-01-10 15:16:47 +0800 (Thu, 10 Jan 2019) $ */
var org_pppoe_enable_pd=!0,org_static_wan_ip="",org_wan_prefix_length="";function initSaveButtonTrigger(){$("select").change(function(){save_button_changed()}),$("input").keydown(function(){save_button_changed()}),$('input[type="checkbox"]').click(function(){save_button_changed()})}$(document).ready(function(){$("#ipv6_dns_obtain").change(function(){switch($(this).val()){case"auto":$(".ipv6_dns").hide();break;case"manual":$(".ipv6_dns").show(),$("#primaryDNS").focus()}}),$("#autoconfig_type").change(function(){var e=$(this).val(),t=$("#enable_pd").prop("checked");switch(e){case"rdnss":case"stateless":$(".lan_dhcp").hide(),$(".lan_ra").show(),$("#ra_lifetime").focus(),$(".lan_dhcp2").hide();break;case"stateful":$(".lan_ra").hide(),$(".lan_dhcp").show(),$("#dhcp_start").focus(),t?$(".lan_dhcp2").hide():$(".lan_dhcp2").show()}}),$("#enable_lan_autoconfig").on("change",function(){$(this).prop("checked")?($("#enable_pd").trigger("change"),$("#show_autoconfig_type").show(),$("#autoconfig_type").trigger("change")):($("#show_enable_lan_pd, #show_autoconfig_type, .lan_dhcp, .lan_ra").hide(),$(".lan_dhcp2").hide())}),$("#enable_pd").on("change",function(){$(this).prop("checked")?($("#enable_lan_autoconfig").prop("checked")&&$("#show_enable_lan_pd").show(),$("#show_LAN_IPv6_Address").hide(),$(".lan_dhcp2").hide()):($("#show_LAN_IPv6_Address").show(),$("#show_enable_lan_pd").hide(),$("#ipv6_lan_ip").focus(),"stateful"==$("#autoconfig_type").val()&&$(".lan_dhcp2").show())}),$("#pppoe_Session").on("change",function(){switch($(this).val()){case"share":$(".pppoe_newSession").hide(),$("#pppoe_MTU").attr("disabled",!0);break;case"new":$(".pppoe_newSession").show(),$("#pppoe_Username").focus(),$("#pppoe_MTU").attr("disabled",!1)}}),$("#pppoe_AddressMode").on("change",function(){var e=$(this).val();switch(e){case"auto":$("#enable_pd").prop("checked",org_pppoe_enable_pd),$("#show_PPPoE_IP_Address").hide(),$(".lanBlock_pd").show();break;case"manual":org_pppoe_enable_pd=$("#enable_pd").prop("checked"),$("#enable_pd").prop("checked",!1),$("#show_PPPoE_IP_Address").show(),$(".lanBlock_pd").hide()}$("#enable_pd").trigger("change"),"manual"==e&&$("#pppoe_IPAddress").focus()}),$("#ipv6rd_DHCPv4Option").on("change",function(){switch($(this).val()){case"auto":$(".6rd_manual").hide();break;case"manual":$(".6rd_manual").show(),$("#ipv6rd_IPv6Prefix").focus()}}),$("#staticIPv6_useLinkLocalAddress").on("change",function(){var e=$(this).prop("checked");"Enable"==staticSettings.IPv6_UseLinkLocalAddress||"IPv6_Static"!=ipv6Status.IPv6_ConnectionType?e?($("#staticIPv6_IPv6Address, #staticIPv6_subnetPrefixLength").attr("disabled",!0),$("#staticIPv6_subnetPrefixLength").val("64"),$("#staticIPv6_IPv6Address").val(ipv6Status.IPv6_WanLinkLocalAddress)):($("#staticIPv6_IPv6Address, #staticIPv6_subnetPrefixLength").attr("disabled",!1),$("#staticIPv6_subnetPrefixLength").val(""),$("#staticIPv6_IPv6Address").val(""),$("#staticIPv6_IPv6Address").focus()):e?($("#staticIPv6_IPv6Address, #staticIPv6_subnetPrefixLength").attr("disabled",!0),org_wan_prefix_length=$("#staticIPv6_subnetPrefixLength").val(),$("#staticIPv6_subnetPrefixLength").val("64"),org_static_wan_ip=$("#staticIPv6_IPv6Address").val(),$("#staticIPv6_IPv6Address").val(ipv6Status.IPv6_WanLinkLocalAddress)):($("#staticIPv6_IPv6Address, #staticIPv6_subnetPrefixLength").attr("disabled",!1),""!=org_wan_prefix_length&&$("#staticIPv6_subnetPrefixLength").val(org_wan_prefix_length),""!=org_static_wan_ip&&$("#staticIPv6_IPv6Address").val(org_static_wan_ip),$("#staticIPv6_IPv6Address").focus()),$("#staticIPv6_IPv6Address, #staticIPv6_subnetPrefixLength, #staticIPv6_DefaultGateway").trigger("focusout")}),$("#staticIPv6_subnetPrefixLength").on("change",function(){$("#staticIPv6_IPv6Address").trigger("focusout")}),$("#linklocal_EnableULA").on("click",function(){$(this).prop("checked")&&$("#linklocal_UseDefaultULAPrefix").prop("checked",!0)}),$("#linklocal_EnableULA").on("change",function(){$(this).prop("checked")?($("#UseDefaultULAPrefix_tr").show(),$("#linklocal_UseDefaultULAPrefix").trigger("change")):($("#UseDefaultULAPrefix_tr").hide(),$("#ULAPrefix_tr").hide())}),$("#linklocal_UseDefaultULAPrefix").on("change",function(){$(this).prop("checked")?$("#ULAPrefix_tr").hide():($("#ULAPrefix_tr").show(),$("#linklocal_ULAPrefix").focus())}),$("#ipv6_lan_ip").on("change",function(){var e="ffff::";""!=$(this).val()&&(e=getPrefix($(this).val(),64)),$("#dhcp_prefix_start").html(e),$("#dhcp_prefix_end").html(e)}),$("#connectionIPv6Type").on("change",function(){storeData(ipv6_wan_type),showData($(this).val()),$("input:visible").first().focus(),$("#internet_form").validate().resetForm()}),$("select").on("change",function(){$(this).val();var e=new Object;e.width=340,$(this).selectbox("detach").selectbox(e)})});