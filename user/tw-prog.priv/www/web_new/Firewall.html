<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3c.org/1999/xhtml"><head><title>D-LINK</title><meta http-equiv="cache-control" content="no-cache"><meta http-equiv="expires" content="0"><link rel="icon" href="/image/dlink-favicon.ico?v=1075792207"><link rel="shortcut icon" href="/image/favicon.ico?v=1075792207" type="image/x-icon"><meta http-equiv="X-UA-Compatible" content="IE=9"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="Content-Type" content="text/css"><link rel="stylesheet" type="text/css" href="/css/jquery.selectbox.css?v=1a58d5229c"><link rel="stylesheet" type="text/css" href="/css/jquery.checkbox.css?v=d4c74ef61d"><link rel="stylesheet" type="text/css" href="css/style_pages.css?v=99eab4966a" media="all"><script type="text/javascript" charset="utf-8" src="/js/initialJQ.js?v=72051ca6ec"></script><script type="text/javascript" charset="utf-8" src="/js/initialJS.js?v=49978ee093"></script><script type="text/javascript" charset="utf-8" src="/js/initialValidate.js?v=18ad6b1a1d"></script><link rel="stylesheet" type="text/css" href="css/style_pop.css?v=ebdc1ea095" media="all"><script type="text/javascript" charset="utf-8" src="/js/popView.js?v=28d8d08a05"></script><script>top!=self&&(top.location=self.location),null===sessionStorage.getItem("PrivateKey")&&window.location.replace("../info/Login.html"),$(document).ready(function(){presetCheckBox("enableSPIIPv4",!0),presetCheckBox("enableAntispoofChecking",!0),presetCheckBox("enableDMZHost",!0),presetCheckBox("enableIPv6SimpleSecurity",!0),presetCheckBox("enableIPv6IngressFiltering",!0),presetCheckBox("pptp",!0),presetCheckBox("ipSec",!0),presetCheckBox("rtsp",!0),presetCheckBox("sip",!0),$("div.checkbox_on").click(function(e){var t=e.target.id+"_ck";if("checkbox_on"==e.target.getAttribute("class")){var c=I18N("j","Disabled");e.target.setAttribute("class","checkbox_off"),e.target.setAttribute("className","checkbox_off"),document.getElementById(e.target.id).innerHTML='<input type="checkbox" name='+e.target.id+" id="+t+" checked>"+c,document.getElementById(t).checked=!1,"enableDMZHost_ck"==t&&(document.getElementById("dmz_IPAddress").disabled=!0,$("#select_DMZ_IPAddress").selectbox("disable"),document.getElementById("show_DMZIPAddress").style.display="none"),changeFlag=!0,save_button_changed()}else{var s=I18N("j","Enabled");e.target.setAttribute("class","checkbox_on"),e.target.setAttribute("className","checkbox_on"),document.getElementById(e.target.id).innerHTML='<input type="checkbox" name='+e.target.id+" id="+t+' checked="">'+s,document.getElementById(t).checked=!0,"enableDMZHost_ck"==t&&(document.getElementById("dmz_IPAddress").disabled=!1,$("#select_DMZ_IPAddress").selectbox("enable"),document.getElementById("show_DMZIPAddress").style.display="table-row"),changeFlag=!0,save_button_changed()}})})</script><script type="text/javascript">var HNAP=new HNAP_XML,RouterLanIP="192.168.0.1",RouterLanSubnetMask="255.255.255.0",Total_Client=0,Limit_Client=256;function Load_HTML(){$("#header").load("header.html")}function Initial(){initialMenu(),initialDetectRouterConnection()}function dmz_IPAddress_Description(e,t){var n=e.options[t].text.split(/[\s(]+/),s=n[n.length-2];document.getElementById("dmz_IPAddress").value="0"==t?"":s}function GetXML(){HNAP.GetXMLAsync("GetMultipleHNAPs",null,"GetXML",function(e){GetResult_1st(e)})}function GetResult_1st(e){null!=e?(e.Set("GetMultipleHNAPs/GetClientInfo"),e.Set("GetMultipleHNAPs/GetDMZSettings"),e.Set("GetMultipleHNAPs/GetFirewallSettings"),e.Set("GetMultipleHNAPs/GetIPv6SimpleSecurity"),e.Set("GetMultipleHNAPs/GetIPv6IngressFiltering"),HNAP.SetXMLAsync("GetMultipleHNAPs",e,function(e){GetResult_2nd(e)})):1==DebugMode&&alert("[!!GetXML Error!!] Function: GetResult_1st")}function GetResult_2nd(e){var t=HNAP.GetXML("GetRouterLanSettings");RouterLanIP=t.Get("GetRouterLanSettingsResponse/RouterIPAddress"),RouterLanSubnetMask=t.Get("GetRouterLanSettingsResponse/RouterSubnetMask");var n=e.Get("GetMultipleHNAPsResponse/GetMultipleHNAPsResult");if("OK"==n||"RESTART"==n){Total_Client=e.Get("GetMultipleHNAPsResponse/GetClientInfoResponse/ClientInfoLists/ClientInfo#");for(var s=document.getElementById("select_DMZ_IPAddress"),l=1,i=1;i<=Total_Client;i++){var o=e.Get("GetMultipleHNAPsResponse/GetClientInfoResponse/ClientInfoLists/ClientInfo:"+i+"/Type"),r=e.Get("GetMultipleHNAPsResponse/GetClientInfoResponse/ClientInfoLists/ClientInfo:"+i+"/DeviceName"),u=e.Get("GetMultipleHNAPsResponse/GetClientInfoResponse/ClientInfoLists/ClientInfo:"+i+"/IPv4Address");0<=o.indexOf("Extender")||(""==r&&(r="Unknown"),""!=u&&(s.options.add(new Option(u+" ("+r+")",l)),l++))}"true"==e.Get("GetMultipleHNAPsResponse/GetDMZSettingsResponse/Enabled")?(presetCheckBox("enableDMZHost",!0),document.getElementById("show_DMZIPAddress").style.display="table-row"):(presetCheckBox("enableDMZHost",!1),document.getElementById("show_DMZIPAddress").style.display="none");var S=e.Get("GetMultipleHNAPsResponse/GetDMZSettingsResponse/IPAddress");document.getElementById("dmz_IPAddress").value=S,"true"==e.Get("GetMultipleHNAPsResponse/GetFirewallSettingsResponse/SPIIPv4")?presetCheckBox("enableSPIIPv4",!0):presetCheckBox("enableSPIIPv4",!1),"true"==e.Get("GetMultipleHNAPsResponse/GetFirewallSettingsResponse/AntiSpoof")?presetCheckBox("enableAntispoofChecking",!0):presetCheckBox("enableAntispoofChecking",!1),"true"==e.Get("GetMultipleHNAPsResponse/GetFirewallSettingsResponse/ALGPPTP")?presetCheckBox("pptp",!0):presetCheckBox("pptp",!1),"true"==e.Get("GetMultipleHNAPsResponse/GetFirewallSettingsResponse/ALGIPSec")?presetCheckBox("ipSec",!0):presetCheckBox("ipSec",!1),"true"==e.Get("GetMultipleHNAPsResponse/GetFirewallSettingsResponse/ALGRTSP")?presetCheckBox("rtsp",!0):presetCheckBox("rtsp",!1),"true"==e.Get("GetMultipleHNAPsResponse/GetFirewallSettingsResponse/ALGSIP")?presetCheckBox("sip",!0):presetCheckBox("sip",!1),"Enable"==e.Get("GetMultipleHNAPsResponse/GetIPv6SimpleSecurityResponse/Status")?presetCheckBox("enableIPv6SimpleSecurity",!0):presetCheckBox("enableIPv6SimpleSecurity",!1),"Enable"==e.Get("GetMultipleHNAPsResponse/GetIPv6IngressFilteringResponse/Status")?presetCheckBox("enableIPv6IngressFiltering",!0):presetCheckBox("enableIPv6IngressFiltering",!1),$("#select_DMZ_IPAddress").selectbox(),"1"!=document.getElementById("enableDMZHost_ck").checked&&$("#select_DMZ_IPAddress").selectbox("disable"),document.getElementById("main").style.display="inline"}else 1==DebugMode&&alert("[!!GetXML Error!!] Function: GetResult_2nd")}function CheckConnectionStatus(){$("#dmz_IPAddress").val(clearcode($("#dmz_IPAddress").val())),$.ajax({cache:!1,url:"./js/CheckConnection",timeout:5e3,type:"GET",success:function(e){SetXML()},error:function(){document.getElementById("DetectRouterConnection").style.display="inline"}})}function SetXML(){var e=I18N("j","Please wait")+" ...";PopView.show(e),HNAP.GetXMLAsync("SetDMZSettings",null,"GetXML",function(e){SetResult_1st(e)})}function SetResult_1st(e){null!=e?("1"==document.getElementById("enableDMZHost_ck").checked?e.Set("SetDMZSettings/Enabled","true"):e.Set("SetDMZSettings/Enabled","false"),e.Set("SetDMZSettings/IPAddress",document.getElementById("dmz_IPAddress").value),HNAP.SetXMLAsync("SetDMZSettings",e,function(e){SetResult_2nd(e)})):1==DebugMode&&alert("[!!SetXML Error!!] Function: SetResult_1st")}function SetResult_2nd(e){var t=e.Get("SetDMZSettingsResponse/SetDMZSettingsResult");"OK"!=t&&"RESTART"!=t||HNAP.GetXMLAsync("SetFirewallSettings",null,"GetXML",function(e){SetResult_3rd(e)}),"ERROR"==t&&(1==DebugMode&&alert("[!!SetXML Error!!] Function: SetResult_2nd"),window.location.reload())}function SetResult_3rd(e){null!=e?("1"==document.getElementById("enableSPIIPv4_ck").checked?e.Set("SetFirewallSettings/SPIIPv4","true"):e.Set("SetFirewallSettings/SPIIPv4","false"),"1"==document.getElementById("enableAntispoofChecking_ck").checked?e.Set("SetFirewallSettings/AntiSpoof","true"):e.Set("SetFirewallSettings/AntiSpoof","false"),"1"==document.getElementById("pptp_ck").checked?e.Set("SetFirewallSettings/ALGPPTP","true"):e.Set("SetFirewallSettings/ALGPPTP","false"),"1"==document.getElementById("ipSec_ck").checked?e.Set("SetFirewallSettings/ALGIPSec","true"):e.Set("SetFirewallSettings/ALGIPSec","false"),"1"==document.getElementById("rtsp_ck").checked?e.Set("SetFirewallSettings/ALGRTSP","true"):e.Set("SetFirewallSettings/ALGRTSP","false"),"1"==document.getElementById("sip_ck").checked?e.Set("SetFirewallSettings/ALGSIP","true"):e.Set("SetFirewallSettings/ALGSIP","false"),HNAP.SetXMLAsync("SetFirewallSettings",e,function(e){SetResult_4th(e)})):1==DebugMode&&alert("[!!SetXML Error!!] Function: SetResult_3rd")}function SetResult_4th(e){var t=e.Get("SetFirewallSettingsResponse/SetFirewallSettingsResult");"OK"!=t&&"RESTART"!=t||HNAP.GetXMLAsync("SetIPv6SimpleSecurity",null,"GetXML",function(e){SetResult_5th(e)}),"ERROR"==t&&(1==DebugMode&&alert("[!!SetXML Error!!] Function: SetResult_4th"),window.location.reload())}function SetResult_5th(e){null!=e?("1"==document.getElementById("enableIPv6SimpleSecurity_ck").checked?e.Set("SetIPv6SimpleSecurity/Status","Enable"):e.Set("SetIPv6SimpleSecurity/Status","Disable"),HNAP.SetXMLAsync("SetIPv6SimpleSecurity",e,function(e){SetResult_6th(e)})):1==DebugMode&&alert("[!!SetXML Error!!] Function: SetResult_5th")}function SetResult_6th(e){var t=e.Get("SetIPv6SimpleSecurityResponse/SetIPv6SimpleSecurityResponseResult");""==t&&(t=e.Get("SetIPv6SimpleSecurityResponse/SetIPv6SimpleSecurityResult")),"OK"!=t&&"RESTART"!=t||HNAP.GetXMLAsync("SetIPv6IngressFiltering",null,"GetXML",function(e){SetResult_7th(e)}),"ERROR"==t&&(1==DebugMode&&alert("[!!SetXML Error!!] Function: SetResult_6th"),window.location.reload())}function SetResult_7th(e){null!=e?("1"==document.getElementById("enableIPv6IngressFiltering_ck").checked?e.Set("SetIPv6IngressFiltering/Status","Enable"):e.Set("SetIPv6IngressFiltering/Status","Disable"),HNAP.SetXMLAsync("SetIPv6IngressFiltering",e,function(e){SetResult_8th(e)})):1==DebugMode&&alert("[!!SetXML Error!!] Function: SetResult_7th")}function SetResult_8th(e){var t=e.Get("SetIPv6IngressFilteringResponse/SetIPv6IngressFilteringResponseResult");""==t&&(t=e.Get("SetIPv6IngressFilteringResponse/SetIPv6IngressFilteringResult")),"OK"==t||"RESTART"==t?Start_reciprocal_Number_RestoreConfiguration(!1):"REBOOT"==t?Start_reciprocal_Number_RestoreConfiguration(!0):(1==DebugMode&&alert("[!!SetXML Error!!] Function: SetResult_8th"),window.location.reload())}function Start_reciprocal_Number_RestoreConfiguration(e){var t=I18N("j","Please wait")+" ...",n=I18N("j","The new settings have been saved."),s=currentDevice.okcount,l=new SOAPAction;1==e&&(t=I18N("j","Your changes are being saved, and the device will need to reboot."),s=currentDevice.rebootcount,l.sendSOAPAction("Reboot",null,null)),PopView.showWithCountdown(t,s).always(function(){PopView.showConfirm(n).done(function(){location.reload()})})}function waitSettingFinished(){window.location.reload()}</script><script language="JavaScript">function save_button_changed(){document.getElementById("Save_Disable_btn").style.display="none",document.getElementById("Save_btn").style.display="block",changeFlag=!0,changeTimeoutAction()}$(function(){$("select").change(function(){save_button_changed()}),$("input").keydown(function(){save_button_changed()})})</script><style>#advancedBlock1{display:none}#advancedBlock2{display:none}</style></head><body><form name="firewall_form" id="firewall_form" method="POST" action=""><div id="wrapper"><div id="header"></div><div id="menu"></div><div id="menu_edge"></div><div id="content"><div id="info"><div id="FunctionName"><script>I18N("h","Firewall")</script></div><div id="wall"><img src="image/wall.png?v=9b5a1c7461" alt="" width="195" height="119"></div><div id="directions"><script>I18N("h","Your router's high-performance firewall feature continuously monitors Internet traffic, protecting your network and connected devices from malicious Internet attacks.")</script></div></div><div id="funcBar"><div id="pagePath"><script>I18N("h","Advanced")</script>&gt;&gt;<script>I18N("h","Firewall")</script>&gt;&gt;<script>I18N("h","Advanced")</script></div><ul id="rightFunc"><li style="display:block"><div id="Save_btn" onclick='document.getElementById("sumbit_CheckData").click(),changeTimeoutAction()' style="cursor:pointer;display:none"><script>I18N("h","Save")</script></div></li><li style="display:block"><div id="Save_Disable_btn"><script>I18N("h","Save")</script></div></li><input id="sumbit_CheckData" class="submit" type="submit" value="Submit" style="display:none"><li style="display:block"><a href="javascript:CheckHTMLStatus('Firewall_IPv6');" style="text-decoration:none" onclick="return confirmExit()"><div id="page_btn" class="linkstyle_1"><script>I18N("h","IPv6 Rules")</script></div></a></li><li style="display:block"><a href="javascript:CheckHTMLStatus('Firewall_IPv4');" style="text-decoration:none" onclick="return confirmExit()"><div id="page_btn" class="linkstyle_1"><script>I18N("h","IPv4 Rules")</script></div></a></li></ul></div><div id="main" style="display:none"><br><table class="block" border="0"><tbody><tr><th><script>I18N("h","Enable DMZ Host")</script>:</th><td width="210px"><div id="enableDMZHost" class="checkbox_on"><input type="checkbox" name="enableDMZHost" id="enableDMZHost_ck" checked="checked"></div></td><td></td></tr><tr id="show_DMZIPAddress" style="display:none"><th><script>I18N("h","DMZ IP Address")</script>:</th><td valign="top"><input class="styled-text" type="text" name="dmz_IPAddress" size="27" id="dmz_IPAddress"></td><td valign="top"><select name="select_DMZ_IPAddress" id="select_DMZ_IPAddress" onchange="dmz_IPAddress_Description(this,this.value)"><option value="0" selected="selected">&lt;&lt; Computer Name</option></select></td></tr></tbody></table><hr><table class="block"><tbody><tr><th><script>I18N("h","Enable SPI IPv4")</script>:</th><td><div id="enableSPIIPv4" class="checkbox_on"><input type="checkbox" name="enableSPIIPv4" id="enableSPIIPv4_ck"></div></td></tr><tr><th><script>I18N("h","Enable Anti-spoof Checking")</script>:</th><td><div id="enableAntispoofChecking" class="checkbox_on"><input type="checkbox" name="enableAntispoofChecking" id="enableAntispoofChecking_ck"></div></td></tr><tr><th><script>I18N("h","IPv6 Simple Security")</script>:</th><td><div id="enableIPv6SimpleSecurity" class="checkbox_on"><input type="checkbox" name="enableIPv6SimpleSecurity" id="enableIPv6SimpleSecurity_ck"></div></td></tr><tr id="Iv6IF"><th><script>I18N("h","IPv6 Ingress Filtering")</script>:</th><td><div id="enableIPv6IngressFiltering" class="checkbox_on"><input type="checkbox" name="enableIPv6IngressFiltering" id="enableIPv6IngressFiltering_ck"></div></td></tr></tbody></table><div class="advButton"><span onclick='showAdv("advancedBlock1")'><script>I18N("h","Advanced Settings")</script>...</span></div><div id="advancedBlock1"><hr><table class="block" style="margin:10px 0 0 0"><tbody><tr><td colspan="2"><div class="title"><script>I18N("h","Application Level Gateway (ALG) Configuration")</script></div></td><td></td></tr><tr><th><script>I18N("h","PPTP")</script>:</th><td><div id="pptp" class="checkbox_on"><input type="checkbox" name="pptp" id="pptp_ck"></div></td></tr><tr><th><script>I18N("h","IPSec (VPN)")</script>:</th><td><div id="ipSec" class="checkbox_on"><input type="checkbox" name="ipSec" id="ipSec_ck"></div></td></tr><tr><th><script>I18N("h","RTSP")</script>:</th><td><div id="rtsp" class="checkbox_on"><input type="checkbox" name="rtsp" id="rtsp_ck"></div></td></tr><tr><th><script>I18N("h","SIP")</script>:</th><td><div id="sip" class="checkbox_on"><input type="checkbox" name="sip" id="sip_ck"></div></td></tr></tbody></table></div></div><div id="CreatePopAlertMessage" style="display:none"><div id="AlertPopRect"><div id="AlertPopBody"><table class="myAlertPop_table_b" id="waitSettingFinish" border="0" cellspacing="0"><tbody><tr><td><center><div id="Loading_pop_image2"></div></center></td></tr><tr><td><label id="reciprocal_Number"></label></td></tr><tr><td id="dialog_msg_black2"><script>I18N("h","Your changes are being saved.")</script></td></tr></tbody></table></div></div></div></div><div id="DetectRouterConnection" style="display:none"></div><div id="footer"><div id="copyright"><script>I18N("h","COPYRIGHT")</script></div></div></div><div id="popalert" class="black_overlay" style="display:none"><div class="popup_window_border" style="position:relative;top:15%"><div class="popup_window"><div id="popalert_circle"><img src="image/loading.gif?v=082200f467" width="62px" height="62px"></div><div id="popalert_countdown"></div><div id="popalert_title" style="display:none"></div><div id="popalert_InformationIMG" style="display:none"></div><div id="popalert_desc"></div><div id="popalert_buttons" class="btn-group" role="group" aria-label="..."><button type="button" id="popalert_ok" class="btn btn-default"><script>I18N("h","OK")</script></button> <button type="button" id="popalert_cancel" class="btn btn-default"><script>I18N("h","Cancel")</script></button></div></div></div></div></form><script type="text/javascript" charset="utf-8">$(document).ready(function(){$.validator.addMethod("checkIPAddress",function(e,r){var a=COMM_IPv4MASK2INT(RouterLanSubnetMask);return COMM_IPv4NETWORK(e,a)!=COMM_IPv4NETWORK(RouterLanIP,a)||0==COMM_IPv4HOST(e,a)?returnVal=!1:returnVal=!0,returnVal},jQuery.validator.messages.address_Check),$.validator.addMethod("checkIPLastNum",function(e,r){var a=!0,s=e.split(".");return""!=e&&(0!=parseInt(s[3],10)&&255!=parseInt(s[3],10)||(a=!1)),a},jQuery.validator.messages.address_Check),$("#firewall_form").validate({rules:{dmz_IPAddress:{required:!0,checkIPAddress:!0,checkIPLastNum:!0}},messages:{dmz_IPAddress:{required:jQuery.validator.messages.ip}},submitHandler:function(e){CheckConnectionStatus()}})})</script><script type="text/javascript">Load_HTML(),Initial(),setMenu("menu_Advanced"),GetXML(),startTimeout()</script></body></html><!-- svn info: $Revision: 1187 $ $Date: 2018-11-28 10:25:12 +0800 (Wed, 28 Nov 2018) $ --> 
