/* svn info: $Revision: 847 $ $Date: 2018-06-06 18:37:11 +0800 (Wed, 06 Jun 2018) $ */
var Slideshow=function(t){this.parentDiv=document.getElementById(t),this.parentDiv.style.fontSize="0",this.itemContainer,this.itemContainerId,this.pageDotsContainer,this.itemWidth=200,this.width=900,this.height=164,this.slidePos=0,this.slideStep,this.isSliding=!1,this.itemPerPage=4,this.nowPage=0,this.nextBtn,this.prevBtn,this.btnWidth=50,this.itemArray=new Array,this.dataArray=new Array,this.pageDotArray=new Array,this.container=document.createElement("div"),this.container.style.position="relative",this.container.style.margin="0",this.container.style.display="inline-block",this.container.style.width=this.width-2*this.btnWidth+"px",this.container.style.height=this.height+"px",this.container.style.verticalAlign="top",this.container.style.overflow="hidden",this.itemContainer=document.createElement("div"),this.itemContainer.style.position="absolute",this.itemContainer.style.top="0",this.itemContainer.style.left="0",this.itemContainer.style.margin="0",this.itemContainer.style.padding="0",this.itemContainer.dislay="inline-block",this.itemContainerId="ss_itemContainer",this.itemContainer.setAttribute("id",this.itemContainerId),this.container.appendChild(this.itemContainer),this.nextBtn=document.createElement("div"),this.nextBtn.style.margin="0",this.nextBtn.style.display="inline-block",this.nextBtn.style.cursor="pointer",this.nextBtn.style.width=this.btnWidth+"px",this.nextBtn.style.height=this.height+"px",this.nextBtn.style.backgroundImage="url('image/slidebtn_next.png')",this.nextBtn.style.backgroundPosition="0px 35px",this.nextBtn.style.backgroundRepeat="no-repeat",this.nextBtn.style.backgroundSize="contain";var e=this;this.nextBtn.onclick=function(){e.nextPage()},this.prevBtn=document.createElement("div"),this.prevBtn.style.margin="0",this.prevBtn.style.display="inline-block",this.prevBtn.style.cursor="pointer",this.prevBtn.style.width=this.btnWidth+"px",this.prevBtn.style.height=this.height+"px",this.prevBtn.style.backgroundImage="url('image/slidebtn_prev.png')",this.prevBtn.style.backgroundPosition="0px 35px",this.prevBtn.style.backgroundRepeat="no-repeat",this.prevBtn.style.backgroundSize="contain";e=this;this.prevBtn.onclick=function(){e.prevPage()},this.pagedotDiv=document.createElement("div"),this.pagedotDiv.style.display="inline-block",this.pagedotDiv.style.width=this.width+"px",this.pagedotDiv.style.minHeight="6px",this.pagedotDiv.style.textAlign="center",this.parentDiv.appendChild(this.prevBtn),this.parentDiv.appendChild(this.container),this.parentDiv.appendChild(this.nextBtn),this.parentDiv.appendChild(this.pagedotDiv)};Slideshow.prototype.addItem=function(t){var e=t.element;e.style.display="inline-block",this.itemArray.push(e),this.dataArray.push(t),this.itemContainer.appendChild(e),this.itemContainer.style.width=this.itemArray.length*this.itemWidth+"px";for(var i=0,n=0;n<this.dataArray.length;n++)i+=this.itemWidth;var a=this.width-2*this.btnWidth;if(Math.floor((i-1)/a)+1>this.pageDotArray.length){var s=document.createElement("div");s.style.display="inline-block",s.style.backgroundImage="url('image/slideshow_pagedot.png')",s.style.width="6px",s.style.margin="0 5px",s.style.height="6px",this.pageDotArray.push(s),this.pagedotDiv.appendChild(s)}this.update()},Slideshow.prototype.update=function(){for(var t=0,e=0;e<this.dataArray.length;e++)"none"==this.dataArray[e].priority&&(t+=this.itemWidth);var i=this.width-2*this.btnWidth;for(Math.floor((t-1)/i),e=0;e<this.pageDotArray.length;e++)this.pageDotArray[e].style.display="inline-block";this.updatePageDotPageBtn()},Slideshow.prototype.updatePageDotPageBtn=function(){for(var t=0;t<this.pageDotArray.length;t++)t==this.nowPage?this.pageDotArray[t].style.opacity="1":this.pageDotArray[t].style.opacity="0.3";this.nowPage<=0?this.prevBtn.style.opacity="0.5":this.prevBtn.style.opacity="1";var e=0;for(t=0;t<this.dataArray.length;t++)"none"==this.dataArray[t].priority&&(e+=this.itemWidth);var i=this.width-2*this.btnWidth,n=Math.floor((e-1)/i);this.nowPage>=n?this.nextBtn.style.opacity="0.5":this.nextBtn.style.opacity="1"},Slideshow.prototype.getAllChildWidth=function(){for(var t=0,e=0;e<this.itemArray.length;e++)t+=parseInt(this.itemArray[e].style.width.replace("px",""));return t},Slideshow.prototype.nextPage=function(){var t=this.getAllChildWidth(),e=this.width-2*this.btnWidth,i=Math.floor((t-1)/e),n=0-this.nowPage*e;if(this.nowPage<i){this.nowPage++;n=0-this.nowPage*e;$(this.itemContainer).stop(),$(this.itemContainer).animate({left:n},800,"easeOutCubic")}else{var a=this;$("#"+this.itemContainerId).animate({left:n-25},100,"swing",function(){$("#"+a.itemContainerId).animate({left:n},400,"easeInSine")})}this.updatePageDotPageBtn()},Slideshow.prototype.putAndSlideToLast=function(t,e){if(-1!=this.itemArray.indexOf(t)){this.itemContainer.appendChild(t);for(var i=0,n=0;n<this.dataArray.length;n++)"none"==this.dataArray[n].priority&&(i+=this.itemWidth);var a=this.width-2*this.btnWidth,s=Math.floor((i-1)/a);if(this.nowPage!=s){this.nowPage=s;var h=0-this.nowPage*a;$(this.itemContainer).stop(),$(this.itemContainer).animate({left:h},800,"easeOutCubic",e)}else e();this.update()}},Slideshow.prototype.updateToLastPage=function(){for(var t=0,e=0;e<this.dataArray.length;e++)"none"==this.dataArray[e].priority&&(t+=this.itemWidth);var i=this.width-2*this.btnWidth,n=Math.floor((t-1)/i);if(this.nowPage>n&&0<=n){this.nowPage=n;var a=0-this.nowPage*i;$(this.itemContainer).stop(),$(this.itemContainer).animate({left:a},800,"easeOutCubic")}this.update()},Slideshow.prototype.prevPage=function(){var t=this.getAllChildWidth(),e=this.width-2*this.btnWidth,i=(Math.floor(t/e),0-this.nowPage*e);if(0<this.nowPage){this.nowPage--;i=0-this.nowPage*e;$(this.itemContainer).stop(),$(this.itemContainer).animate({left:i},800,"easeOutCubic")}else{var n=this;$("#"+this.itemContainerId).animate({left:i+25},100,"swing",function(){$("#"+n.itemContainerId).animate({left:i},400,"easeInSine")})}this.updatePageDotPageBtn()},$.extend($.easing,{def:"easeOutQuad",swing:function(t,e,i,n,a){return $.easing[$.easing.def](t,e,i,n,a)},easeInQuad:function(t,e,i,n,a){return n*(e/=a)*e+i},easeOutQuad:function(t,e,i,n,a){return-n*(e/=a)*(e-2)+i},easeInOutQuad:function(t,e,i,n,a){return(e/=a/2)<1?n/2*e*e+i:-n/2*(--e*(e-2)-1)+i},easeInCubic:function(t,e,i,n,a){return n*(e/=a)*e*e+i},easeOutCubic:function(t,e,i,n,a){return n*((e=e/a-1)*e*e+1)+i},easeInOutCubic:function(t,e,i,n,a){return(e/=a/2)<1?n/2*e*e*e+i:n/2*((e-=2)*e*e+2)+i},easeInQuart:function(t,e,i,n,a){return n*(e/=a)*e*e*e+i},easeOutQuart:function(t,e,i,n,a){return-n*((e=e/a-1)*e*e*e-1)+i},easeInOutQuart:function(t,e,i,n,a){return(e/=a/2)<1?n/2*e*e*e*e+i:-n/2*((e-=2)*e*e*e-2)+i},easeInQuint:function(t,e,i,n,a){return n*(e/=a)*e*e*e*e+i},easeOutQuint:function(t,e,i,n,a){return n*((e=e/a-1)*e*e*e*e+1)+i},easeInOutQuint:function(t,e,i,n,a){return(e/=a/2)<1?n/2*e*e*e*e*e+i:n/2*((e-=2)*e*e*e*e+2)+i},easeInSine:function(t,e,i,n,a){return-n*Math.cos(e/a*(Math.PI/2))+n+i},easeOutSine:function(t,e,i,n,a){return n*Math.sin(e/a*(Math.PI/2))+i},easeInOutSine:function(t,e,i,n,a){return-n/2*(Math.cos(Math.PI*e/a)-1)+i},easeInExpo:function(t,e,i,n,a){return 0==e?i:n*Math.pow(2,10*(e/a-1))+i},easeOutExpo:function(t,e,i,n,a){return e==a?i+n:n*(1-Math.pow(2,-10*e/a))+i},easeInOutExpo:function(t,e,i,n,a){return 0==e?i:e==a?i+n:(e/=a/2)<1?n/2*Math.pow(2,10*(e-1))+i:n/2*(2-Math.pow(2,-10*--e))+i},easeInCirc:function(t,e,i,n,a){return-n*(Math.sqrt(1-(e/=a)*e)-1)+i},easeOutCirc:function(t,e,i,n,a){return n*Math.sqrt(1-(e=e/a-1)*e)+i},easeInOutCirc:function(t,e,i,n,a){return(e/=a/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+i:n/2*(Math.sqrt(1-(e-=2)*e)+1)+i},easeInElastic:function(t,e,i,n,a){var s=1.70158,h=0,r=n;if(0==e)return i;if(1==(e/=a))return i+n;if(h||(h=.3*a),r<Math.abs(n)){r=n;s=h/4}else s=h/(2*Math.PI)*Math.asin(n/r);return-r*Math.pow(2,10*(e-=1))*Math.sin((e*a-s)*(2*Math.PI)/h)+i},easeOutElastic:function(t,e,i,n,a){var s=1.70158,h=0,r=n;if(0==e)return i;if(1==(e/=a))return i+n;if(h||(h=.3*a),r<Math.abs(n)){r=n;s=h/4}else s=h/(2*Math.PI)*Math.asin(n/r);return r*Math.pow(2,-10*e)*Math.sin((e*a-s)*(2*Math.PI)/h)+n+i},easeInOutElastic:function(t,e,i,n,a){var s=1.70158,h=0,r=n;if(0==e)return i;if(2==(e/=a/2))return i+n;if(h||(h=a*(.3*1.5)),r<Math.abs(n)){r=n;s=h/4}else s=h/(2*Math.PI)*Math.asin(n/r);return e<1?r*Math.pow(2,10*(e-=1))*Math.sin((e*a-s)*(2*Math.PI)/h)*-.5+i:r*Math.pow(2,-10*(e-=1))*Math.sin((e*a-s)*(2*Math.PI)/h)*.5+n+i},easeInBack:function(t,e,i,n,a,s){return null==s&&(s=1.70158),n*(e/=a)*e*((s+1)*e-s)+i},easeOutBack:function(t,e,i,n,a,s){return null==s&&(s=1.70158),n*((e=e/a-1)*e*((s+1)*e+s)+1)+i},easeInOutBack:function(t,e,i,n,a,s){return null==s&&(s=1.70158),(e/=a/2)<1?n/2*(e*e*((1+(s*=1.525))*e-s))+i:n/2*((e-=2)*e*((1+(s*=1.525))*e+s)+2)+i},easeInBounce:function(t,e,i,n,a){return n-$.easing.easeOutBounce(t,a-e,0,n,a)+i},easeOutBounce:function(t,e,i,n,a){return(e/=a)<1/2.75?n*(7.5625*e*e)+i:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+i:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+i:n*(7.5625*(e-=2.625/2.75)*e+.984375)+i},easeInOutBounce:function(t,e,i,n,a){return e<a/2?.5*$.easing.easeInBounce(t,2*e,0,n,a)+i:.5*$.easing.easeOutBounce(t,2*e-a,0,n,a)+.5*n+i}});