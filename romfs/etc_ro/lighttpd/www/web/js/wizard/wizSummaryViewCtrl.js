/* svn info: $Revision: 1399 $ $Date: 2019-04-22 14:31:12 +0800 (Mon, 22 Apr 2019) $ */
define(["wizPath/wizardModel","wizPath/wizardView"],function(r,e){var a,c;function i(e){return a=$.Deferred(),c=e,function(){"WirelessRepeaterExtender"!=c.opMode?$("#Wizard7_APC_heading, #Wizard7_APC").hide():($("#Wizard7_APC_heading, #Wizard7_APC").show(),$("#Wizard7_APCSSID").html(HTMLEncode(c.apcSSID)),$("#Wizard7_APCKey").html(HTMLEncode(c.apcPWD)));$("#Wizard7_SSID").html(HTMLEncode(c.apSSID)),$("#Wizard7_Key").html(c.apPWD),$("#Wizard7_Admin_Pwd").html(HTMLEncode(c.password))}(),$("#wizard_title").html(I18N("j","Configuration")),$("#Wizard7").show(),$("#wizButton_back").blur().off("click").on("click",function(){a.resolve("back")}),$("#wizButton_next").blur().html(I18N("j","Finish")).off("click").on("click",function(){!function(){var e=I18N("j","Your changes are being saved, please wait..."),i=I18N("j","The new settings have been saved."),n=currentDevice.wizardCountdown;a.notify("done");var o=r.storeWizDeviceInfo(c),t=PopView.showWithCountdown(e,n);$.when(o,t).always(function(){PopView.showConfirm(i).done(function(){a.resolve("done")})})}()}),$("#closeWizBtn").off("vclick").on("vclick",function(){a.reject()}),a.promise()}return{init:function(e){return i(e)}}});