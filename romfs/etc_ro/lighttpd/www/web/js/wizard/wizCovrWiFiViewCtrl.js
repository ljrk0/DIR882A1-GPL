/* svn info: $Revision: 847 $ $Date: 2018-06-06 18:37:11 +0800 (Wed, 06 Jun 2018) $ */
define(["wizPath/wizardViewController","wizPath/wizardModel","wizPath/wizardView"],function(i,e,t){var r,a,w=null,n=null,l=null;function o(i){var e,t,n,o;return r=$.Deferred(),i,null!=a&&a.stop(),$("#wizard_title").html("Install The Covr Extender"),$("#Wizard8").show(),$("#wizard8_scan").show(),$("#wizard8_success").hide(),$("#wizard8_fail").hide(),$("#wizard8_scan_text").find("span").html("30"),a=CreateSpinnerObj("wizard8_SurveySpinner2",opts),$("#wizButton_back").hide(),$("#wizButton_next").hide(),-1==wizardCovrwifi&&($("#wizButton_back").html("Skip Covr Setting"),$("#wizButton_next").html(I18N("j","Retry")),$("#wizard8_scan").hide(),$("#wizard8_success").hide(),$("#wizard8_fail").show(),$("#wizButton_back").show(),$("#wizButton_next").show()),$("#wizButton_back").off("click").on("click",function(){wizardCovrwifi=-1,c()}),$("#wizButton_next").off("click").on("click",function(){"none"==$("#wizard8_success").css("display")?(s(),r.resolve("wps")):(wizardCovrwifi=1,c())}),$("#closeWizBtn").off("vclick").on("vclick",function(){$("#WizardSection").hide(),$("#CreatePopAlertMessage_wizard").show(),$(".closewizard_cancel").on("click",function(){$("#WizardSection").show(),$("#CreatePopAlertMessage_wizard").hide()}),$(".closewizard_ok").on("click",function(){$("#CreatePopAlertMessage_wizard").hide(),null==hometimer&&(initHomeViewController(!1),hometimer=setInterval("initHomeViewController(false)",5e3)),null==hometimer2&&(Get_ClientInfo(),hometimer2=setInterval("Get_ClientInfo()",6e3)),null==hometimer3&&(GetXMLPLC(),hometimer3=setInterval("GetXMLPLC()",6e3)),s(),r.reject()})}),0!=wizardCovrwifi&&1!=wizardCovrwifi||(e=30,t=0,n=new SOAPGetWiFiSONSettingsResponse,o=new SOAPAction,l=setInterval(function(){o.sendSOAPAction("GetWiFiSONSettings",null,n).done(function(i){t="true"==i.WiFiSONStatus?1:-1}).fail(function(){t=-1})},1500),w=setInterval(function(){0<e?(e--,$("#wizard8_scan_text").find("span").html(e),1==t&&(s(),$("#wizButton_next").html(I18N("j","Next")),$("#wizard8_scan").hide(),$("#wizard8_success").show(),$("#wizard8_fail").hide(),$("#wizButton_back").hide(),$("#wizButton_next").show())):(s(),t<0?($("#wizButton_back").html("Skip Covr Setting"),$("#wizButton_next").html(I18N("j","Retry")),$("#wizard8_scan").hide(),$("#wizard8_success").hide(),$("#wizard8_fail").show(),$("#wizButton_back").show()):($("#wizButton_next").html(I18N("j","Next")),$("#wizard8_scan").hide(),$("#wizard8_success").show(),$("#wizard8_fail").hide(),$("#wizButton_back").hide()),$("#wizButton_next").show())},1e3)),r.promise()}function c(){s(),r.resolve("wifi")}function s(){clearInterval(n),clearInterval(w),clearInterval(l)}return{init:function(i){return o(i)}}});