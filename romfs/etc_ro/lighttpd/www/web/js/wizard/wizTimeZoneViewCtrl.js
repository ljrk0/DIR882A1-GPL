/* svn info: $Revision: 1449 $ $Date: 2019-05-10 21:23:01 +0800 (Fri, 10 May 2019) $ */
define(["wizPath/wizardModel","wizPath/wizardView"],function(e,r){var t,o,n=null;function i(e){return t=$.Deferred(),o=e,$("#wizard_title").html(I18N("j","Time Zone")),$("#DUT").attr("src","image/Device_yellow.png"),$("#Wizard8").show(),$("#wizButton_back").blur().off("click").on("click",function(){t.resolve("back")}),$("#wizButton_next").blur().off("click").on("click",function(){$("#Time_form").submit()}),$("#closeWizBtn").off("vclick").on("vclick",function(){t.reject()}),function(){null!=n&&n.resetForm();$.validator.addMethod("checkTimezone",function(e,r){var t=!1;e=e.toLowerCase();for(var o=0;o<countryCity.length;o++)if(countryCity[o].toLowerCase()==e&&""!=e){t=!0;break}return t},I18N("j","Some essential features require you to set a time zone to work properly. Please select your time zone from the drop-down menu.")),n=$("#Time_form").validate({rules:{timeZone_Search:{checkTimezone:!0}},submitHandler:function(e){return o.ianaTimeZone=$("#timeZone_Search").val(),currentDevice.featureAutoUpgrade?t.resolve("autoUpgrade"):t.resolve("summary"),!1},skipBr:function(e){var r=e.parent("div");return 0!=r.length}})}(),t.promise()}return{init:function(e){return i(e)}}});